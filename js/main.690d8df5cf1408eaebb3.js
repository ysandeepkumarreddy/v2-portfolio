/*! For license information please see main.690d8df5cf1408eaebb3.js.LICENSE.txt */
!function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/",i(i.s=13)}([function(t,e){function i(){}i.prototype={on:function(t,e,i){var n=this.e||(this.e={});return(n[t]||(n[t]=[])).push({fn:e,ctx:i}),this},once:function(t,e,i){var n=this;function s(){n.off(t,s),e.apply(i,arguments)}return s._=e,this.on(t,s,i)},emit:function(t){for(var e=[].slice.call(arguments,1),i=((this.e||(this.e={}))[t]||[]).slice(),n=0,s=i.length;n<s;n++)i[n].fn.apply(i[n].ctx,e);return this},off:function(t,e){var i=this.e||(this.e={}),n=i[t],s=[];if(n&&e)for(var r=0,o=n.length;r<o;r++)n[r].fn!==e&&n[r].fn._!==e&&s.push(n[r]);return s.length?i[t]=s:delete i[t],this}},t.exports=i},function(t,e,i){!function(e,i){var n=function(t,e,i){"use strict";var n,s;if(function(){var e,i={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",fastLoadedClass:"ls-is-cached",iframeLoadMode:0,srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};for(e in s=t.lazySizesConfig||t.lazysizesConfig||{},i)e in s||(s[e]=i[e])}(),!e||!e.getElementsByClassName)return{init:function(){},cfg:s,noSupport:!0};var r=e.documentElement,o=t.HTMLPictureElement,a="addEventListener",l="getAttribute",u=t[a].bind(t),h=t.setTimeout,c=t.requestAnimationFrame||h,d=t.requestIdleCallback,p=/^picture$/i,f=["load","error","lazyincluded","_lazyloaded"],m={},g=Array.prototype.forEach,y=function(t,e){return m[e]||(m[e]=new RegExp("(\\s|^)"+e+"(\\s|$)")),m[e].test(t[l]("class")||"")&&m[e]},v=function(t,e){y(t,e)||t.setAttribute("class",(t[l]("class")||"").trim()+" "+e)},b=function(t,e){var i;(i=y(t,e))&&t.setAttribute("class",(t[l]("class")||"").replace(i," "))},D=function(t,e,i){var n=i?a:"removeEventListener";i&&D(t,e),f.forEach((function(i){t[n](i,e)}))},w=function(t,i,s,r,o){var a=e.createEvent("Event");return s||(s={}),s.instance=n,a.initEvent(i,!r,!o),a.detail=s,t.dispatchEvent(a),a},_=function(e,i){var n;!o&&(n=t.picturefill||s.pf)?(i&&i.src&&!e[l]("srcset")&&e.setAttribute("srcset",i.src),n({reevaluate:!0,elements:[e]})):i&&i.src&&(e.src=i.src)},E=function(t,e){return(getComputedStyle(t,null)||{})[e]},x=function(t,e,i){for(i=i||t.offsetWidth;i<s.minSize&&e&&!t._lazysizesWidth;)i=e.offsetWidth,e=e.parentNode;return i},C=(vt=[],bt=[],Dt=vt,wt=function(){var t=Dt;for(Dt=vt.length?bt:vt,gt=!0,yt=!1;t.length;)t.shift()();gt=!1},_t=function(t,i){gt&&!i?t.apply(this,arguments):(Dt.push(t),yt||(yt=!0,(e.hidden?h:c)(wt)))},_t._lsFlush=wt,_t),T=function(t,e){return e?function(){C(t)}:function(){var e=this,i=arguments;C((function(){t.apply(e,i)}))}},k=function(t){var e,n=0,r=s.throttleDelay,o=s.ricTimeout,a=function(){e=!1,n=i.now(),t()},l=d&&o>49?function(){d(a,{timeout:o}),o!==s.ricTimeout&&(o=s.ricTimeout)}:T((function(){h(a)}),!0);return function(t){var s;(t=!0===t)&&(o=33),e||(e=!0,(s=r-(i.now()-n))<0&&(s=0),t||s<9?l():h(l,s))}},A=function(t){var e,n,s=99,r=function(){e=null,t()},o=function(){var t=i.now()-n;t<s?h(o,s-t):(d||r)(r)};return function(){n=i.now(),e||(e=h(o,s))}},M=($=/^img$/i,G=/^iframe$/i,K="onscroll"in t&&!/(gle|ing)bot/.test(navigator.userAgent),Q=0,Z=0,J=0,tt=-1,et=function(t){J--,(!t||J<0||!t.target)&&(J=0)},it=function(t){return null==Y&&(Y="hidden"==E(e.body,"visibility")),Y||!("hidden"==E(t.parentNode,"visibility")&&"hidden"==E(t,"visibility"))},nt=function(t,i){var n,s=t,o=it(t);for(U-=i,X+=i,W-=i,H+=i;o&&(s=s.offsetParent)&&s!=e.body&&s!=r;)(o=(E(s,"opacity")||1)>0)&&"visible"!=E(s,"overflow")&&(n=s.getBoundingClientRect(),o=H>n.left&&W<n.right&&X>n.top-1&&U<n.bottom+1);return o},st=function(){var t,i,o,a,u,h,c,d,p,f,m,g,y=n.elements;if((B=s.loadMode)&&J<8&&(t=y.length)){for(i=0,tt++;i<t;i++)if(y[i]&&!y[i]._lazyRace)if(!K||n.prematureUnveil&&n.prematureUnveil(y[i]))dt(y[i]);else if((d=y[i][l]("data-expand"))&&(h=1*d)||(h=Z),f||(f=!s.expand||s.expand<1?r.clientHeight>500&&r.clientWidth>500?500:370:s.expand,n._defEx=f,m=f*s.expFactor,g=s.hFac,Y=null,Z<m&&J<1&&tt>2&&B>2&&!e.hidden?(Z=m,tt=0):Z=B>1&&tt>1&&J<6?f:Q),p!==h&&(q=innerWidth+h*g,V=innerHeight+h,c=-1*h,p=h),o=y[i].getBoundingClientRect(),(X=o.bottom)>=c&&(U=o.top)<=V&&(H=o.right)>=c*g&&(W=o.left)<=q&&(X||H||W||U)&&(s.loadHidden||it(y[i]))&&(N&&J<3&&!d&&(B<3||tt<4)||nt(y[i],h))){if(dt(y[i]),u=!0,J>9)break}else!u&&N&&!a&&J<4&&tt<4&&B>2&&(I[0]||s.preloadAfterLoad)&&(I[0]||!d&&(X||H||W||U||"auto"!=y[i][l](s.sizesAttr)))&&(a=I[0]||y[i]);a&&!u&&dt(a)}},rt=k(st),ot=function(t){var e=t.target;e._lazyCache?delete e._lazyCache:(et(t),v(e,s.loadedClass),b(e,s.loadingClass),D(e,lt),w(e,"lazyloaded"))},at=T(ot),lt=function(t){at({target:t.target})},ut=function(t,e){var i=t.getAttribute("data-load-mode")||s.iframeLoadMode;0==i?t.contentWindow.location.replace(e):1==i&&(t.src=e)},ht=function(t){var e,i=t[l](s.srcsetAttr);(e=s.customMedia[t[l]("data-media")||t[l]("media")])&&t.setAttribute("media",e),i&&t.setAttribute("srcset",i)},ct=T((function(t,e,i,n,r){var o,a,u,c,d,f;(d=w(t,"lazybeforeunveil",e)).defaultPrevented||(n&&(i?v(t,s.autosizesClass):t.setAttribute("sizes",n)),a=t[l](s.srcsetAttr),o=t[l](s.srcAttr),r&&(c=(u=t.parentNode)&&p.test(u.nodeName||"")),f=e.firesLoad||"src"in t&&(a||o||c),d={target:t},v(t,s.loadingClass),f&&(clearTimeout(R),R=h(et,2500),D(t,lt,!0)),c&&g.call(u.getElementsByTagName("source"),ht),a?t.setAttribute("srcset",a):o&&!c&&(G.test(t.nodeName)?ut(t,o):t.src=o),r&&(a||c)&&_(t,{src:o})),t._lazyRace&&delete t._lazyRace,b(t,s.lazyClass),C((function(){var e=t.complete&&t.naturalWidth>1;f&&!e||(e&&v(t,s.fastLoadedClass),ot(d),t._lazyCache=!0,h((function(){"_lazyCache"in t&&delete t._lazyCache}),9)),"lazy"==t.loading&&J--}),!0)})),dt=function(t){if(!t._lazyRace){var e,i=$.test(t.nodeName),n=i&&(t[l](s.sizesAttr)||t[l]("sizes")),r="auto"==n;(!r&&N||!i||!t[l]("src")&&!t.srcset||t.complete||y(t,s.errorClass)||!y(t,s.lazyClass))&&(e=w(t,"lazyunveilread").detail,r&&F.updateElem(t,!0,t.offsetWidth),t._lazyRace=!0,J++,ct(t,e,r,n,i))}},pt=A((function(){s.loadMode=3,rt()})),ft=function(){3==s.loadMode&&(s.loadMode=2),pt()},mt=function(){N||(i.now()-j<999?h(mt,999):(N=!0,s.loadMode=3,rt(),u("scroll",ft,!0)))},{_:function(){j=i.now(),n.elements=e.getElementsByClassName(s.lazyClass),I=e.getElementsByClassName(s.lazyClass+" "+s.preloadClass),u("scroll",rt,!0),u("resize",rt,!0),u("pageshow",(function(t){if(t.persisted){var i=e.querySelectorAll("."+s.loadingClass);i.length&&i.forEach&&c((function(){i.forEach((function(t){t.complete&&dt(t)}))}))}})),t.MutationObserver?new MutationObserver(rt).observe(r,{childList:!0,subtree:!0,attributes:!0}):(r[a]("DOMNodeInserted",rt,!0),r[a]("DOMAttrModified",rt,!0),setInterval(rt,999)),u("hashchange",rt,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach((function(t){e[a](t,rt,!0)})),/d$|^c/.test(e.readyState)?mt():(u("load",mt),e[a]("DOMContentLoaded",rt),h(mt,2e4)),n.elements.length?(st(),C._lsFlush()):rt()},checkElems:rt,unveil:dt,_aLSL:ft}),F=(O=T((function(t,e,i,n){var s,r,o;if(t._lazysizesWidth=n,n+="px",t.setAttribute("sizes",n),p.test(e.nodeName||""))for(r=0,o=(s=e.getElementsByTagName("source")).length;r<o;r++)s[r].setAttribute("sizes",n);i.detail.dataAttr||_(t,i.detail)})),L=function(t,e,i){var n,s=t.parentNode;s&&(i=x(t,s,i),(n=w(t,"lazybeforesizes",{width:i,dataAttr:!!e})).defaultPrevented||(i=n.detail.width)&&i!==t._lazysizesWidth&&O(t,s,n,i))},z=A((function(){var t,e=P.length;if(e)for(t=0;t<e;t++)L(P[t])})),{_:function(){P=e.getElementsByClassName(s.autosizesClass),u("resize",z)},checkElems:z,updateElem:L}),S=function(){!S.i&&e.getElementsByClassName&&(S.i=!0,F._(),M._())};var P,O,L,z;var I,N,R,B,j,q,V,U,W,H,X,Y,$,G,K,Q,Z,J,tt,et,it,nt,st,rt,ot,at,lt,ut,ht,ct,dt,pt,ft,mt;var gt,yt,vt,bt,Dt,wt,_t;return h((function(){s.init&&S()})),n={cfg:s,autoSizer:F,loader:M,init:S,uP:_,aC:v,rC:b,hC:y,fire:w,gW:x,rAF:C}}(e,e.document,Date);e.lazySizes=n,t.exports&&(t.exports=n)}("undefined"!=typeof window?window:{})},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){(function(e){var i=/^\s+|\s+$/g,n=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,r=/^0o[0-7]+$/i,o=parseInt,a="object"==typeof e&&e&&e.Object===Object&&e,l="object"==typeof self&&self&&self.Object===Object&&self,u=a||l||Function("return this")(),h=Object.prototype.toString,c=Math.max,d=Math.min,p=function(){return u.Date.now()};function f(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function m(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==h.call(t)}(t))return NaN;if(f(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=f(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(i,"");var a=s.test(t);return a||r.test(t)?o(t.slice(2),a?2:8):n.test(t)?NaN:+t}t.exports=function(t,e,i){var n,s,r,o,a,l,u=0,h=!1,g=!1,y=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function v(e){var i=n,r=s;return n=s=void 0,u=e,o=t.apply(r,i)}function b(t){return u=t,a=setTimeout(w,e),h?v(t):o}function D(t){var i=t-l;return void 0===l||i>=e||i<0||g&&t-u>=r}function w(){var t=p();if(D(t))return _(t);a=setTimeout(w,function(t){var i=e-(t-l);return g?d(i,r-(t-u)):i}(t))}function _(t){return a=void 0,y&&n?v(t):(n=s=void 0,o)}function E(){var t=p(),i=D(t);if(n=arguments,s=this,l=t,i){if(void 0===a)return b(l);if(g)return a=setTimeout(w,e),v(l)}return void 0===a&&(a=setTimeout(w,e)),o}return e=m(e)||0,f(i)&&(h=!!i.leading,r=(g="maxWait"in i)?c(m(i.maxWait)||0,e):r,y="trailing"in i?!!i.trailing:y),E.cancel=function(){void 0!==a&&clearTimeout(a),u=0,n=l=s=a=void 0},E.flush=function(){return void 0===a?o:_(p())},E}}).call(this,i(2))},function(t,e,i){"use strict";var n=i(7),s=i(0),r=i(8).Lethargy,o=i(9),a=(i(10),i(11)),l="virtualscroll";t.exports=f;var u=37,h=38,c=39,d=40,p=32;function f(t){a(this,"_onWheel","_onMouseWheel","_onTouchStart","_onTouchMove","_onKeyDown"),this.el=window,t&&t.el&&(this.el=t.el,delete t.el),this.options=n({mouseMultiplier:1,touchMultiplier:2,firefoxMultiplier:15,keyStep:120,preventTouch:!1,unpreventTouchClass:"vs-touchmove-allowed",limitInertia:!1,useKeyboard:!0,useTouch:!0},t),this.options.limitInertia&&(this._lethargy=new r),this._emitter=new s,this._event={y:0,x:0,deltaX:0,deltaY:0},this.touchStartX=null,this.touchStartY=null,this.bodyTouchAction=null,void 0!==this.options.passive&&(this.listenerOptions={passive:this.options.passive})}f.prototype._notify=function(t){var e=this._event;e.x+=e.deltaX,e.y+=e.deltaY,this._emitter.emit(l,{x:e.x,y:e.y,deltaX:e.deltaX,deltaY:e.deltaY,originalEvent:t})},f.prototype._onWheel=function(t){var e=this.options;if(!this._lethargy||!1!==this._lethargy.check(t)){var i=this._event;i.deltaX=t.wheelDeltaX||-1*t.deltaX,i.deltaY=t.wheelDeltaY||-1*t.deltaY,o.isFirefox&&1==t.deltaMode&&(i.deltaX*=e.firefoxMultiplier,i.deltaY*=e.firefoxMultiplier),i.deltaX*=e.mouseMultiplier,i.deltaY*=e.mouseMultiplier,this._notify(t)}},f.prototype._onMouseWheel=function(t){if(!this.options.limitInertia||!1!==this._lethargy.check(t)){var e=this._event;e.deltaX=t.wheelDeltaX?t.wheelDeltaX:0,e.deltaY=t.wheelDeltaY?t.wheelDeltaY:t.wheelDelta,this._notify(t)}},f.prototype._onTouchStart=function(t){var e=t.targetTouches?t.targetTouches[0]:t;this.touchStartX=e.pageX,this.touchStartY=e.pageY},f.prototype._onTouchMove=function(t){var e=this.options;e.preventTouch&&!t.target.classList.contains(e.unpreventTouchClass)&&t.preventDefault();var i=this._event,n=t.targetTouches?t.targetTouches[0]:t;i.deltaX=(n.pageX-this.touchStartX)*e.touchMultiplier,i.deltaY=(n.pageY-this.touchStartY)*e.touchMultiplier,this.touchStartX=n.pageX,this.touchStartY=n.pageY,this._notify(t)},f.prototype._onKeyDown=function(t){var e=this._event;e.deltaX=e.deltaY=0;var i=window.innerHeight-40;switch(t.keyCode){case u:case h:e.deltaY=this.options.keyStep;break;case c:case d:e.deltaY=-this.options.keyStep;break;case p&&t.shiftKey:e.deltaY=i;break;case p:e.deltaY=-i;break;default:return}this._notify(t)},f.prototype._bind=function(){o.hasWheelEvent&&this.el.addEventListener("wheel",this._onWheel,this.listenerOptions),o.hasMouseWheelEvent&&this.el.addEventListener("mousewheel",this._onMouseWheel,this.listenerOptions),o.hasTouch&&this.options.useTouch&&(this.el.addEventListener("touchstart",this._onTouchStart,this.listenerOptions),this.el.addEventListener("touchmove",this._onTouchMove,this.listenerOptions)),o.hasPointer&&o.hasTouchWin&&(this.bodyTouchAction=document.body.style.msTouchAction,document.body.style.msTouchAction="none",this.el.addEventListener("MSPointerDown",this._onTouchStart,!0),this.el.addEventListener("MSPointerMove",this._onTouchMove,!0)),o.hasKeyDown&&this.options.useKeyboard&&document.addEventListener("keydown",this._onKeyDown)},f.prototype._unbind=function(){o.hasWheelEvent&&this.el.removeEventListener("wheel",this._onWheel),o.hasMouseWheelEvent&&this.el.removeEventListener("mousewheel",this._onMouseWheel),o.hasTouch&&(this.el.removeEventListener("touchstart",this._onTouchStart),this.el.removeEventListener("touchmove",this._onTouchMove)),o.hasPointer&&o.hasTouchWin&&(document.body.style.msTouchAction=this.bodyTouchAction,this.el.removeEventListener("MSPointerDown",this._onTouchStart,!0),this.el.removeEventListener("MSPointerMove",this._onTouchMove,!0)),o.hasKeyDown&&this.options.useKeyboard&&document.removeEventListener("keydown",this._onKeyDown)},f.prototype.on=function(t,e){this._emitter.on(l,t,e);var i=this._emitter.e;i&&i[l]&&1===i[l].length&&this._bind()},f.prototype.off=function(t,e){this._emitter.off(l,t,e);var i=this._emitter.e;(!i[l]||i[l].length<=0)&&this._unbind()},f.prototype.reset=function(){var t=this._event;t.x=0,t.y=0},f.prototype.destroy=function(){this._emitter.off(),this._unbind()}},function(t,e,i){(function(e){"object"==typeof navigator&&(t.exports=function(){"use strict";function t(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function i(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function s(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function r(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?s(Object(i),!0).forEach((function(e){n(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var o={addCSS:!0,thumbWidth:15,watch:!0};function a(t,e){return function(){return Array.from(document.querySelectorAll(e)).includes(this)}.call(t,e)}var l=function(t){return null!=t?t.constructor:null},u=function(t,e){return!!(t&&e&&t instanceof e)},h=function(t){return null==t},c=function(t){return l(t)===Object},d=function(t){return l(t)===String},p=function(t){return Array.isArray(t)},f=function(t){return u(t,NodeList)},m=d,g=p,y=f,v=function(t){return u(t,Element)},b=function(t){return u(t,Event)},D=function(t){return h(t)||(d(t)||p(t)||f(t))&&!t.length||c(t)&&!Object.keys(t).length};function w(t,e){if(1>e){var i=function(t){var e="".concat(t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0}(e);return parseFloat(t.toFixed(i))}return Math.round(t/e)*e}var _=function(){function t(e,i){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),v(e)?this.element=e:m(e)&&(this.element=document.querySelector(e)),v(this.element)&&D(this.element.rangeTouch)&&(this.config=r({},o,{},i),this.init())}return function(t,e,n){e&&i(t.prototype,e),n&&i(t,n)}(t,[{key:"init",value:function(){t.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}},{key:"destroy",value:function(){t.enabled&&(this.config.addCSS&&(this.element.style.userSelect="",this.element.style.webKitUserSelect="",this.element.style.touchAction=""),this.listeners(!1),this.element.rangeTouch=null)}},{key:"listeners",value:function(t){var e=this,i=t?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach((function(t){e.element[i](t,(function(t){return e.set(t)}),!1)}))}},{key:"get",value:function(e){if(!t.enabled||!b(e))return null;var i,n=e.target,s=e.changedTouches[0],r=parseFloat(n.getAttribute("min"))||0,o=parseFloat(n.getAttribute("max"))||100,a=parseFloat(n.getAttribute("step"))||1,l=n.getBoundingClientRect(),u=100/l.width*(this.config.thumbWidth/2)/100;return 0>(i=100/l.width*(s.clientX-l.left))?i=0:100<i&&(i=100),50>i?i-=(100-2*i)*u:50<i&&(i+=2*(i-50)*u),r+w(i/100*(o-r),a)}},{key:"set",value:function(e){t.enabled&&b(e)&&!e.target.disabled&&(e.preventDefault(),e.target.value=this.get(e),function(t,e){if(t&&e){var i=new Event(e,{bubbles:!0});t.dispatchEvent(i)}}(e.target,"touchend"===e.type?"change":"input"))}}],[{key:"setup",value:function(e){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=null;if(D(e)||m(e)?n=Array.from(document.querySelectorAll(m(e)?e:'input[type="range"]')):v(e)?n=[e]:y(e)?n=Array.from(e):g(e)&&(n=e.filter(v)),D(n))return null;var s=r({},o,{},i);return m(e)&&s.watch&&new MutationObserver((function(i){Array.from(i).forEach((function(i){Array.from(i.addedNodes).forEach((function(i){v(i)&&a(i,e)&&new t(i,s)}))}))})).observe(document.body,{childList:!0,subtree:!0}),n.map((function(e){return new t(e,i)}))}},{key:"enabled",get:function(){return"ontouchstart"in document.documentElement}}]),t}();const E=t=>null!=t?t.constructor:null,x=(t,e)=>Boolean(t&&e&&t instanceof e),C=t=>null==t,T=t=>E(t)===Object,k=t=>E(t)===String,A=t=>E(t)===Function,M=t=>Array.isArray(t),F=t=>x(t,NodeList),S=t=>C(t)||(k(t)||M(t)||F(t))&&!t.length||T(t)&&!Object.keys(t).length;var P=C,O=T,L=t=>E(t)===Number&&!Number.isNaN(t),z=k,I=t=>E(t)===Boolean,N=A,R=M,B=F,j=t=>null!==t&&"object"==typeof t&&1===t.nodeType&&"object"==typeof t.style&&"object"==typeof t.ownerDocument,q=t=>x(t,Event),V=t=>x(t,KeyboardEvent),U=t=>x(t,TextTrack)||!C(t)&&k(t.kind),W=t=>x(t,Promise)&&A(t.then),H=t=>{if(x(t,window.URL))return!0;if(!k(t))return!1;let e=t;t.startsWith("http://")&&t.startsWith("https://")||(e="http://"+t);try{return!S(new URL(e).hostname)}catch(t){return!1}},X=S;const Y=(()=>{const t=document.createElement("span"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},i=Object.keys(e).find(e=>void 0!==t.style[e]);return!!z(i)&&e[i]})();function $(t,e){setTimeout(()=>{try{t.hidden=!0,t.offsetHeight,t.hidden=!1}catch(t){}},e)}const G={isIE:Boolean(window.document.documentMode),isEdge:window.navigator.userAgent.includes("Edge"),isWebkit:"WebkitAppearance"in document.documentElement.style&&!/Edge/.test(navigator.userAgent),isIPhone:/(iPhone|iPod)/gi.test(navigator.platform),isIos:/(iPad|iPhone|iPod)/gi.test(navigator.platform)};function K(t,e){return e.split(".").reduce((t,e)=>t&&t[e],t)}function Q(t={},...e){if(!e.length)return t;const i=e.shift();return O(i)?(Object.keys(i).forEach(e=>{O(i[e])?(Object.keys(t).includes(e)||Object.assign(t,{[e]:{}}),Q(t[e],i[e])):Object.assign(t,{[e]:i[e]})}),Q(t,...e)):t}function Z(t,e){const i=t.length?t:[t];Array.from(i).reverse().forEach((t,i)=>{const n=i>0?e.cloneNode(!0):e,s=t.parentNode,r=t.nextSibling;n.appendChild(t),r?s.insertBefore(n,r):s.appendChild(n)})}function J(t,e){j(t)&&!X(e)&&Object.entries(e).filter(([,t])=>!P(t)).forEach(([e,i])=>t.setAttribute(e,i))}function tt(t,e,i){const n=document.createElement(t);return O(e)&&J(n,e),z(i)&&(n.innerText=i),n}function et(t,e,i,n){j(e)&&e.appendChild(tt(t,i,n))}function it(t){B(t)||R(t)?Array.from(t).forEach(it):j(t)&&j(t.parentNode)&&t.parentNode.removeChild(t)}function nt(t){if(!j(t))return;let{length:e}=t.childNodes;for(;e>0;)t.removeChild(t.lastChild),e-=1}function st(t,e){return j(e)&&j(e.parentNode)&&j(t)?(e.parentNode.replaceChild(t,e),t):null}function rt(t,e){if(!z(t)||X(t))return{};const i={},n=Q({},e);return t.split(",").forEach(t=>{const e=t.trim(),s=e.replace(".",""),r=e.replace(/[[\]]/g,"").split("="),[o]=r,a=r.length>1?r[1].replace(/["']/g,""):"";switch(e.charAt(0)){case".":z(n.class)?i.class=`${n.class} ${s}`:i.class=s;break;case"#":i.id=e.replace("#","");break;case"[":i[o]=a}}),Q(n,i)}function ot(t,e){if(!j(t))return;let i=e;I(i)||(i=!t.hidden),t.hidden=i}function at(t,e,i){if(B(t))return Array.from(t).map(t=>at(t,e,i));if(j(t)){let n="toggle";return void 0!==i&&(n=i?"add":"remove"),t.classList[n](e),t.classList.contains(e)}return!1}function lt(t,e){return j(t)&&t.classList.contains(e)}function ut(t,e){const{prototype:i}=Element;return(i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||function(){return Array.from(document.querySelectorAll(e)).includes(this)}).call(t,e)}function ht(t){return this.elements.container.querySelectorAll(t)}function ct(t){return this.elements.container.querySelector(t)}function dt(t=null,e=!1){j(t)&&(t.focus({preventScroll:!0}),e&&at(t,this.config.classNames.tabFocus))}const pt={"audio/ogg":"vorbis","audio/wav":"1","video/webm":"vp8, vorbis","video/mp4":"avc1.42E01E, mp4a.40.2","video/ogg":"theora"},ft={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check(t,e,i){const n=G.isIPhone&&i&&ft.playsinline,s=ft[t]||"html5"!==e;return{api:s,ui:s&&ft.rangeInput&&("video"!==t||!G.isIPhone||n)}},pip:!(G.isIPhone||!N(tt("video").webkitSetPresentationMode)&&(!document.pictureInPictureEnabled||tt("video").disablePictureInPicture)),airplay:N(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime(t){if(X(t))return!1;const[e]=t.split("/");let i=t;if(!this.isHTML5||e!==this.type)return!1;Object.keys(pt).includes(i)&&(i+=`; codecs="${pt[t]}"`);try{return Boolean(i&&this.media.canPlayType(i).replace(/no/,""))}catch(t){return!1}},textTracks:"textTracks"in document.createElement("video"),rangeInput:(()=>{const t=document.createElement("input");return t.type="range","range"===t.type})(),touch:"ontouchstart"in document.documentElement,transitions:!1!==Y,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},mt=(()=>{let t=!1;try{const e=Object.defineProperty({},"passive",{get:()=>(t=!0,null)});window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(t){}return t})();function gt(t,e,i,n=!1,s=!0,r=!1){if(!t||!("addEventListener"in t)||X(e)||!N(i))return;const o=e.split(" ");let a=r;mt&&(a={passive:s,capture:r}),o.forEach(e=>{this&&this.eventListeners&&n&&this.eventListeners.push({element:t,type:e,callback:i,options:a}),t[n?"addEventListener":"removeEventListener"](e,i,a)})}function yt(t,e="",i,n=!0,s=!1){gt.call(this,t,e,i,!0,n,s)}function vt(t,e="",i,n=!0,s=!1){gt.call(this,t,e,i,!1,n,s)}function bt(t,e="",i,n=!0,s=!1){const r=(...o)=>{vt(t,e,r,n,s),i.apply(this,o)};gt.call(this,t,e,r,!0,n,s)}function Dt(t,e="",i=!1,n={}){if(!j(t)||X(e))return;const s=new CustomEvent(e,{bubbles:i,detail:{...n,plyr:this}});t.dispatchEvent(s)}function wt(){this&&this.eventListeners&&(this.eventListeners.forEach(t=>{const{element:e,type:i,callback:n,options:s}=t;e.removeEventListener(i,n,s)}),this.eventListeners=[])}function _t(){return new Promise(t=>this.ready?setTimeout(t,0):yt.call(this,this.elements.container,"ready",t)).then(()=>{})}function Et(t){W(t)&&t.then(null,()=>{})}function xt(t){return R(t)?t.filter((e,i)=>t.indexOf(e)===i):t}function Ct(t,e){return R(t)&&t.length?t.reduce((t,i)=>Math.abs(i-e)<Math.abs(t-e)?i:t):null}const Tt=[[1,1],[4,3],[3,4],[5,4],[4,5],[3,2],[2,3],[16,10],[10,16],[16,9],[9,16],[21,9],[9,21],[32,9],[9,32]].reduce((t,[e,i])=>({...t,[e/i]:[e,i]}),{});function kt(t){return!!(R(t)||z(t)&&t.includes(":"))&&(R(t)?t:t.split(":")).map(Number).every(L)}function At(t){if(!R(t)||!t.every(L))return null;const[e,i]=t,n=(t,e)=>0===e?t:n(e,t%e),s=n(e,i);return[e/s,i/s]}function Mt(t){const e=t=>kt(t)?t.split(":").map(Number):null;let i=e(t);if(null===i&&(i=e(this.config.ratio)),null===i&&!X(this.embed)&&R(this.embed.ratio)&&({ratio:i}=this.embed),null===i&&this.isHTML5){const{videoWidth:t,videoHeight:e}=this.media;i=At([t,e])}return i}function Ft(t){if(!this.isVideo)return{};const{wrapper:e}=this.elements,i=Mt.call(this,t);if(!R(i))return{};const[n,s]=i,r=100/n*s;if(window.CSS&&window.CSS.supports(`aspect-ratio: ${n}/${s}`)?e.style.aspectRatio=`${n}/${s}`:e.style.paddingBottom=r+"%",this.isVimeo&&!this.config.vimeo.premium&&this.supported.ui){const t=100/this.media.offsetWidth*parseInt(window.getComputedStyle(this.media).paddingBottom,10),i=(t-r)/(t/50);this.fullscreen.active?e.style.paddingBottom=null:this.media.style.transform=`translateY(-${i}%)`}else this.isHTML5&&e.classList.toggle(this.config.classNames.videoFixedRatio,null!==i);return{padding:r,ratio:i}}function St(t,e,i=.05){const n=t/e,s=Ct(Object.keys(Tt),n);return Math.abs(s-n)<=i?Tt[s]:[t,e]}const Pt={getSources(){return this.isHTML5?Array.from(this.media.querySelectorAll("source")).filter(t=>{const e=t.getAttribute("type");return!!X(e)||ft.mime.call(this,e)}):[]},getQualityOptions(){return this.config.quality.forced?this.config.quality.options:Pt.getSources.call(this).map(t=>Number(t.getAttribute("size"))).filter(Boolean)},setup(){if(!this.isHTML5)return;const t=this;t.options.speed=t.config.speed.options,X(this.config.ratio)||Ft.call(t),Object.defineProperty(t.media,"quality",{get(){const e=Pt.getSources.call(t).find(e=>e.getAttribute("src")===t.source);return e&&Number(e.getAttribute("size"))},set(e){if(t.quality!==e){if(t.config.quality.forced&&N(t.config.quality.onChange))t.config.quality.onChange(e);else{const i=Pt.getSources.call(t).find(t=>Number(t.getAttribute("size"))===e);if(!i)return;const{currentTime:n,paused:s,preload:r,readyState:o,playbackRate:a}=t.media;t.media.src=i.getAttribute("src"),("none"!==r||o)&&(t.once("loadedmetadata",()=>{t.speed=a,t.currentTime=n,s||Et(t.play())}),t.media.load())}Dt.call(t,t.media,"qualitychange",!1,{quality:e})}}})},cancelRequests(){this.isHTML5&&(it(Pt.getSources.call(this)),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}};function Ot(t,...e){return X(t)?t:t.toString().replace(/{(\d+)}/g,(t,i)=>e[i].toString())}const Lt=(t="",e="",i="")=>t.replace(new RegExp(e.toString().replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1"),"g"),i.toString()),zt=(t="")=>t.toString().replace(/\w\S*/g,t=>t.charAt(0).toUpperCase()+t.substr(1).toLowerCase());function It(t=""){let e=t.toString();return e=function(t=""){let e=t.toString();return e=Lt(e,"-"," "),e=Lt(e,"_"," "),e=zt(e),Lt(e," ","")}(e),e.charAt(0).toLowerCase()+e.slice(1)}function Nt(t){const e=document.createElement("div");return e.appendChild(t),e.innerHTML}const Rt={pip:"PIP",airplay:"AirPlay",html5:"HTML5",vimeo:"Vimeo",youtube:"YouTube"},Bt={get(t="",e={}){if(X(t)||X(e))return"";let i=K(e.i18n,t);if(X(i))return Object.keys(Rt).includes(t)?Rt[t]:"";const n={"{seektime}":e.seekTime,"{title}":e.title};return Object.entries(n).forEach(([t,e])=>{i=Lt(i,t,e)}),i}};class jt{constructor(e){t(this,"get",t=>{if(!jt.supported||!this.enabled)return null;const e=window.localStorage.getItem(this.key);if(X(e))return null;const i=JSON.parse(e);return z(t)&&t.length?i[t]:i}),t(this,"set",t=>{if(!jt.supported||!this.enabled)return;if(!O(t))return;let e=this.get();X(e)&&(e={}),Q(e,t),window.localStorage.setItem(this.key,JSON.stringify(e))}),this.enabled=e.config.storage.enabled,this.key=e.config.storage.key}static get supported(){try{if(!("localStorage"in window))return!1;const t="___test";return window.localStorage.setItem(t,t),window.localStorage.removeItem(t),!0}catch(t){return!1}}}function qt(t,e="text"){return new Promise((i,n)=>{try{const n=new XMLHttpRequest;if(!("withCredentials"in n))return;n.addEventListener("load",()=>{if("text"===e)try{i(JSON.parse(n.responseText))}catch(t){i(n.responseText)}else i(n.response)}),n.addEventListener("error",()=>{throw new Error(n.status)}),n.open("GET",t,!0),n.responseType=e,n.send()}catch(t){n(t)}})}function Vt(t,e){if(!z(t))return;const i=z(e);let n=!1;const s=()=>null!==document.getElementById(e),r=(t,e)=>{t.innerHTML=e,i&&s()||document.body.insertAdjacentElement("afterbegin",t)};if(!i||!s()){const s=jt.supported,o=document.createElement("div");if(o.setAttribute("hidden",""),i&&o.setAttribute("id",e),s){const t=window.localStorage.getItem("cache-"+e);if(n=null!==t,n){const e=JSON.parse(t);r(o,e.content)}}qt(t).then(t=>{X(t)||(s&&window.localStorage.setItem("cache-"+e,JSON.stringify({content:t})),r(o,t))}).catch(()=>{})}}const Ut=t=>Math.trunc(t/60/60%60,10);function Wt(t=0,e=!1,i=!1){if(!L(t))return Wt(void 0,e,i);const n=t=>("0"+t).slice(-2);let s=Ut(t);const r=(o=t,Math.trunc(o/60%60,10));var o;const a=(t=>Math.trunc(t%60,10))(t);return s=e||s>0?s+":":"",`${i&&t>0?"-":""}${s}${n(r)}:${n(a)}`}const Ht={getIconUrl(){const t=new URL(this.config.iconUrl,window.location).host!==window.location.host||G.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:t}},findElements(){try{return this.elements.controls=ct.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:ht.call(this,this.config.selectors.buttons.play),pause:ct.call(this,this.config.selectors.buttons.pause),restart:ct.call(this,this.config.selectors.buttons.restart),rewind:ct.call(this,this.config.selectors.buttons.rewind),fastForward:ct.call(this,this.config.selectors.buttons.fastForward),mute:ct.call(this,this.config.selectors.buttons.mute),pip:ct.call(this,this.config.selectors.buttons.pip),airplay:ct.call(this,this.config.selectors.buttons.airplay),settings:ct.call(this,this.config.selectors.buttons.settings),captions:ct.call(this,this.config.selectors.buttons.captions),fullscreen:ct.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=ct.call(this,this.config.selectors.progress),this.elements.inputs={seek:ct.call(this,this.config.selectors.inputs.seek),volume:ct.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:ct.call(this,this.config.selectors.display.buffer),currentTime:ct.call(this,this.config.selectors.display.currentTime),duration:ct.call(this,this.config.selectors.display.duration)},j(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector("."+this.config.classNames.tooltip)),!0}catch(t){return this.debug.warn("It looks like there is a problem with your custom controls HTML",t),this.toggleNativeControls(!0),!1}},createIcon(t,e){const i="http://www.w3.org/2000/svg",n=Ht.getIconUrl.call(this),s=`${n.cors?"":n.url}#${this.config.iconPrefix}`,r=document.createElementNS(i,"svg");J(r,Q(e,{"aria-hidden":"true",focusable:"false"}));const o=document.createElementNS(i,"use"),a=`${s}-${t}`;return"href"in o&&o.setAttributeNS("http://www.w3.org/1999/xlink","href",a),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a),r.appendChild(o),r},createLabel(t,e={}){const i=Bt.get(t,this.config);return tt("span",{...e,class:[e.class,this.config.classNames.hidden].filter(Boolean).join(" ")},i)},createBadge(t){if(X(t))return null;const e=tt("span",{class:this.config.classNames.menu.value});return e.appendChild(tt("span",{class:this.config.classNames.menu.badge},t)),e},createButton(t,e){const i=Q({},e);let n=It(t);const s={element:"button",toggle:!1,label:null,icon:null,labelPressed:null,iconPressed:null};switch(["element","icon","label"].forEach(t=>{Object.keys(i).includes(t)&&(s[t]=i[t],delete i[t])}),"button"!==s.element||Object.keys(i).includes("type")||(i.type="button"),Object.keys(i).includes("class")?i.class.split(" ").some(t=>t===this.config.classNames.control)||Q(i,{class:`${i.class} ${this.config.classNames.control}`}):i.class=this.config.classNames.control,t){case"play":s.toggle=!0,s.label="play",s.labelPressed="pause",s.icon="play",s.iconPressed="pause";break;case"mute":s.toggle=!0,s.label="mute",s.labelPressed="unmute",s.icon="volume",s.iconPressed="muted";break;case"captions":s.toggle=!0,s.label="enableCaptions",s.labelPressed="disableCaptions",s.icon="captions-off",s.iconPressed="captions-on";break;case"fullscreen":s.toggle=!0,s.label="enterFullscreen",s.labelPressed="exitFullscreen",s.icon="enter-fullscreen",s.iconPressed="exit-fullscreen";break;case"play-large":i.class+=` ${this.config.classNames.control}--overlaid`,n="play",s.label="play",s.icon="play";break;default:X(s.label)&&(s.label=n),X(s.icon)&&(s.icon=t)}const r=tt(s.element);return s.toggle?(r.appendChild(Ht.createIcon.call(this,s.iconPressed,{class:"icon--pressed"})),r.appendChild(Ht.createIcon.call(this,s.icon,{class:"icon--not-pressed"})),r.appendChild(Ht.createLabel.call(this,s.labelPressed,{class:"label--pressed"})),r.appendChild(Ht.createLabel.call(this,s.label,{class:"label--not-pressed"}))):(r.appendChild(Ht.createIcon.call(this,s.icon)),r.appendChild(Ht.createLabel.call(this,s.label))),Q(i,rt(this.config.selectors.buttons[n],i)),J(r,i),"play"===n?(R(this.elements.buttons[n])||(this.elements.buttons[n]=[]),this.elements.buttons[n].push(r)):this.elements.buttons[n]=r,r},createRange(t,e){const i=tt("input",Q(rt(this.config.selectors.inputs[t]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-label":Bt.get(t,this.config),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},e));return this.elements.inputs[t]=i,Ht.updateRangeFill.call(this,i),_.setup(i),i},createProgress(t,e){const i=tt("progress",Q(rt(this.config.selectors.display[t]),{min:0,max:100,value:0,role:"progressbar","aria-hidden":!0},e));if("volume"!==t){i.appendChild(tt("span",null,"0"));const e={played:"played",buffer:"buffered"}[t],n=e?Bt.get(e,this.config):"";i.innerText="% "+n.toLowerCase()}return this.elements.display[t]=i,i},createTime(t,e){const i=rt(this.config.selectors.display[t],e),n=tt("div",Q(i,{class:`${i.class?i.class:""} ${this.config.classNames.display.time} `.trim(),"aria-label":Bt.get(t,this.config)}),"00:00");return this.elements.display[t]=n,n},bindMenuItemShortcuts(t,e){yt.call(this,t,"keydown keyup",i=>{if(![32,38,39,40].includes(i.which))return;if(i.preventDefault(),i.stopPropagation(),"keydown"===i.type)return;const n=ut(t,'[role="menuitemradio"]');if(!n&&[32,39].includes(i.which))Ht.showMenuPanel.call(this,e,!0);else{let e;32!==i.which&&(40===i.which||n&&39===i.which?(e=t.nextElementSibling,j(e)||(e=t.parentNode.firstElementChild)):(e=t.previousElementSibling,j(e)||(e=t.parentNode.lastElementChild)),dt.call(this,e,!0))}},!1),yt.call(this,t,"keyup",t=>{13===t.which&&Ht.focusFirstMenuItem.call(this,null,!0)})},createMenuItem({value:t,list:e,type:i,title:n,badge:s=null,checked:r=!1}){const o=rt(this.config.selectors.inputs[i]),a=tt("button",Q(o,{type:"button",role:"menuitemradio",class:`${this.config.classNames.control} ${o.class?o.class:""}`.trim(),"aria-checked":r,value:t})),l=tt("span");l.innerHTML=n,j(s)&&l.appendChild(s),a.appendChild(l),Object.defineProperty(a,"checked",{enumerable:!0,get:()=>"true"===a.getAttribute("aria-checked"),set(t){t&&Array.from(a.parentNode.children).filter(t=>ut(t,'[role="menuitemradio"]')).forEach(t=>t.setAttribute("aria-checked","false")),a.setAttribute("aria-checked",t?"true":"false")}}),this.listeners.bind(a,"click keyup",e=>{if(!V(e)||32===e.which){switch(e.preventDefault(),e.stopPropagation(),a.checked=!0,i){case"language":this.currentTrack=Number(t);break;case"quality":this.quality=t;break;case"speed":this.speed=parseFloat(t)}Ht.showMenuPanel.call(this,"home",V(e))}},i,!1),Ht.bindMenuItemShortcuts.call(this,a,i),e.appendChild(a)},formatTime(t=0,e=!1){return L(t)?Wt(t,Ut(this.duration)>0,e):t},updateTimeDisplay(t=null,e=0,i=!1){j(t)&&L(e)&&(t.innerText=Ht.formatTime(e,i))},updateVolume(){this.supported.ui&&(j(this.elements.inputs.volume)&&Ht.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),j(this.elements.buttons.mute)&&(this.elements.buttons.mute.pressed=this.muted||0===this.volume))},setRange(t,e=0){j(t)&&(t.value=e,Ht.updateRangeFill.call(this,t))},updateProgress(t){if(!this.supported.ui||!q(t))return;let e=0;const i=(t,e)=>{const i=L(e)?e:0,n=j(t)?t:this.elements.display.buffer;if(j(n)){n.value=i;const t=n.getElementsByTagName("span")[0];j(t)&&(t.childNodes[0].nodeValue=i)}};if(t)switch(t.type){case"timeupdate":case"seeking":case"seeked":n=this.currentTime,s=this.duration,e=0===n||0===s||Number.isNaN(n)||Number.isNaN(s)?0:(n/s*100).toFixed(2),"timeupdate"===t.type&&Ht.setRange.call(this,this.elements.inputs.seek,e);break;case"playing":case"progress":i(this.elements.display.buffer,100*this.buffered)}var n,s},updateRangeFill(t){const e=q(t)?t.target:t;if(j(e)&&"range"===e.getAttribute("type")){if(ut(e,this.config.selectors.inputs.seek)){e.setAttribute("aria-valuenow",this.currentTime);const t=Ht.formatTime(this.currentTime),i=Ht.formatTime(this.duration),n=Bt.get("seekLabel",this.config);e.setAttribute("aria-valuetext",n.replace("{currentTime}",t).replace("{duration}",i))}else if(ut(e,this.config.selectors.inputs.volume)){const t=100*e.value;e.setAttribute("aria-valuenow",t),e.setAttribute("aria-valuetext",t.toFixed(1)+"%")}else e.setAttribute("aria-valuenow",e.value);G.isWebkit&&e.style.setProperty("--value",e.value/e.max*100+"%")}},updateSeekTooltip(t){if(!this.config.tooltips.seek||!j(this.elements.inputs.seek)||!j(this.elements.display.seekTooltip)||0===this.duration)return;const e=this.config.classNames.tooltip+"--visible",i=t=>at(this.elements.display.seekTooltip,e,t);if(this.touch)return void i(!1);let n=0;const s=this.elements.progress.getBoundingClientRect();if(q(t))n=100/s.width*(t.pageX-s.left);else{if(!lt(this.elements.display.seekTooltip,e))return;n=parseFloat(this.elements.display.seekTooltip.style.left,10)}n<0?n=0:n>100&&(n=100),Ht.updateTimeDisplay.call(this,this.elements.display.seekTooltip,this.duration/100*n),this.elements.display.seekTooltip.style.left=n+"%",q(t)&&["mouseenter","mouseleave"].includes(t.type)&&i("mouseenter"===t.type)},timeUpdate(t){const e=!j(this.elements.display.duration)&&this.config.invertTime;Ht.updateTimeDisplay.call(this,this.elements.display.currentTime,e?this.duration-this.currentTime:this.currentTime,e),t&&"timeupdate"===t.type&&this.media.seeking||Ht.updateProgress.call(this,t)},durationUpdate(){if(!this.supported.ui||!this.config.invertTime&&this.currentTime)return;if(this.duration>=2**32)return ot(this.elements.display.currentTime,!0),void ot(this.elements.progress,!0);j(this.elements.inputs.seek)&&this.elements.inputs.seek.setAttribute("aria-valuemax",this.duration);const t=j(this.elements.display.duration);!t&&this.config.displayDuration&&this.paused&&Ht.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),t&&Ht.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),Ht.updateSeekTooltip.call(this)},toggleMenuButton(t,e){ot(this.elements.settings.buttons[t],!e)},updateSetting(t,e,i){const n=this.elements.settings.panels[t];let s=null,r=e;if("captions"===t)s=this.currentTrack;else{if(s=X(i)?this[t]:i,X(s)&&(s=this.config[t].default),!X(this.options[t])&&!this.options[t].includes(s))return void this.debug.warn(`Unsupported value of '${s}' for ${t}`);if(!this.config[t].options.includes(s))return void this.debug.warn(`Disabled value of '${s}' for ${t}`)}if(j(r)||(r=n&&n.querySelector('[role="menu"]')),!j(r))return;this.elements.settings.buttons[t].querySelector("."+this.config.classNames.menu.value).innerHTML=Ht.getLabel.call(this,t,s);const o=r&&r.querySelector(`[value="${s}"]`);j(o)&&(o.checked=!0)},getLabel(t,e){switch(t){case"speed":return 1===e?Bt.get("normal",this.config):e+"&times;";case"quality":if(L(e)){const t=Bt.get("qualityLabel."+e,this.config);return t.length?t:e+"p"}return zt(e);case"captions":return $t.getLabel.call(this);default:return null}},setQualityMenu(t){if(!j(this.elements.settings.panels.quality))return;const e="quality",i=this.elements.settings.panels.quality.querySelector('[role="menu"]');R(t)&&(this.options.quality=xt(t).filter(t=>this.config.quality.options.includes(t)));const n=!X(this.options.quality)&&this.options.quality.length>1;if(Ht.toggleMenuButton.call(this,e,n),nt(i),Ht.checkMenu.call(this),!n)return;const s=t=>{const e=Bt.get("qualityBadge."+t,this.config);return e.length?Ht.createBadge.call(this,e):null};this.options.quality.sort((t,e)=>{const i=this.config.quality.options;return i.indexOf(t)>i.indexOf(e)?1:-1}).forEach(t=>{Ht.createMenuItem.call(this,{value:t,list:i,type:e,title:Ht.getLabel.call(this,"quality",t),badge:s(t)})}),Ht.updateSetting.call(this,e,i)},setCaptionsMenu(){if(!j(this.elements.settings.panels.captions))return;const t="captions",e=this.elements.settings.panels.captions.querySelector('[role="menu"]'),i=$t.getTracks.call(this),n=Boolean(i.length);if(Ht.toggleMenuButton.call(this,t,n),nt(e),Ht.checkMenu.call(this),!n)return;const s=i.map((t,i)=>({value:i,checked:this.captions.toggled&&this.currentTrack===i,title:$t.getLabel.call(this,t),badge:t.language&&Ht.createBadge.call(this,t.language.toUpperCase()),list:e,type:"language"}));s.unshift({value:-1,checked:!this.captions.toggled,title:Bt.get("disabled",this.config),list:e,type:"language"}),s.forEach(Ht.createMenuItem.bind(this)),Ht.updateSetting.call(this,t,e)},setSpeedMenu(){if(!j(this.elements.settings.panels.speed))return;const t="speed",e=this.elements.settings.panels.speed.querySelector('[role="menu"]');this.options.speed=this.options.speed.filter(t=>t>=this.minimumSpeed&&t<=this.maximumSpeed);const i=!X(this.options.speed)&&this.options.speed.length>1;Ht.toggleMenuButton.call(this,t,i),nt(e),Ht.checkMenu.call(this),i&&(this.options.speed.forEach(i=>{Ht.createMenuItem.call(this,{value:i,list:e,type:t,title:Ht.getLabel.call(this,"speed",i)})}),Ht.updateSetting.call(this,t,e))},checkMenu(){const{buttons:t}=this.elements.settings,e=!X(t)&&Object.values(t).some(t=>!t.hidden);ot(this.elements.settings.menu,!e)},focusFirstMenuItem(t,e=!1){if(this.elements.settings.popup.hidden)return;let i=t;j(i)||(i=Object.values(this.elements.settings.panels).find(t=>!t.hidden));const n=i.querySelector('[role^="menuitem"]');dt.call(this,n,e)},toggleMenu(t){const{popup:e}=this.elements.settings,i=this.elements.buttons.settings;if(!j(e)||!j(i))return;const{hidden:n}=e;let s=n;if(I(t))s=t;else if(V(t)&&27===t.which)s=!1;else if(q(t)){const n=N(t.composedPath)?t.composedPath()[0]:t.target,r=e.contains(n);if(r||!r&&t.target!==i&&s)return}i.setAttribute("aria-expanded",s),ot(e,!s),at(this.elements.container,this.config.classNames.menu.open,s),s&&V(t)?Ht.focusFirstMenuItem.call(this,null,!0):s||n||dt.call(this,i,V(t))},getMenuSize(t){const e=t.cloneNode(!0);e.style.position="absolute",e.style.opacity=0,e.removeAttribute("hidden"),t.parentNode.appendChild(e);const i=e.scrollWidth,n=e.scrollHeight;return it(e),{width:i,height:n}},showMenuPanel(t="",e=!1){const i=this.elements.container.querySelector(`#plyr-settings-${this.id}-${t}`);if(!j(i))return;const n=i.parentNode,s=Array.from(n.children).find(t=>!t.hidden);if(ft.transitions&&!ft.reducedMotion){n.style.width=s.scrollWidth+"px",n.style.height=s.scrollHeight+"px";const t=Ht.getMenuSize.call(this,i),e=t=>{t.target===n&&["width","height"].includes(t.propertyName)&&(n.style.width="",n.style.height="",vt.call(this,n,Y,e))};yt.call(this,n,Y,e),n.style.width=t.width+"px",n.style.height=t.height+"px"}ot(s,!0),ot(i,!1),Ht.focusFirstMenuItem.call(this,i,e)},setDownloadUrl(){const t=this.elements.buttons.download;j(t)&&t.setAttribute("href",this.download)},create(t){const{bindMenuItemShortcuts:e,createButton:i,createProgress:n,createRange:s,createTime:r,setQualityMenu:o,setSpeedMenu:a,showMenuPanel:l}=Ht;this.elements.controls=null,R(this.config.controls)&&this.config.controls.includes("play-large")&&this.elements.container.appendChild(i.call(this,"play-large"));const u=tt("div",rt(this.config.selectors.controls.wrapper));this.elements.controls=u;const h={class:"plyr__controls__item"};return xt(R(this.config.controls)?this.config.controls:[]).forEach(o=>{if("restart"===o&&u.appendChild(i.call(this,"restart",h)),"rewind"===o&&u.appendChild(i.call(this,"rewind",h)),"play"===o&&u.appendChild(i.call(this,"play",h)),"fast-forward"===o&&u.appendChild(i.call(this,"fast-forward",h)),"progress"===o){const e=tt("div",{class:h.class+" plyr__progress__container"}),i=tt("div",rt(this.config.selectors.progress));if(i.appendChild(s.call(this,"seek",{id:"plyr-seek-"+t.id})),i.appendChild(n.call(this,"buffer")),this.config.tooltips.seek){const t=tt("span",{class:this.config.classNames.tooltip},"00:00");i.appendChild(t),this.elements.display.seekTooltip=t}this.elements.progress=i,e.appendChild(this.elements.progress),u.appendChild(e)}if("current-time"===o&&u.appendChild(r.call(this,"currentTime",h)),"duration"===o&&u.appendChild(r.call(this,"duration",h)),"mute"===o||"volume"===o){let{volume:e}=this.elements;if(j(e)&&u.contains(e)||(e=tt("div",Q({},h,{class:(h.class+" plyr__volume").trim()})),this.elements.volume=e,u.appendChild(e)),"mute"===o&&e.appendChild(i.call(this,"mute")),"volume"===o&&!G.isIos){const i={max:1,step:.05,value:this.config.volume};e.appendChild(s.call(this,"volume",Q(i,{id:"plyr-volume-"+t.id})))}}if("captions"===o&&u.appendChild(i.call(this,"captions",h)),"settings"===o&&!X(this.config.settings)){const n=tt("div",Q({},h,{class:(h.class+" plyr__menu").trim(),hidden:""}));n.appendChild(i.call(this,"settings",{"aria-haspopup":!0,"aria-controls":"plyr-settings-"+t.id,"aria-expanded":!1}));const s=tt("div",{class:"plyr__menu__container",id:"plyr-settings-"+t.id,hidden:""}),r=tt("div"),o=tt("div",{id:`plyr-settings-${t.id}-home`}),a=tt("div",{role:"menu"});o.appendChild(a),r.appendChild(o),this.elements.settings.panels.home=o,this.config.settings.forEach(i=>{const n=tt("button",Q(rt(this.config.selectors.buttons.settings),{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--forward`,role:"menuitem","aria-haspopup":!0,hidden:""}));e.call(this,n,i),yt.call(this,n,"click",()=>{l.call(this,i,!1)});const s=tt("span",null,Bt.get(i,this.config)),o=tt("span",{class:this.config.classNames.menu.value});o.innerHTML=t[i],s.appendChild(o),n.appendChild(s),a.appendChild(n);const u=tt("div",{id:`plyr-settings-${t.id}-${i}`,hidden:""}),h=tt("button",{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--back`});h.appendChild(tt("span",{"aria-hidden":!0},Bt.get(i,this.config))),h.appendChild(tt("span",{class:this.config.classNames.hidden},Bt.get("menuBack",this.config))),yt.call(this,u,"keydown",t=>{37===t.which&&(t.preventDefault(),t.stopPropagation(),l.call(this,"home",!0))},!1),yt.call(this,h,"click",()=>{l.call(this,"home",!1)}),u.appendChild(h),u.appendChild(tt("div",{role:"menu"})),r.appendChild(u),this.elements.settings.buttons[i]=n,this.elements.settings.panels[i]=u}),s.appendChild(r),n.appendChild(s),u.appendChild(n),this.elements.settings.popup=s,this.elements.settings.menu=n}if("pip"===o&&ft.pip&&u.appendChild(i.call(this,"pip",h)),"airplay"===o&&ft.airplay&&u.appendChild(i.call(this,"airplay",h)),"download"===o){const t=Q({},h,{element:"a",href:this.download,target:"_blank"});this.isHTML5&&(t.download="");const{download:e}=this.config.urls;!H(e)&&this.isEmbed&&Q(t,{icon:"logo-"+this.provider,label:this.provider}),u.appendChild(i.call(this,"download",t))}"fullscreen"===o&&u.appendChild(i.call(this,"fullscreen",h))}),this.isHTML5&&o.call(this,Pt.getQualityOptions.call(this)),a.call(this),u},inject(){if(this.config.loadSprite){const t=Ht.getIconUrl.call(this);t.cors&&Vt(t.url,"sprite-plyr")}this.id=Math.floor(1e4*Math.random());let t=null;this.elements.controls=null;const e={id:this.id,seektime:this.config.seekTime,title:this.config.title};let i,n=!0;if(N(this.config.controls)&&(this.config.controls=this.config.controls.call(this,e)),this.config.controls||(this.config.controls=[]),j(this.config.controls)||z(this.config.controls)?t=this.config.controls:(t=Ht.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:$t.getLabel.call(this)}),n=!1),n&&z(this.config.controls)&&(t=(t=>{let i=t;return Object.entries(e).forEach(([t,e])=>{i=Lt(i,`{${t}}`,e)}),i})(t)),z(this.config.selectors.controls.container)&&(i=document.querySelector(this.config.selectors.controls.container)),j(i)||(i=this.elements.container),i[j(t)?"insertAdjacentElement":"insertAdjacentHTML"]("afterbegin",t),j(this.elements.controls)||Ht.findElements.call(this),!X(this.elements.buttons)){const t=t=>{const e=this.config.classNames.controlPressed;Object.defineProperty(t,"pressed",{enumerable:!0,get:()=>lt(t,e),set(i=!1){at(t,e,i)}})};Object.values(this.elements.buttons).filter(Boolean).forEach(e=>{R(e)||B(e)?Array.from(e).filter(Boolean).forEach(t):t(e)})}if(G.isEdge&&$(i),this.config.tooltips.controls){const{classNames:t,selectors:e}=this.config,i=`${e.controls.wrapper} ${e.labels} .${t.hidden}`,n=ht.call(this,i);Array.from(n).forEach(t=>{at(t,this.config.classNames.hidden,!1),at(t,this.config.classNames.tooltip,!0)})}}};function Xt(t,e=!0){let i=t;if(e){const t=document.createElement("a");t.href=i,i=t.href}try{return new URL(i)}catch(t){return null}}function Yt(t){const e=new URLSearchParams;return O(t)&&Object.entries(t).forEach(([t,i])=>{e.set(t,i)}),e}const $t={setup(){if(!this.supported.ui)return;if(!this.isVideo||this.isYouTube||this.isHTML5&&!ft.textTracks)return void(R(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&Ht.setCaptionsMenu.call(this));var t,e;if(j(this.elements.captions)||(this.elements.captions=tt("div",rt(this.config.selectors.captions)),t=this.elements.captions,e=this.elements.wrapper,j(t)&&j(e)&&e.parentNode.insertBefore(t,e.nextSibling)),G.isIE&&window.URL){const t=this.media.querySelectorAll("track");Array.from(t).forEach(t=>{const e=t.getAttribute("src"),i=Xt(e);null!==i&&i.hostname!==window.location.href.hostname&&["http:","https:"].includes(i.protocol)&&qt(e,"blob").then(e=>{t.setAttribute("src",window.URL.createObjectURL(e))}).catch(()=>{it(t)})})}const i=xt((navigator.languages||[navigator.language||navigator.userLanguage||"en"]).map(t=>t.split("-")[0]));let n=(this.storage.get("language")||this.config.captions.language||"auto").toLowerCase();"auto"===n&&([n]=i);let s=this.storage.get("captions");if(I(s)||({active:s}=this.config.captions),Object.assign(this.captions,{toggled:!1,active:s,language:n,languages:i}),this.isHTML5){const t=this.config.captions.update?"addtrack removetrack":"removetrack";yt.call(this,this.media.textTracks,t,$t.update.bind(this))}setTimeout($t.update.bind(this),0)},update(){const t=$t.getTracks.call(this,!0),{active:e,language:i,meta:n,currentTrackNode:s}=this.captions,r=Boolean(t.find(t=>t.language===i));this.isHTML5&&this.isVideo&&t.filter(t=>!n.get(t)).forEach(t=>{this.debug.log("Track added",t),n.set(t,{default:"showing"===t.mode}),"showing"===t.mode&&(t.mode="hidden"),yt.call(this,t,"cuechange",()=>$t.updateCues.call(this))}),(r&&this.language!==i||!t.includes(s))&&($t.setLanguage.call(this,i),$t.toggle.call(this,e&&r)),at(this.elements.container,this.config.classNames.captions.enabled,!X(t)),R(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&Ht.setCaptionsMenu.call(this)},toggle(t,e=!0){if(!this.supported.ui)return;const{toggled:i}=this.captions,n=this.config.classNames.captions.active,s=P(t)?!i:t;if(s!==i){if(e||(this.captions.active=s,this.storage.set({captions:s})),!this.language&&s&&!e){const t=$t.getTracks.call(this),e=$t.findTrack.call(this,[this.captions.language,...this.captions.languages],!0);return this.captions.language=e.language,void $t.set.call(this,t.indexOf(e))}this.elements.buttons.captions&&(this.elements.buttons.captions.pressed=s),at(this.elements.container,n,s),this.captions.toggled=s,Ht.updateSetting.call(this,"captions"),Dt.call(this,this.media,s?"captionsenabled":"captionsdisabled")}setTimeout(()=>{s&&this.captions.toggled&&(this.captions.currentTrackNode.mode="hidden")})},set(t,e=!0){const i=$t.getTracks.call(this);if(-1!==t)if(L(t))if(t in i){if(this.captions.currentTrack!==t){this.captions.currentTrack=t;const n=i[t],{language:s}=n||{};this.captions.currentTrackNode=n,Ht.updateSetting.call(this,"captions"),e||(this.captions.language=s,this.storage.set({language:s})),this.isVimeo&&this.embed.enableTextTrack(s),Dt.call(this,this.media,"languagechange")}$t.toggle.call(this,!0,e),this.isHTML5&&this.isVideo&&$t.updateCues.call(this)}else this.debug.warn("Track not found",t);else this.debug.warn("Invalid caption argument",t);else $t.toggle.call(this,!1,e)},setLanguage(t,e=!0){if(!z(t))return void this.debug.warn("Invalid language argument",t);const i=t.toLowerCase();this.captions.language=i;const n=$t.getTracks.call(this),s=$t.findTrack.call(this,[i]);$t.set.call(this,n.indexOf(s),e)},getTracks(t=!1){return Array.from((this.media||{}).textTracks||[]).filter(e=>!this.isHTML5||t||this.captions.meta.has(e)).filter(t=>["captions","subtitles"].includes(t.kind))},findTrack(t,e=!1){const i=$t.getTracks.call(this),n=t=>Number((this.captions.meta.get(t)||{}).default),s=Array.from(i).sort((t,e)=>n(e)-n(t));let r;return t.every(t=>(r=s.find(e=>e.language===t),!r)),r||(e?s[0]:void 0)},getCurrentTrack(){return $t.getTracks.call(this)[this.currentTrack]},getLabel(t){let e=t;return!U(e)&&ft.textTracks&&this.captions.toggled&&(e=$t.getCurrentTrack.call(this)),U(e)?X(e.label)?X(e.language)?Bt.get("enabled",this.config):t.language.toUpperCase():e.label:Bt.get("disabled",this.config)},updateCues(t){if(!this.supported.ui)return;if(!j(this.elements.captions))return void this.debug.warn("No captions element to render to");if(!P(t)&&!Array.isArray(t))return void this.debug.warn("updateCues: Invalid input",t);let e=t;if(!e){const t=$t.getCurrentTrack.call(this);e=Array.from((t||{}).activeCues||[]).map(t=>t.getCueAsHTML()).map(Nt)}const i=e.map(t=>t.trim()).join("\n");if(i!==this.elements.captions.innerHTML){nt(this.elements.captions);const t=tt("span",rt(this.config.selectors.caption));t.innerHTML=i,this.elements.captions.appendChild(t),Dt.call(this,this.media,"cuechange")}}},Gt={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,playsinline:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:null,clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.6.7/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240],forced:!1,onChange:null},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2,4]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:"auto",update:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",pip:"PIP",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},urls:{download:null,vimeo:{sdk:"https://player.vimeo.com/api/player.js",iframe:"https://player.vimeo.com/video/{0}?{1}",api:"https://vimeo.com/api/oembed.json?url={0}"},youtube:{sdk:"https://www.youtube.com/iframe_api",api:"https://noembed.com/embed?url=https://www.youtube.com/watch?v={0}"},googleIMA:{sdk:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,download:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","download","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',download:'[data-plyr="download"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress__buffer",loop:".plyr__progress__loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",caption:".plyr__caption"},classNames:{type:"plyr--{0}",provider:"plyr--{0}",video:"plyr__video-wrapper",embed:"plyr__video-embed",videoFixedRatio:"plyr__video-wrapper--fixed-ratio",embedContainer:"plyr__video-embed__container",poster:"plyr__poster",posterEnabled:"plyr__poster-enabled",ads:"plyr__ads",control:"plyr__control",controlPressed:"plyr__control--pressed",playing:"plyr--playing",paused:"plyr--paused",stopped:"plyr--stopped",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isIos:"plyr--is-ios",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",display:{time:"plyr__time"},menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},tabFocus:"plyr__tab-focus",previewThumbnails:{thumbContainer:"plyr__preview-thumb",thumbContainerShown:"plyr__preview-thumb--is-shown",imageContainer:"plyr__preview-thumb__image-container",timeContainer:"plyr__preview-thumb__time-container",scrubbingContainer:"plyr__preview-scrubbing",scrubbingContainerShown:"plyr__preview-scrubbing--is-shown"}},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id"}},ads:{enabled:!1,publisherId:"",tagUrl:""},previewThumbnails:{enabled:!1,src:""},vimeo:{byline:!1,portrait:!1,title:!1,speed:!0,transparent:!1,customControls:!0,referrerPolicy:null,premium:!1},youtube:{rel:0,showinfo:0,iv_load_policy:3,modestbranding:1,customControls:!0,noCookie:!1}},Kt="picture-in-picture",Qt="inline",Zt={html5:"html5",youtube:"youtube",vimeo:"vimeo"},Jt="audio",te="video",ee=()=>{};class ie{constructor(t=!1){this.enabled=window.console&&t,this.enabled&&this.log("Debugging enabled")}get log(){return this.enabled?Function.prototype.bind.call(console.log,console):ee}get warn(){return this.enabled?Function.prototype.bind.call(console.warn,console):ee}get error(){return this.enabled?Function.prototype.bind.call(console.error,console):ee}}class ne{constructor(e){t(this,"onChange",()=>{if(!this.enabled)return;const t=this.player.elements.buttons.fullscreen;j(t)&&(t.pressed=this.active);const e=this.target===this.player.media?this.target:this.player.elements.container;Dt.call(this.player,e,this.active?"enterfullscreen":"exitfullscreen",!0)}),t(this,"toggleFallback",(t=!1)=>{if(t?this.scrollPosition={x:window.scrollX||0,y:window.scrollY||0}:window.scrollTo(this.scrollPosition.x,this.scrollPosition.y),document.body.style.overflow=t?"hidden":"",at(this.target,this.player.config.classNames.fullscreen.fallback,t),G.isIos){let e=document.head.querySelector('meta[name="viewport"]');const i="viewport-fit=cover";e||(e=document.createElement("meta"),e.setAttribute("name","viewport"));const n=z(e.content)&&e.content.includes(i);t?(this.cleanupViewport=!n,n||(e.content+=","+i)):this.cleanupViewport&&(e.content=e.content.split(",").filter(t=>t.trim()!==i).join(","))}this.onChange()}),t(this,"trapFocus",t=>{if(G.isIos||!this.active||"Tab"!==t.key||9!==t.keyCode)return;const e=document.activeElement,i=ht.call(this.player,"a[href], button:not(:disabled), input:not(:disabled), [tabindex]"),[n]=i,s=i[i.length-1];e!==s||t.shiftKey?e===n&&t.shiftKey&&(s.focus(),t.preventDefault()):(n.focus(),t.preventDefault())}),t(this,"update",()=>{if(this.enabled){let t;t=this.forceFallback?"Fallback (forced)":ne.native?"Native":"Fallback",this.player.debug.log(t+" fullscreen enabled")}else this.player.debug.log("Fullscreen not supported and fallback disabled");at(this.player.elements.container,this.player.config.classNames.fullscreen.enabled,this.enabled)}),t(this,"enter",()=>{this.enabled&&(G.isIos&&this.player.config.fullscreen.iosNative?this.player.isVimeo?this.player.embed.requestFullscreen():this.target.webkitEnterFullscreen():!ne.native||this.forceFallback?this.toggleFallback(!0):this.prefix?X(this.prefix)||this.target[`${this.prefix}Request${this.property}`]():this.target.requestFullscreen({navigationUI:"hide"}))}),t(this,"exit",()=>{if(this.enabled)if(G.isIos&&this.player.config.fullscreen.iosNative)this.target.webkitExitFullscreen(),Et(this.player.play());else if(!ne.native||this.forceFallback)this.toggleFallback(!1);else if(this.prefix){if(!X(this.prefix)){const t="moz"===this.prefix?"Cancel":"Exit";document[`${this.prefix}${t}${this.property}`]()}}else(document.cancelFullScreen||document.exitFullscreen).call(document)}),t(this,"toggle",()=>{this.active?this.exit():this.enter()}),this.player=e,this.prefix=ne.prefix,this.property=ne.property,this.scrollPosition={x:0,y:0},this.forceFallback="force"===e.config.fullscreen.fallback,this.player.elements.fullscreen=e.config.fullscreen.container&&function(t,e){const{prototype:i}=Element;return(i.closest||function(){let t=this;do{if(ut.matches(t,e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null}).call(t,e)}(this.player.elements.container,e.config.fullscreen.container),yt.call(this.player,document,"ms"===this.prefix?"MSFullscreenChange":this.prefix+"fullscreenchange",()=>{this.onChange()}),yt.call(this.player,this.player.elements.container,"dblclick",t=>{j(this.player.elements.controls)&&this.player.elements.controls.contains(t.target)||this.player.listeners.proxy(t,this.toggle,"fullscreen")}),yt.call(this,this.player.elements.container,"keydown",t=>this.trapFocus(t)),this.update()}static get native(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}get usingNative(){return ne.native&&!this.forceFallback}static get prefix(){if(N(document.exitFullscreen))return"";let t="";return["webkit","moz","ms"].some(e=>!(!N(document[e+"ExitFullscreen"])&&!N(document[e+"CancelFullScreen"])||(t=e,0))),t}static get property(){return"moz"===this.prefix?"FullScreen":"Fullscreen"}get enabled(){return(ne.native||this.player.config.fullscreen.fallback)&&this.player.config.fullscreen.enabled&&this.player.supported.ui&&this.player.isVideo}get active(){if(!this.enabled)return!1;if(!ne.native||this.forceFallback)return lt(this.target,this.player.config.classNames.fullscreen.fallback);const t=this.prefix?document[`${this.prefix}${this.property}Element`]:document.fullscreenElement;return t&&t.shadowRoot?t===this.target.getRootNode().host:t===this.target}get target(){return G.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.fullscreen||this.player.elements.container}}function se(t,e=1){return new Promise((i,n)=>{const s=new Image,r=()=>{delete s.onload,delete s.onerror,(s.naturalWidth>=e?i:n)(s)};Object.assign(s,{onload:r,onerror:r,src:t})})}const re={addStyleHook(){at(this.elements.container,this.config.selectors.container.replace(".",""),!0),at(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls(t=!1){t&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build(){if(this.listeners.media(),!this.supported.ui)return this.debug.warn(`Basic support only for ${this.provider} ${this.type}`),void re.toggleNativeControls.call(this,!0);j(this.elements.controls)||(Ht.inject.call(this),this.listeners.controls()),re.toggleNativeControls.call(this),this.isHTML5&&$t.setup.call(this),this.volume=null,this.muted=null,this.loop=null,this.quality=null,this.speed=null,Ht.updateVolume.call(this),Ht.timeUpdate.call(this),re.checkPlaying.call(this),at(this.elements.container,this.config.classNames.pip.supported,ft.pip&&this.isHTML5&&this.isVideo),at(this.elements.container,this.config.classNames.airplay.supported,ft.airplay&&this.isHTML5),at(this.elements.container,this.config.classNames.isIos,G.isIos),at(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout(()=>{Dt.call(this,this.media,"ready")},0),re.setTitle.call(this),this.poster&&re.setPoster.call(this,this.poster,!1).catch(()=>{}),this.config.duration&&Ht.durationUpdate.call(this)},setTitle(){let t=Bt.get("play",this.config);if(z(this.config.title)&&!X(this.config.title)&&(t+=", "+this.config.title),Array.from(this.elements.buttons.play||[]).forEach(e=>{e.setAttribute("aria-label",t)}),this.isEmbed){const t=ct.call(this,"iframe");if(!j(t))return;const e=X(this.config.title)?"video":this.config.title,i=Bt.get("frameTitle",this.config);t.setAttribute("title",i.replace("{title}",e))}},togglePoster(t){at(this.elements.container,this.config.classNames.posterEnabled,t)},setPoster(t,e=!0){return e&&this.poster?Promise.reject(new Error("Poster already set")):(this.media.setAttribute("data-poster",t),this.elements.poster.removeAttribute("hidden"),_t.call(this).then(()=>se(t)).catch(e=>{throw t===this.poster&&re.togglePoster.call(this,!1),e}).then(()=>{if(t!==this.poster)throw new Error("setPoster cancelled by later call to setPoster")}).then(()=>(Object.assign(this.elements.poster.style,{backgroundImage:`url('${t}')`,backgroundSize:""}),re.togglePoster.call(this,!0),t)))},checkPlaying(t){at(this.elements.container,this.config.classNames.playing,this.playing),at(this.elements.container,this.config.classNames.paused,this.paused),at(this.elements.container,this.config.classNames.stopped,this.stopped),Array.from(this.elements.buttons.play||[]).forEach(t=>{Object.assign(t,{pressed:this.playing}),t.setAttribute("aria-label",Bt.get(this.playing?"pause":"play",this.config))}),q(t)&&"timeupdate"===t.type||re.toggleControls.call(this)},checkLoading(t){this.loading=["stalled","waiting"].includes(t.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout(()=>{at(this.elements.container,this.config.classNames.loading,this.loading),re.toggleControls.call(this)},this.loading?250:0)},toggleControls(t){const{controls:e}=this.elements;if(e&&this.config.hideControls){const i=this.touch&&this.lastSeekTime+2e3>Date.now();this.toggleControls(Boolean(t||this.loading||this.paused||e.pressed||e.hover||i))}},migrateStyles(){Object.values({...this.media.style}).filter(t=>!X(t)&&z(t)&&t.startsWith("--plyr")).forEach(t=>{this.elements.container.style.setProperty(t,this.media.style.getPropertyValue(t)),this.media.style.removeProperty(t)}),X(this.media.style)&&this.media.removeAttribute("style")}};class oe{constructor(e){t(this,"firstTouch",()=>{const{player:t}=this,{elements:e}=t;t.touch=!0,at(e.container,t.config.classNames.isTouch,!0)}),t(this,"setTabFocus",t=>{const{player:e}=this,{elements:i}=e;if(clearTimeout(this.focusTimer),"keydown"===t.type&&9!==t.which)return;"keydown"===t.type&&(this.lastKeyDown=t.timeStamp);const n=t.timeStamp-this.lastKeyDown<=20;("focus"!==t.type||n)&&((()=>{const t=e.config.classNames.tabFocus;at(ht.call(e,"."+t),t,!1)})(),"focusout"!==t.type&&(this.focusTimer=setTimeout(()=>{const t=document.activeElement;i.container.contains(t)&&at(document.activeElement,e.config.classNames.tabFocus,!0)},10)))}),t(this,"global",(t=!0)=>{const{player:e}=this;e.config.keyboard.global&&gt.call(e,window,"keydown keyup",this.handleKey,t,!1),gt.call(e,document.body,"click",this.toggleMenu,t),bt.call(e,document.body,"touchstart",this.firstTouch),gt.call(e,document.body,"keydown focus blur focusout",this.setTabFocus,t,!1,!0)}),t(this,"container",()=>{const{player:t}=this,{config:e,elements:i,timers:n}=t;!e.keyboard.global&&e.keyboard.focused&&yt.call(t,i.container,"keydown keyup",this.handleKey,!1),yt.call(t,i.container,"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen",e=>{const{controls:s}=i;s&&"enterfullscreen"===e.type&&(s.pressed=!1,s.hover=!1);let r=0;["touchstart","touchmove","mousemove"].includes(e.type)&&(re.toggleControls.call(t,!0),r=t.touch?3e3:2e3),clearTimeout(n.controls),n.controls=setTimeout(()=>re.toggleControls.call(t,!1),r)});const s=e=>{if(!e)return Ft.call(t);const n=i.container.getBoundingClientRect(),{width:s,height:r}=n;return Ft.call(t,`${s}:${r}`)},r=()=>{clearTimeout(n.resized),n.resized=setTimeout(s,50)};yt.call(t,i.container,"enterfullscreen exitfullscreen",e=>{const{target:n,usingNative:o}=t.fullscreen;if(n!==i.container)return;if(!t.isEmbed&&X(t.config.ratio))return;const a="enterfullscreen"===e.type,{padding:l,ratio:u}=s(a);((e,i,n)=>{if(!t.isVimeo||t.config.vimeo.premium)return;const s=t.elements.wrapper.firstChild,[,r]=e,[o,a]=Mt.call(t);s.style.maxWidth=n?r/a*o+"px":null,s.style.margin=n?"0 auto":null})(u,0,a),a&&setTimeout(()=>$(i.container),100),o||(a?yt.call(t,window,"resize",r):vt.call(t,window,"resize",r))})}),t(this,"media",()=>{const{player:t}=this,{elements:e}=t;if(yt.call(t,t.media,"timeupdate seeking seeked",e=>Ht.timeUpdate.call(t,e)),yt.call(t,t.media,"durationchange loadeddata loadedmetadata",e=>Ht.durationUpdate.call(t,e)),yt.call(t,t.media,"ended",()=>{t.isHTML5&&t.isVideo&&t.config.resetOnEnd&&(t.restart(),t.pause())}),yt.call(t,t.media,"progress playing seeking seeked",e=>Ht.updateProgress.call(t,e)),yt.call(t,t.media,"volumechange",e=>Ht.updateVolume.call(t,e)),yt.call(t,t.media,"playing play pause ended emptied timeupdate",e=>re.checkPlaying.call(t,e)),yt.call(t,t.media,"waiting canplay seeked playing",e=>re.checkLoading.call(t,e)),t.supported.ui&&t.config.clickToPlay&&!t.isAudio){const i=ct.call(t,"."+t.config.classNames.video);if(!j(i))return;yt.call(t,e.container,"click",n=>{([e.container,i].includes(n.target)||i.contains(n.target))&&(t.touch&&t.config.hideControls||(t.ended?(this.proxy(n,t.restart,"restart"),this.proxy(n,()=>{Et(t.play())},"play")):this.proxy(n,()=>{Et(t.togglePlay())},"play")))})}t.supported.ui&&t.config.disableContextMenu&&yt.call(t,e.wrapper,"contextmenu",t=>{t.preventDefault()},!1),yt.call(t,t.media,"volumechange",()=>{t.storage.set({volume:t.volume,muted:t.muted})}),yt.call(t,t.media,"ratechange",()=>{Ht.updateSetting.call(t,"speed"),t.storage.set({speed:t.speed})}),yt.call(t,t.media,"qualitychange",e=>{Ht.updateSetting.call(t,"quality",null,e.detail.quality)}),yt.call(t,t.media,"ready qualitychange",()=>{Ht.setDownloadUrl.call(t)});const i=t.config.events.concat(["keyup","keydown"]).join(" ");yt.call(t,t.media,i,i=>{let{detail:n={}}=i;"error"===i.type&&(n=t.media.error),Dt.call(t,e.container,i.type,!0,n)})}),t(this,"proxy",(t,e,i)=>{const{player:n}=this,s=n.config.listeners[i];let r=!0;N(s)&&(r=s.call(n,t)),!1!==r&&N(e)&&e.call(n,t)}),t(this,"bind",(t,e,i,n,s=!0)=>{const{player:r}=this,o=r.config.listeners[n],a=N(o);yt.call(r,t,e,t=>this.proxy(t,i,n),s&&!a)}),t(this,"controls",()=>{const{player:t}=this,{elements:e}=t,i=G.isIE?"change":"input";if(e.buttons.play&&Array.from(e.buttons.play).forEach(e=>{this.bind(e,"click",()=>{Et(t.togglePlay())},"play")}),this.bind(e.buttons.restart,"click",t.restart,"restart"),this.bind(e.buttons.rewind,"click",()=>{t.lastSeekTime=Date.now(),t.rewind()},"rewind"),this.bind(e.buttons.fastForward,"click",()=>{t.lastSeekTime=Date.now(),t.forward()},"fastForward"),this.bind(e.buttons.mute,"click",()=>{t.muted=!t.muted},"mute"),this.bind(e.buttons.captions,"click",()=>t.toggleCaptions()),this.bind(e.buttons.download,"click",()=>{Dt.call(t,t.media,"download")},"download"),this.bind(e.buttons.fullscreen,"click",()=>{t.fullscreen.toggle()},"fullscreen"),this.bind(e.buttons.pip,"click",()=>{t.pip="toggle"},"pip"),this.bind(e.buttons.airplay,"click",t.airplay,"airplay"),this.bind(e.buttons.settings,"click",e=>{e.stopPropagation(),e.preventDefault(),Ht.toggleMenu.call(t,e)},null,!1),this.bind(e.buttons.settings,"keyup",e=>{const i=e.which;[13,32].includes(i)&&(13!==i?(e.preventDefault(),e.stopPropagation(),Ht.toggleMenu.call(t,e)):Ht.focusFirstMenuItem.call(t,null,!0))},null,!1),this.bind(e.settings.menu,"keydown",e=>{27===e.which&&Ht.toggleMenu.call(t,e)}),this.bind(e.inputs.seek,"mousedown mousemove",t=>{const i=e.progress.getBoundingClientRect(),n=100/i.width*(t.pageX-i.left);t.currentTarget.setAttribute("seek-value",n)}),this.bind(e.inputs.seek,"mousedown mouseup keydown keyup touchstart touchend",e=>{const i=e.currentTarget,n=e.keyCode?e.keyCode:e.which,s="play-on-seeked";if(V(e)&&39!==n&&37!==n)return;t.lastSeekTime=Date.now();const r=i.hasAttribute(s),o=["mouseup","touchend","keyup"].includes(e.type);r&&o?(i.removeAttribute(s),Et(t.play())):!o&&t.playing&&(i.setAttribute(s,""),t.pause())}),G.isIos){const e=ht.call(t,'input[type="range"]');Array.from(e).forEach(t=>this.bind(t,i,t=>$(t.target)))}this.bind(e.inputs.seek,i,e=>{const i=e.currentTarget;let n=i.getAttribute("seek-value");X(n)&&(n=i.value),i.removeAttribute("seek-value"),t.currentTime=n/i.max*t.duration},"seek"),this.bind(e.progress,"mouseenter mouseleave mousemove",e=>Ht.updateSeekTooltip.call(t,e)),this.bind(e.progress,"mousemove touchmove",e=>{const{previewThumbnails:i}=t;i&&i.loaded&&i.startMove(e)}),this.bind(e.progress,"mouseleave touchend click",()=>{const{previewThumbnails:e}=t;e&&e.loaded&&e.endMove(!1,!0)}),this.bind(e.progress,"mousedown touchstart",e=>{const{previewThumbnails:i}=t;i&&i.loaded&&i.startScrubbing(e)}),this.bind(e.progress,"mouseup touchend",e=>{const{previewThumbnails:i}=t;i&&i.loaded&&i.endScrubbing(e)}),G.isWebkit&&Array.from(ht.call(t,'input[type="range"]')).forEach(e=>{this.bind(e,"input",e=>Ht.updateRangeFill.call(t,e.target))}),t.config.toggleInvert&&!j(e.display.duration)&&this.bind(e.display.currentTime,"click",()=>{0!==t.currentTime&&(t.config.invertTime=!t.config.invertTime,Ht.timeUpdate.call(t))}),this.bind(e.inputs.volume,i,e=>{t.volume=e.target.value},"volume"),this.bind(e.controls,"mouseenter mouseleave",i=>{e.controls.hover=!t.touch&&"mouseenter"===i.type}),e.fullscreen&&Array.from(e.fullscreen.children).filter(t=>!t.contains(e.container)).forEach(i=>{this.bind(i,"mouseenter mouseleave",i=>{e.controls.hover=!t.touch&&"mouseenter"===i.type})}),this.bind(e.controls,"mousedown mouseup touchstart touchend touchcancel",t=>{e.controls.pressed=["mousedown","touchstart"].includes(t.type)}),this.bind(e.controls,"focusin",()=>{const{config:i,timers:n}=t;at(e.controls,i.classNames.noTransition,!0),re.toggleControls.call(t,!0),setTimeout(()=>{at(e.controls,i.classNames.noTransition,!1)},0);const s=this.touch?3e3:4e3;clearTimeout(n.controls),n.controls=setTimeout(()=>re.toggleControls.call(t,!1),s)}),this.bind(e.inputs.volume,"wheel",e=>{const i=e.webkitDirectionInvertedFromDevice,[n,s]=[e.deltaX,-e.deltaY].map(t=>i?-t:t),r=Math.sign(Math.abs(n)>Math.abs(s)?n:s);t.increaseVolume(r/50);const{volume:o}=t.media;(1===r&&o<1||-1===r&&o>0)&&e.preventDefault()},"volume",!1)}),this.player=e,this.lastKey=null,this.focusTimer=null,this.lastKeyDown=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.setTabFocus=this.setTabFocus.bind(this),this.firstTouch=this.firstTouch.bind(this)}handleKey(t){const{player:e}=this,{elements:i}=e,n=t.keyCode?t.keyCode:t.which,s="keydown"===t.type,r=s&&n===this.lastKey;if(!(t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)&&L(n))if(s){const s=document.activeElement;if(j(s)){const{editable:n}=e.config.selectors,{seek:r}=i.inputs;if(s!==r&&ut(s,n))return;if(32===t.which&&ut(s,'button, [role^="menuitem"]'))return}switch([32,37,38,39,40,48,49,50,51,52,53,54,56,57,67,70,73,75,76,77,79].includes(n)&&(t.preventDefault(),t.stopPropagation()),n){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:r||(e.currentTime=e.duration/10*(n-48));break;case 32:case 75:r||Et(e.togglePlay());break;case 38:e.increaseVolume(.1);break;case 40:e.decreaseVolume(.1);break;case 77:r||(e.muted=!e.muted);break;case 39:e.forward();break;case 37:e.rewind();break;case 70:e.fullscreen.toggle();break;case 67:r||e.toggleCaptions();break;case 76:e.loop=!e.loop}27===n&&!e.fullscreen.usingNative&&e.fullscreen.active&&e.fullscreen.toggle(),this.lastKey=n}else this.lastKey=null}toggleMenu(t){Ht.toggleMenu.call(this.player,t)}}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e||"undefined"!=typeof self&&self;var ae=function(t,e){return t(e={exports:{}},e.exports),e.exports}((function(t,e){t.exports=function(){var t=function(){},e={},i={},n={};function s(t,e){t=t.push?t:[t];var s,r,o,a=[],l=t.length,u=l;for(s=function(t,i){i.length&&a.push(t),--u||e(a)};l--;)r=t[l],(o=i[r])?s(r,o):(n[r]=n[r]||[]).push(s)}function r(t,e){if(t){var s=n[t];if(i[t]=e,s)for(;s.length;)s[0](t,e),s.splice(0,1)}}function o(e,i){e.call&&(e={success:e}),i.length?(e.error||t)(i):(e.success||t)(e)}function a(e,i,n,s){var r,o,l=document,u=n.async,h=(n.numRetries||0)+1,c=n.before||t,d=e.replace(/[\?|#].*$/,""),p=e.replace(/^(css|img)!/,"");s=s||0,/(^css!|\.css$)/.test(d)?((o=l.createElement("link")).rel="stylesheet",o.href=p,(r="hideFocus"in o)&&o.relList&&(r=0,o.rel="preload",o.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(d)?(o=l.createElement("img")).src=p:((o=l.createElement("script")).src=e,o.async=void 0===u||u),o.onload=o.onerror=o.onbeforeload=function(t){var l=t.type[0];if(r)try{o.sheet.cssText.length||(l="e")}catch(t){18!=t.code&&(l="e")}if("e"==l){if((s+=1)<h)return a(e,i,n,s)}else if("preload"==o.rel&&"style"==o.as)return o.rel="stylesheet";i(e,l,t.defaultPrevented)},!1!==c(e,o)&&l.head.appendChild(o)}function l(t,e,i){var n,s,r=(t=t.push?t:[t]).length,o=r,l=[];for(n=function(t,i,n){if("e"==i&&l.push(t),"b"==i){if(!n)return;l.push(t)}--r||e(l)},s=0;s<o;s++)a(t[s],n,i)}function u(t,i,n){var s,a;if(i&&i.trim&&(s=i),a=(s?n:i)||{},s){if(s in e)throw"LoadJS";e[s]=!0}function u(e,i){l(t,(function(t){o(a,t),e&&o({success:e,error:i},t),r(s,t)}),a)}if(a.returnPromise)return new Promise(u);u()}return u.ready=function(t,e){return s(t,(function(t){o(e,t)})),u},u.done=function(t){r(t,[])},u.reset=function(){e={},i={},n={}},u.isDefined=function(t){return t in e},u}()}));function le(t){return new Promise((e,i)=>{ae(t,{success:e,error:i})})}function ue(t){t&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===t&&(this.media.paused=!t,Dt.call(this,this.media,t?"play":"pause"))}const he={setup(){const t=this;at(t.elements.wrapper,t.config.classNames.embed,!0),t.options.speed=t.config.speed.options,Ft.call(t),O(window.Vimeo)?he.ready.call(t):le(t.config.urls.vimeo.sdk).then(()=>{he.ready.call(t)}).catch(e=>{t.debug.warn("Vimeo SDK (player.js) failed to load",e)})},ready(){const t=this,e=t.config.vimeo,{premium:i,referrerPolicy:n,...s}=e;i&&Object.assign(s,{controls:!1,sidedock:!1});const r=Yt({loop:t.config.loop.active,autoplay:t.autoplay,muted:t.muted,gesture:"media",playsinline:!this.config.fullscreen.iosNative,...s});let o=t.media.getAttribute("src");X(o)&&(o=t.media.getAttribute(t.config.attributes.embed.id));const a=X(l=o)?null:L(Number(l))?l:l.match(/^.*(vimeo.com\/|video\/)(\d+).*/)?RegExp.$2:l;var l;const u=tt("iframe"),h=Ot(t.config.urls.vimeo.iframe,a,r);if(u.setAttribute("src",h),u.setAttribute("allowfullscreen",""),u.setAttribute("allow",["autoplay","fullscreen","picture-in-picture","encrypted-media","accelerometer","gyroscope"].join("; ")),X(n)||u.setAttribute("referrerPolicy",n),i||!e.customControls)u.setAttribute("data-poster",t.poster),t.media=st(u,t.media);else{const e=tt("div",{class:t.config.classNames.embedContainer,"data-poster":t.poster});e.appendChild(u),t.media=st(e,t.media)}e.customControls||qt(Ot(t.config.urls.vimeo.api,h)).then(e=>{!X(e)&&e.thumbnail_url&&re.setPoster.call(t,e.thumbnail_url).catch(()=>{})}),t.embed=new window.Vimeo.Player(u,{autopause:t.config.autopause,muted:t.muted}),t.media.paused=!0,t.media.currentTime=0,t.supported.ui&&t.embed.disableTextTrack(),t.media.play=()=>(ue.call(t,!0),t.embed.play()),t.media.pause=()=>(ue.call(t,!1),t.embed.pause()),t.media.stop=()=>{t.pause(),t.currentTime=0};let{currentTime:c}=t.media;Object.defineProperty(t.media,"currentTime",{get:()=>c,set(e){const{embed:i,media:n,paused:s,volume:r}=t,o=s&&!i.hasPlayed;n.seeking=!0,Dt.call(t,n,"seeking"),Promise.resolve(o&&i.setVolume(0)).then(()=>i.setCurrentTime(e)).then(()=>o&&i.pause()).then(()=>o&&i.setVolume(r)).catch(()=>{})}});let d=t.config.speed.selected;Object.defineProperty(t.media,"playbackRate",{get:()=>d,set(e){t.embed.setPlaybackRate(e).then(()=>{d=e,Dt.call(t,t.media,"ratechange")}).catch(()=>{t.options.speed=[1]})}});let{volume:p}=t.config;Object.defineProperty(t.media,"volume",{get:()=>p,set(e){t.embed.setVolume(e).then(()=>{p=e,Dt.call(t,t.media,"volumechange")})}});let{muted:f}=t.config;Object.defineProperty(t.media,"muted",{get:()=>f,set(e){const i=!!I(e)&&e;t.embed.setVolume(i?0:t.config.volume).then(()=>{f=i,Dt.call(t,t.media,"volumechange")})}});let m,{loop:g}=t.config;Object.defineProperty(t.media,"loop",{get:()=>g,set(e){const i=I(e)?e:t.config.loop.active;t.embed.setLoop(i).then(()=>{g=i})}}),t.embed.getVideoUrl().then(e=>{m=e,Ht.setDownloadUrl.call(t)}).catch(t=>{this.debug.warn(t)}),Object.defineProperty(t.media,"currentSrc",{get:()=>m}),Object.defineProperty(t.media,"ended",{get:()=>t.currentTime===t.duration}),Promise.all([t.embed.getVideoWidth(),t.embed.getVideoHeight()]).then(e=>{const[i,n]=e;t.embed.ratio=St(i,n),Ft.call(this)}),t.embed.setAutopause(t.config.autopause).then(e=>{t.config.autopause=e}),t.embed.getVideoTitle().then(e=>{t.config.title=e,re.setTitle.call(this)}),t.embed.getCurrentTime().then(e=>{c=e,Dt.call(t,t.media,"timeupdate")}),t.embed.getDuration().then(e=>{t.media.duration=e,Dt.call(t,t.media,"durationchange")}),t.embed.getTextTracks().then(e=>{t.media.textTracks=e,$t.setup.call(t)}),t.embed.on("cuechange",({cues:e=[]})=>{const i=e.map(t=>function(t){const e=document.createDocumentFragment(),i=document.createElement("div");return e.appendChild(i),i.innerHTML=t,e.firstChild.innerText}(t.text));$t.updateCues.call(t,i)}),t.embed.on("loaded",()=>{t.embed.getPaused().then(e=>{ue.call(t,!e),e||Dt.call(t,t.media,"playing")}),j(t.embed.element)&&t.supported.ui&&t.embed.element.setAttribute("tabindex",-1)}),t.embed.on("bufferstart",()=>{Dt.call(t,t.media,"waiting")}),t.embed.on("bufferend",()=>{Dt.call(t,t.media,"playing")}),t.embed.on("play",()=>{ue.call(t,!0),Dt.call(t,t.media,"playing")}),t.embed.on("pause",()=>{ue.call(t,!1)}),t.embed.on("timeupdate",e=>{t.media.seeking=!1,c=e.seconds,Dt.call(t,t.media,"timeupdate")}),t.embed.on("progress",e=>{t.media.buffered=e.percent,Dt.call(t,t.media,"progress"),1===parseInt(e.percent,10)&&Dt.call(t,t.media,"canplaythrough"),t.embed.getDuration().then(e=>{e!==t.media.duration&&(t.media.duration=e,Dt.call(t,t.media,"durationchange"))})}),t.embed.on("seeked",()=>{t.media.seeking=!1,Dt.call(t,t.media,"seeked")}),t.embed.on("ended",()=>{t.media.paused=!0,Dt.call(t,t.media,"ended")}),t.embed.on("error",e=>{t.media.error=e,Dt.call(t,t.media,"error")}),e.customControls&&setTimeout(()=>re.build.call(t),0)}};function ce(t){t&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===t&&(this.media.paused=!t,Dt.call(this,this.media,t?"play":"pause"))}function de(t){return t.noCookie?"https://www.youtube-nocookie.com":"http:"===window.location.protocol?"http://www.youtube.com":void 0}const pe={setup(){if(at(this.elements.wrapper,this.config.classNames.embed,!0),O(window.YT)&&N(window.YT.Player))pe.ready.call(this);else{const t=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{N(t)&&t(),pe.ready.call(this)},le(this.config.urls.youtube.sdk).catch(t=>{this.debug.warn("YouTube API failed to load",t)})}},getTitle(t){qt(Ot(this.config.urls.youtube.api,t)).then(t=>{if(O(t)){const{title:e,height:i,width:n}=t;this.config.title=e,re.setTitle.call(this),this.embed.ratio=St(n,i)}Ft.call(this)}).catch(()=>{Ft.call(this)})},ready(){const t=this,e=t.config.youtube,i=t.media&&t.media.getAttribute("id");if(!X(i)&&i.startsWith("youtube-"))return;let n=t.media.getAttribute("src");X(n)&&(n=t.media.getAttribute(this.config.attributes.embed.id));const s=X(r=n)?null:r.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:r;var r;const o=tt("div",{id:`${t.provider}-${Math.floor(1e4*Math.random())}`,"data-poster":e.customControls?t.poster:void 0});if(t.media=st(o,t.media),e.customControls){const e=t=>`https://i.ytimg.com/vi/${s}/${t}default.jpg`;se(e("maxres"),121).catch(()=>se(e("sd"),121)).catch(()=>se(e("hq"))).then(e=>re.setPoster.call(t,e.src)).then(e=>{e.includes("maxres")||(t.elements.poster.style.backgroundSize="cover")}).catch(()=>{})}t.embed=new window.YT.Player(t.media,{videoId:s,host:de(e),playerVars:Q({},{autoplay:t.config.autoplay?1:0,hl:t.config.hl,controls:t.supported.ui&&e.customControls?0:1,disablekb:1,playsinline:t.config.fullscreen.iosNative?0:1,cc_load_policy:t.captions.active?1:0,cc_lang_pref:t.config.captions.language,widget_referrer:window?window.location.href:null},e),events:{onError(e){if(!t.media.error){const i=e.data,n={2:"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.",5:"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",100:"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.",101:"The owner of the requested video does not allow it to be played in embedded players.",150:"The owner of the requested video does not allow it to be played in embedded players."}[i]||"An unknown error occured";t.media.error={code:i,message:n},Dt.call(t,t.media,"error")}},onPlaybackRateChange(e){const i=e.target;t.media.playbackRate=i.getPlaybackRate(),Dt.call(t,t.media,"ratechange")},onReady(i){if(N(t.media.play))return;const n=i.target;pe.getTitle.call(t,s),t.media.play=()=>{ce.call(t,!0),n.playVideo()},t.media.pause=()=>{ce.call(t,!1),n.pauseVideo()},t.media.stop=()=>{n.stopVideo()},t.media.duration=n.getDuration(),t.media.paused=!0,t.media.currentTime=0,Object.defineProperty(t.media,"currentTime",{get:()=>Number(n.getCurrentTime()),set(e){t.paused&&!t.embed.hasPlayed&&t.embed.mute(),t.media.seeking=!0,Dt.call(t,t.media,"seeking"),n.seekTo(e)}}),Object.defineProperty(t.media,"playbackRate",{get:()=>n.getPlaybackRate(),set(t){n.setPlaybackRate(t)}});let{volume:r}=t.config;Object.defineProperty(t.media,"volume",{get:()=>r,set(e){r=e,n.setVolume(100*r),Dt.call(t,t.media,"volumechange")}});let{muted:o}=t.config;Object.defineProperty(t.media,"muted",{get:()=>o,set(e){const i=I(e)?e:o;o=i,n[i?"mute":"unMute"](),n.setVolume(100*r),Dt.call(t,t.media,"volumechange")}}),Object.defineProperty(t.media,"currentSrc",{get:()=>n.getVideoUrl()}),Object.defineProperty(t.media,"ended",{get:()=>t.currentTime===t.duration});const a=n.getAvailablePlaybackRates();t.options.speed=a.filter(e=>t.config.speed.options.includes(e)),t.supported.ui&&e.customControls&&t.media.setAttribute("tabindex",-1),Dt.call(t,t.media,"timeupdate"),Dt.call(t,t.media,"durationchange"),clearInterval(t.timers.buffering),t.timers.buffering=setInterval(()=>{t.media.buffered=n.getVideoLoadedFraction(),(null===t.media.lastBuffered||t.media.lastBuffered<t.media.buffered)&&Dt.call(t,t.media,"progress"),t.media.lastBuffered=t.media.buffered,1===t.media.buffered&&(clearInterval(t.timers.buffering),Dt.call(t,t.media,"canplaythrough"))},200),e.customControls&&setTimeout(()=>re.build.call(t),50)},onStateChange(i){const n=i.target;switch(clearInterval(t.timers.playing),t.media.seeking&&[1,2].includes(i.data)&&(t.media.seeking=!1,Dt.call(t,t.media,"seeked")),i.data){case-1:Dt.call(t,t.media,"timeupdate"),t.media.buffered=n.getVideoLoadedFraction(),Dt.call(t,t.media,"progress");break;case 0:ce.call(t,!1),t.media.loop?(n.stopVideo(),n.playVideo()):Dt.call(t,t.media,"ended");break;case 1:e.customControls&&!t.config.autoplay&&t.media.paused&&!t.embed.hasPlayed?t.media.pause():(ce.call(t,!0),Dt.call(t,t.media,"playing"),t.timers.playing=setInterval(()=>{Dt.call(t,t.media,"timeupdate")},50),t.media.duration!==n.getDuration()&&(t.media.duration=n.getDuration(),Dt.call(t,t.media,"durationchange")));break;case 2:t.muted||t.embed.unMute(),ce.call(t,!1);break;case 3:Dt.call(t,t.media,"waiting")}Dt.call(t,t.elements.container,"statechange",!1,{code:i.data})}}})}},fe={setup(){this.media?(at(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),at(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&at(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.isVideo&&(this.elements.wrapper=tt("div",{class:this.config.classNames.video}),Z(this.media,this.elements.wrapper),this.elements.poster=tt("div",{class:this.config.classNames.poster}),this.elements.wrapper.appendChild(this.elements.poster)),this.isHTML5?Pt.setup.call(this):this.isYouTube?pe.setup.call(this):this.isVimeo&&he.setup.call(this)):this.debug.warn("No media element found!")}};class me{constructor(e){t(this,"load",()=>{this.enabled&&(O(window.google)&&O(window.google.ima)?this.ready():le(this.player.config.urls.googleIMA.sdk).then(()=>{this.ready()}).catch(()=>{this.trigger("error",new Error("Google IMA SDK failed to load"))}))}),t(this,"ready",()=>{var t;this.enabled||((t=this).manager&&t.manager.destroy(),t.elements.displayContainer&&t.elements.displayContainer.destroy(),t.elements.container.remove()),this.startSafetyTimer(12e3,"ready()"),this.managerPromise.then(()=>{this.clearSafetyTimer("onAdsManagerLoaded()")}),this.listeners(),this.setupIMA()}),t(this,"setupIMA",()=>{this.elements.container=tt("div",{class:this.player.config.classNames.ads}),this.player.elements.container.appendChild(this.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(this.player.config.ads.language),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.player.config.playsinline),this.elements.displayContainer=new google.ima.AdDisplayContainer(this.elements.container,this.player.media),this.loader=new google.ima.AdsLoader(this.elements.displayContainer),this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,t=>this.onAdsManagerLoaded(t),!1),this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,t=>this.onAdError(t),!1),this.requestAds()}),t(this,"requestAds",()=>{const{container:t}=this.player.elements;try{const e=new google.ima.AdsRequest;e.adTagUrl=this.tagUrl,e.linearAdSlotWidth=t.offsetWidth,e.linearAdSlotHeight=t.offsetHeight,e.nonLinearAdSlotWidth=t.offsetWidth,e.nonLinearAdSlotHeight=t.offsetHeight,e.forceNonLinearFullSlot=!1,e.setAdWillPlayMuted(!this.player.muted),this.loader.requestAds(e)}catch(t){this.onAdError(t)}}),t(this,"pollCountdown",(t=!1)=>{if(!t)return clearInterval(this.countdownTimer),void this.elements.container.removeAttribute("data-badge-text");this.countdownTimer=setInterval(()=>{const t=Wt(Math.max(this.manager.getRemainingTime(),0)),e=`${Bt.get("advertisement",this.player.config)} - ${t}`;this.elements.container.setAttribute("data-badge-text",e)},100)}),t(this,"onAdsManagerLoaded",t=>{if(!this.enabled)return;const e=new google.ima.AdsRenderingSettings;e.restoreCustomPlaybackStateOnAdBreakComplete=!0,e.enablePreloading=!0,this.manager=t.getAdsManager(this.player,e),this.cuePoints=this.manager.getCuePoints(),this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,t=>this.onAdError(t)),Object.keys(google.ima.AdEvent.Type).forEach(t=>{this.manager.addEventListener(google.ima.AdEvent.Type[t],t=>this.onAdEvent(t))}),this.trigger("loaded")}),t(this,"addCuePoints",()=>{X(this.cuePoints)||this.cuePoints.forEach(t=>{if(0!==t&&-1!==t&&t<this.player.duration){const e=this.player.elements.progress;if(j(e)){const i=100/this.player.duration*t,n=tt("span",{class:this.player.config.classNames.cues});n.style.left=i.toString()+"%",e.appendChild(n)}}})}),t(this,"onAdEvent",t=>{const{container:e}=this.player.elements,i=t.getAd(),n=t.getAdData();switch((t=>{Dt.call(this.player,this.player.media,"ads"+t.replace(/_/g,"").toLowerCase())})(t.type),t.type){case google.ima.AdEvent.Type.LOADED:this.trigger("loaded"),this.pollCountdown(!0),i.isLinear()||(i.width=e.offsetWidth,i.height=e.offsetHeight);break;case google.ima.AdEvent.Type.STARTED:this.manager.setVolume(this.player.volume);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:this.player.ended?this.loadAds():this.loader.contentComplete();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:this.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:this.pollCountdown(),this.resumeContent();break;case google.ima.AdEvent.Type.LOG:n.adError&&this.player.debug.warn("Non-fatal ad error: "+n.adError.getMessage())}}),t(this,"onAdError",t=>{this.cancel(),this.player.debug.warn("Ads error",t)}),t(this,"listeners",()=>{const{container:t}=this.player.elements;let e;this.player.on("canplay",()=>{this.addCuePoints()}),this.player.on("ended",()=>{this.loader.contentComplete()}),this.player.on("timeupdate",()=>{e=this.player.currentTime}),this.player.on("seeked",()=>{const t=this.player.currentTime;X(this.cuePoints)||this.cuePoints.forEach((i,n)=>{e<i&&i<t&&(this.manager.discardAdBreak(),this.cuePoints.splice(n,1))})}),window.addEventListener("resize",()=>{this.manager&&this.manager.resize(t.offsetWidth,t.offsetHeight,google.ima.ViewMode.NORMAL)})}),t(this,"play",()=>{const{container:t}=this.player.elements;this.managerPromise||this.resumeContent(),this.managerPromise.then(()=>{this.manager.setVolume(this.player.volume),this.elements.displayContainer.initialize();try{this.initialized||(this.manager.init(t.offsetWidth,t.offsetHeight,google.ima.ViewMode.NORMAL),this.manager.start()),this.initialized=!0}catch(t){this.onAdError(t)}}).catch(()=>{})}),t(this,"resumeContent",()=>{this.elements.container.style.zIndex="",this.playing=!1,Et(this.player.media.play())}),t(this,"pauseContent",()=>{this.elements.container.style.zIndex=3,this.playing=!0,this.player.media.pause()}),t(this,"cancel",()=>{this.initialized&&this.resumeContent(),this.trigger("error"),this.loadAds()}),t(this,"loadAds",()=>{this.managerPromise.then(()=>{this.manager&&this.manager.destroy(),this.managerPromise=new Promise(t=>{this.on("loaded",t),this.player.debug.log(this.manager)}),this.initialized=!1,this.requestAds()}).catch(()=>{})}),t(this,"trigger",(t,...e)=>{const i=this.events[t];R(i)&&i.forEach(t=>{N(t)&&t.apply(this,e)})}),t(this,"on",(t,e)=>(R(this.events[t])||(this.events[t]=[]),this.events[t].push(e),this)),t(this,"startSafetyTimer",(t,e)=>{this.player.debug.log("Safety timer invoked from: "+e),this.safetyTimer=setTimeout(()=>{this.cancel(),this.clearSafetyTimer("startSafetyTimer()")},t)}),t(this,"clearSafetyTimer",t=>{P(this.safetyTimer)||(this.player.debug.log("Safety timer cleared from: "+t),clearTimeout(this.safetyTimer),this.safetyTimer=null)}),this.player=e,this.config=e.config.ads,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise((t,e)=>{this.on("loaded",t),this.on("error",e)}),this.load()}get enabled(){const{config:t}=this;return this.player.isHTML5&&this.player.isVideo&&t.enabled&&(!X(t.publisherId)||H(t.tagUrl))}get tagUrl(){const{config:t}=this;return H(t.tagUrl)?t.tagUrl:"https://go.aniview.com/api/adserver6/vast/?"+Yt({AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:t.publisherId})}}const ge=t=>{const e=[];return t.split(/\r\n\r\n|\n\n|\r\r/).forEach(t=>{const i={};t.split(/\r\n|\n|\r/).forEach(t=>{if(L(i.startTime)){if(!X(t.trim())&&X(i.text)){const e=t.trim().split("#xywh=");[i.text]=e,e[1]&&([i.x,i.y,i.w,i.h]=e[1].split(","))}}else{const e=t.match(/([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})( ?--> ?)([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})/);e&&(i.startTime=60*Number(e[1]||0)*60+60*Number(e[2])+Number(e[3])+Number("0."+e[4]),i.endTime=60*Number(e[6]||0)*60+60*Number(e[7])+Number(e[8])+Number("0."+e[9]))}}),i.text&&e.push(i)}),e},ye=(t,e)=>{const i={};return t>e.width/e.height?(i.width=e.width,i.height=1/t*e.width):(i.height=e.height,i.width=t*e.height),i};class ve{constructor(e){t(this,"load",()=>{this.player.elements.display.seekTooltip&&(this.player.elements.display.seekTooltip.hidden=this.enabled),this.enabled&&this.getThumbnails().then(()=>{this.enabled&&(this.render(),this.determineContainerAutoSizing(),this.loaded=!0)})}),t(this,"getThumbnails",()=>new Promise(t=>{const{src:e}=this.player.config.previewThumbnails;if(X(e))throw new Error("Missing previewThumbnails.src config attribute");const i=()=>{this.thumbnails.sort((t,e)=>t.height-e.height),this.player.debug.log("Preview thumbnails",this.thumbnails),t()};if(N(e))e(t=>{this.thumbnails=t,i()});else{const t=(z(e)?[e]:e).map(t=>this.getThumbnail(t));Promise.all(t).then(i)}})),t(this,"getThumbnail",t=>new Promise(e=>{qt(t).then(i=>{const n={frames:ge(i),height:null,urlPrefix:""};n.frames[0].text.startsWith("/")||n.frames[0].text.startsWith("http://")||n.frames[0].text.startsWith("https://")||(n.urlPrefix=t.substring(0,t.lastIndexOf("/")+1));const s=new Image;s.onload=()=>{n.height=s.naturalHeight,n.width=s.naturalWidth,this.thumbnails.push(n),e()},s.src=n.urlPrefix+n.frames[0].text})})),t(this,"startMove",t=>{if(this.loaded&&q(t)&&["touchmove","mousemove"].includes(t.type)&&this.player.media.duration){if("touchmove"===t.type)this.seekTime=this.player.media.duration*(this.player.elements.inputs.seek.value/100);else{const e=this.player.elements.progress.getBoundingClientRect(),i=100/e.width*(t.pageX-e.left);this.seekTime=this.player.media.duration*(i/100),this.seekTime<0&&(this.seekTime=0),this.seekTime>this.player.media.duration-1&&(this.seekTime=this.player.media.duration-1),this.mousePosX=t.pageX,this.elements.thumb.time.innerText=Wt(this.seekTime)}this.showImageAtCurrentTime()}}),t(this,"endMove",()=>{this.toggleThumbContainer(!1,!0)}),t(this,"startScrubbing",t=>{(P(t.button)||!1===t.button||0===t.button)&&(this.mouseDown=!0,this.player.media.duration&&(this.toggleScrubbingContainer(!0),this.toggleThumbContainer(!1,!0),this.showImageAtCurrentTime()))}),t(this,"endScrubbing",()=>{this.mouseDown=!1,Math.ceil(this.lastTime)===Math.ceil(this.player.media.currentTime)?this.toggleScrubbingContainer(!1):bt.call(this.player,this.player.media,"timeupdate",()=>{this.mouseDown||this.toggleScrubbingContainer(!1)})}),t(this,"listeners",()=>{this.player.on("play",()=>{this.toggleThumbContainer(!1,!0)}),this.player.on("seeked",()=>{this.toggleThumbContainer(!1)}),this.player.on("timeupdate",()=>{this.lastTime=this.player.media.currentTime})}),t(this,"render",()=>{this.elements.thumb.container=tt("div",{class:this.player.config.classNames.previewThumbnails.thumbContainer}),this.elements.thumb.imageContainer=tt("div",{class:this.player.config.classNames.previewThumbnails.imageContainer}),this.elements.thumb.container.appendChild(this.elements.thumb.imageContainer);const t=tt("div",{class:this.player.config.classNames.previewThumbnails.timeContainer});this.elements.thumb.time=tt("span",{},"00:00"),t.appendChild(this.elements.thumb.time),this.elements.thumb.container.appendChild(t),j(this.player.elements.progress)&&this.player.elements.progress.appendChild(this.elements.thumb.container),this.elements.scrubbing.container=tt("div",{class:this.player.config.classNames.previewThumbnails.scrubbingContainer}),this.player.elements.wrapper.appendChild(this.elements.scrubbing.container)}),t(this,"destroy",()=>{this.elements.thumb.container&&this.elements.thumb.container.remove(),this.elements.scrubbing.container&&this.elements.scrubbing.container.remove()}),t(this,"showImageAtCurrentTime",()=>{this.mouseDown?this.setScrubbingContainerSize():this.setThumbContainerSizeAndPos();const t=this.thumbnails[0].frames.findIndex(t=>this.seekTime>=t.startTime&&this.seekTime<=t.endTime),e=t>=0;let i=0;this.mouseDown||this.toggleThumbContainer(e),e&&(this.thumbnails.forEach((e,n)=>{this.loadedImages.includes(e.frames[t].text)&&(i=n)}),t!==this.showingThumb&&(this.showingThumb=t,this.loadImage(i)))}),t(this,"loadImage",(t=0)=>{const e=this.showingThumb,i=this.thumbnails[t],{urlPrefix:n}=i,s=i.frames[e],r=i.frames[e].text,o=n+r;if(this.currentImageElement&&this.currentImageElement.dataset.filename===r)this.showImage(this.currentImageElement,s,t,e,r,!1),this.currentImageElement.dataset.index=e,this.removeOldImages(this.currentImageElement);else{this.loadingImage&&this.usingSprites&&(this.loadingImage.onload=null);const i=new Image;i.src=o,i.dataset.index=e,i.dataset.filename=r,this.showingThumbFilename=r,this.player.debug.log("Loading image: "+o),i.onload=()=>this.showImage(i,s,t,e,r,!0),this.loadingImage=i,this.removeOldImages(i)}}),t(this,"showImage",(t,e,i,n,s,r=!0)=>{this.player.debug.log(`Showing thumb: ${s}. num: ${n}. qual: ${i}. newimg: ${r}`),this.setImageSizeAndOffset(t,e),r&&(this.currentImageContainer.appendChild(t),this.currentImageElement=t,this.loadedImages.includes(s)||this.loadedImages.push(s)),this.preloadNearby(n,!0).then(this.preloadNearby(n,!1)).then(this.getHigherQuality(i,t,e,s))}),t(this,"removeOldImages",t=>{Array.from(this.currentImageContainer.children).forEach(e=>{if("img"!==e.tagName.toLowerCase())return;const i=this.usingSprites?500:1e3;if(e.dataset.index!==t.dataset.index&&!e.dataset.deleting){e.dataset.deleting=!0;const{currentImageContainer:t}=this;setTimeout(()=>{t.removeChild(e),this.player.debug.log("Removing thumb: "+e.dataset.filename)},i)}})}),t(this,"preloadNearby",(t,e=!0)=>new Promise(i=>{setTimeout(()=>{const n=this.thumbnails[0].frames[t].text;if(this.showingThumbFilename===n){let s;s=e?this.thumbnails[0].frames.slice(t):this.thumbnails[0].frames.slice(0,t).reverse();let r=!1;s.forEach(t=>{const e=t.text;if(e!==n&&!this.loadedImages.includes(e)){r=!0,this.player.debug.log("Preloading thumb filename: "+e);const{urlPrefix:t}=this.thumbnails[0],n=t+e,s=new Image;s.src=n,s.onload=()=>{this.player.debug.log("Preloaded thumb filename: "+e),this.loadedImages.includes(e)||this.loadedImages.push(e),i()}}}),r||i()}},300)})),t(this,"getHigherQuality",(t,e,i,n)=>{if(t<this.thumbnails.length-1){let s=e.naturalHeight;this.usingSprites&&(s=i.h),s<this.thumbContainerHeight&&setTimeout(()=>{this.showingThumbFilename===n&&(this.player.debug.log("Showing higher quality thumb for: "+n),this.loadImage(t+1))},300)}}),t(this,"toggleThumbContainer",(t=!1,e=!1)=>{const i=this.player.config.classNames.previewThumbnails.thumbContainerShown;this.elements.thumb.container.classList.toggle(i,t),!t&&e&&(this.showingThumb=null,this.showingThumbFilename=null)}),t(this,"toggleScrubbingContainer",(t=!1)=>{const e=this.player.config.classNames.previewThumbnails.scrubbingContainerShown;this.elements.scrubbing.container.classList.toggle(e,t),t||(this.showingThumb=null,this.showingThumbFilename=null)}),t(this,"determineContainerAutoSizing",()=>{(this.elements.thumb.imageContainer.clientHeight>20||this.elements.thumb.imageContainer.clientWidth>20)&&(this.sizeSpecifiedInCSS=!0)}),t(this,"setThumbContainerSizeAndPos",()=>{if(this.sizeSpecifiedInCSS){if(this.elements.thumb.imageContainer.clientHeight>20&&this.elements.thumb.imageContainer.clientWidth<20){const t=Math.floor(this.elements.thumb.imageContainer.clientHeight*this.thumbAspectRatio);this.elements.thumb.imageContainer.style.width=t+"px"}else if(this.elements.thumb.imageContainer.clientHeight<20&&this.elements.thumb.imageContainer.clientWidth>20){const t=Math.floor(this.elements.thumb.imageContainer.clientWidth/this.thumbAspectRatio);this.elements.thumb.imageContainer.style.height=t+"px"}}else{const t=Math.floor(this.thumbContainerHeight*this.thumbAspectRatio);this.elements.thumb.imageContainer.style.height=this.thumbContainerHeight+"px",this.elements.thumb.imageContainer.style.width=t+"px"}this.setThumbContainerPos()}),t(this,"setThumbContainerPos",()=>{const t=this.player.elements.progress.getBoundingClientRect(),e=this.player.elements.container.getBoundingClientRect(),{container:i}=this.elements.thumb,n=e.left-t.left+10,s=e.right-t.left-i.clientWidth-10;let r=this.mousePosX-t.left-i.clientWidth/2;r<n&&(r=n),r>s&&(r=s),i.style.left=r+"px"}),t(this,"setScrubbingContainerSize",()=>{const{width:t,height:e}=ye(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});this.elements.scrubbing.container.style.width=t+"px",this.elements.scrubbing.container.style.height=e+"px"}),t(this,"setImageSizeAndOffset",(t,e)=>{if(!this.usingSprites)return;const i=this.thumbContainerHeight/e.h;t.style.height=t.naturalHeight*i+"px",t.style.width=t.naturalWidth*i+"px",t.style.left=`-${e.x*i}px`,t.style.top=`-${e.y*i}px`}),this.player=e,this.thumbnails=[],this.loaded=!1,this.lastMouseMoveTime=Date.now(),this.mouseDown=!1,this.loadedImages=[],this.elements={thumb:{},scrubbing:{}},this.load()}get enabled(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.previewThumbnails.enabled}get currentImageContainer(){return this.mouseDown?this.elements.scrubbing.container:this.elements.thumb.imageContainer}get usingSprites(){return Object.keys(this.thumbnails[0].frames[0]).includes("w")}get thumbAspectRatio(){return this.usingSprites?this.thumbnails[0].frames[0].w/this.thumbnails[0].frames[0].h:this.thumbnails[0].width/this.thumbnails[0].height}get thumbContainerHeight(){if(this.mouseDown){const{height:t}=ye(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});return t}return this.sizeSpecifiedInCSS?this.elements.thumb.imageContainer.clientHeight:Math.floor(this.player.media.clientWidth/this.thumbAspectRatio/4)}get currentImageElement(){return this.mouseDown?this.currentScrubbingImageElement:this.currentThumbnailImageElement}set currentImageElement(t){this.mouseDown?this.currentScrubbingImageElement=t:this.currentThumbnailImageElement=t}}const be={insertElements(t,e){z(e)?et(t,this.media,{src:e}):R(e)&&e.forEach(e=>{et(t,this.media,e)})},change(t){K(t,"sources.length")?(Pt.cancelRequests.call(this),this.destroy.call(this,()=>{this.options.quality=[],it(this.media),this.media=null,j(this.elements.container)&&this.elements.container.removeAttribute("class");const{sources:e,type:i}=t,[{provider:n=Zt.html5,src:s}]=e,r="html5"===n?i:"div",o="html5"===n?{}:{src:s};Object.assign(this,{provider:n,type:i,supported:ft.check(i,n,this.config.playsinline),media:tt(r,o)}),this.elements.container.appendChild(this.media),I(t.autoplay)&&(this.config.autoplay=t.autoplay),this.isHTML5&&(this.config.crossorigin&&this.media.setAttribute("crossorigin",""),this.config.autoplay&&this.media.setAttribute("autoplay",""),X(t.poster)||(this.poster=t.poster),this.config.loop.active&&this.media.setAttribute("loop",""),this.config.muted&&this.media.setAttribute("muted",""),this.config.playsinline&&this.media.setAttribute("playsinline","")),re.addStyleHook.call(this),this.isHTML5&&be.insertElements.call(this,"source",e),this.config.title=t.title,fe.setup.call(this),this.isHTML5&&Object.keys(t).includes("tracks")&&be.insertElements.call(this,"track",t.tracks),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&re.build.call(this),this.isHTML5&&this.media.load(),X(t.previewThumbnails)||(Object.assign(this.config.previewThumbnails,t.previewThumbnails),this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new ve(this))),this.fullscreen.update()},!0)):this.debug.warn("Invalid source format")}};class De{constructor(e,i){if(t(this,"play",()=>N(this.media.play)?(this.ads&&this.ads.enabled&&this.ads.managerPromise.then(()=>this.ads.play()).catch(()=>Et(this.media.play())),this.media.play()):null),t(this,"pause",()=>this.playing&&N(this.media.pause)?this.media.pause():null),t(this,"togglePlay",t=>(I(t)?t:!this.playing)?this.play():this.pause()),t(this,"stop",()=>{this.isHTML5?(this.pause(),this.restart()):N(this.media.stop)&&this.media.stop()}),t(this,"restart",()=>{this.currentTime=0}),t(this,"rewind",t=>{this.currentTime-=L(t)?t:this.config.seekTime}),t(this,"forward",t=>{this.currentTime+=L(t)?t:this.config.seekTime}),t(this,"increaseVolume",t=>{const e=this.media.muted?0:this.volume;this.volume=e+(L(t)?t:0)}),t(this,"decreaseVolume",t=>{this.increaseVolume(-t)}),t(this,"airplay",()=>{ft.airplay&&this.media.webkitShowPlaybackTargetPicker()}),t(this,"toggleControls",t=>{if(this.supported.ui&&!this.isAudio){const e=lt(this.elements.container,this.config.classNames.hideControls),i=void 0===t?void 0:!t,n=at(this.elements.container,this.config.classNames.hideControls,i);if(n&&R(this.config.controls)&&this.config.controls.includes("settings")&&!X(this.config.settings)&&Ht.toggleMenu.call(this,!1),n!==e){const t=n?"controlshidden":"controlsshown";Dt.call(this,this.media,t)}return!n}return!1}),t(this,"on",(t,e)=>{yt.call(this,this.elements.container,t,e)}),t(this,"once",(t,e)=>{bt.call(this,this.elements.container,t,e)}),t(this,"off",(t,e)=>{vt(this.elements.container,t,e)}),t(this,"destroy",(t,e=!1)=>{if(!this.ready)return;const i=()=>{document.body.style.overflow="",this.embed=null,e?(Object.keys(this.elements).length&&(it(this.elements.buttons.play),it(this.elements.captions),it(this.elements.controls),it(this.elements.wrapper),this.elements.buttons.play=null,this.elements.captions=null,this.elements.controls=null,this.elements.wrapper=null),N(t)&&t()):(wt.call(this),Pt.cancelRequests.call(this),st(this.elements.original,this.elements.container),Dt.call(this,this.elements.original,"destroyed",!0),N(t)&&t.call(this.elements.original),this.ready=!1,setTimeout(()=>{this.elements=null,this.media=null},200))};this.stop(),clearTimeout(this.timers.loading),clearTimeout(this.timers.controls),clearTimeout(this.timers.resized),this.isHTML5?(re.toggleNativeControls.call(this,!0),i()):this.isYouTube?(clearInterval(this.timers.buffering),clearInterval(this.timers.playing),null!==this.embed&&N(this.embed.destroy)&&this.embed.destroy(),i()):this.isVimeo&&(null!==this.embed&&this.embed.unload().then(i),setTimeout(i,200))}),t(this,"supports",t=>ft.mime.call(this,t)),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=ft.touch,this.media=e,z(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||B(this.media)||R(this.media))&&(this.media=this.media[0]),this.config=Q({},Gt,De.defaults,i||{},(()=>{try{return JSON.parse(this.media.getAttribute("data-plyr-config"))}catch(t){return{}}})()),this.elements={container:null,fullscreen:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new ie(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",ft),P(this.media)||!j(this.media))return void this.debug.error("Setup failed: no suitable element passed");if(this.media.plyr)return void this.debug.warn("Target already setup");if(!this.config.enabled)return void this.debug.error("Setup failed: disabled by config");if(!ft.check().api)return void this.debug.error("Setup failed: no support");const n=this.media.cloneNode(!0);n.autoplay=!1,this.elements.original=n;const s=this.media.tagName.toLowerCase();let r=null,o=null;switch(s){case"div":if(r=this.media.querySelector("iframe"),j(r)){if(o=Xt(r.getAttribute("src")),this.provider=function(t){return/^(https?:\/\/)?(www\.)?(youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(t)?Zt.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(t)?Zt.vimeo:null}(o.toString()),this.elements.container=this.media,this.media=r,this.elements.container.className="",o.search.length){const t=["1","true"];t.includes(o.searchParams.get("autoplay"))&&(this.config.autoplay=!0),t.includes(o.searchParams.get("loop"))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=t.includes(o.searchParams.get("playsinline")),this.config.youtube.hl=o.searchParams.get("hl")):this.config.playsinline=!0}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if(X(this.provider)||!Object.values(Zt).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type=te;break;case"video":case"audio":this.type=s,this.provider=Zt.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),(this.media.hasAttribute("playsinline")||this.media.hasAttribute("webkit-playsinline"))&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type")}this.supported=ft.check(this.type,this.provider,this.config.playsinline),this.supported.api?(this.eventListeners=[],this.listeners=new oe(this),this.storage=new jt(this),this.media.plyr=this,j(this.elements.container)||(this.elements.container=tt("div",{tabindex:0}),Z(this.media,this.elements.container)),re.migrateStyles.call(this),re.addStyleHook.call(this),fe.setup.call(this),this.config.debug&&yt.call(this,this.elements.container,this.config.events.join(" "),t=>{this.debug.log("event: "+t.type)}),this.fullscreen=new ne(this),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&re.build.call(this),this.listeners.container(),this.listeners.global(),this.config.ads.enabled&&(this.ads=new me(this)),this.isHTML5&&this.config.autoplay&&this.once("canplay",()=>Et(this.play())),this.lastSeekTime=0,this.config.previewThumbnails.enabled&&(this.previewThumbnails=new ve(this))):this.debug.error("Setup failed: no support")}get isHTML5(){return this.provider===Zt.html5}get isEmbed(){return this.isYouTube||this.isVimeo}get isYouTube(){return this.provider===Zt.youtube}get isVimeo(){return this.provider===Zt.vimeo}get isVideo(){return this.type===te}get isAudio(){return this.type===Jt}get playing(){return Boolean(this.ready&&!this.paused&&!this.ended)}get paused(){return Boolean(this.media.paused)}get stopped(){return Boolean(this.paused&&0===this.currentTime)}get ended(){return Boolean(this.media.ended)}set currentTime(t){if(!this.duration)return;const e=L(t)&&t>0;this.media.currentTime=e?Math.min(t,this.duration):0,this.debug.log(`Seeking to ${this.currentTime} seconds`)}get currentTime(){return Number(this.media.currentTime)}get buffered(){const{buffered:t}=this.media;return L(t)?t:t&&t.length&&this.duration>0?t.end(0)/this.duration:0}get seeking(){return Boolean(this.media.seeking)}get duration(){const t=parseFloat(this.config.duration),e=(this.media||{}).duration,i=L(e)&&e!==1/0?e:0;return t||i}set volume(t){let e=t;z(e)&&(e=Number(e)),L(e)||(e=this.storage.get("volume")),L(e)||({volume:e}=this.config),e>1&&(e=1),e<0&&(e=0),this.config.volume=e,this.media.volume=e,!X(t)&&this.muted&&e>0&&(this.muted=!1)}get volume(){return Number(this.media.volume)}set muted(t){let e=t;I(e)||(e=this.storage.get("muted")),I(e)||(e=this.config.muted),this.config.muted=e,this.media.muted=e}get muted(){return Boolean(this.media.muted)}get hasAudio(){return!this.isHTML5||!!this.isAudio||Boolean(this.media.mozHasAudio)||Boolean(this.media.webkitAudioDecodedByteCount)||Boolean(this.media.audioTracks&&this.media.audioTracks.length)}set speed(t){let e=null;L(t)&&(e=t),L(e)||(e=this.storage.get("speed")),L(e)||(e=this.config.speed.selected);const{minimumSpeed:i,maximumSpeed:n}=this;e=function(t=0,e=0,i=255){return Math.min(Math.max(t,e),i)}(e,i,n),this.config.speed.selected=e,setTimeout(()=>{this.media.playbackRate=e},0)}get speed(){return Number(this.media.playbackRate)}get minimumSpeed(){return this.isYouTube?Math.min(...this.options.speed):this.isVimeo?.5:.0625}get maximumSpeed(){return this.isYouTube?Math.max(...this.options.speed):this.isVimeo?2:16}set quality(t){const e=this.config.quality,i=this.options.quality;if(!i.length)return;let n=[!X(t)&&Number(t),this.storage.get("quality"),e.selected,e.default].find(L),s=!0;if(!i.includes(n)){const t=Ct(i,n);this.debug.warn(`Unsupported quality option: ${n}, using ${t} instead`),n=t,s=!1}e.selected=n,this.media.quality=n,s&&this.storage.set({quality:n})}get quality(){return this.media.quality}set loop(t){const e=I(t)?t:this.config.loop.active;this.config.loop.active=e,this.media.loop=e}get loop(){return Boolean(this.media.loop)}set source(t){be.change.call(this,t)}get source(){return this.media.currentSrc}get download(){const{download:t}=this.config.urls;return H(t)?t:this.source}set download(t){H(t)&&(this.config.urls.download=t,Ht.setDownloadUrl.call(this))}set poster(t){this.isVideo?re.setPoster.call(this,t,!1).catch(()=>{}):this.debug.warn("Poster can only be set for video")}get poster(){return this.isVideo?this.media.getAttribute("poster")||this.media.getAttribute("data-poster"):null}get ratio(){if(!this.isVideo)return null;const t=At(Mt.call(this));return R(t)?t.join(":"):t}set ratio(t){this.isVideo?z(t)&&kt(t)?(this.config.ratio=At(t),Ft.call(this)):this.debug.error(`Invalid aspect ratio specified (${t})`):this.debug.warn("Aspect ratio can only be set for video")}set autoplay(t){const e=I(t)?t:this.config.autoplay;this.config.autoplay=e}get autoplay(){return Boolean(this.config.autoplay)}toggleCaptions(t){$t.toggle.call(this,t,!1)}set currentTrack(t){$t.set.call(this,t,!1)}get currentTrack(){const{toggled:t,currentTrack:e}=this.captions;return t?e:-1}set language(t){$t.setLanguage.call(this,t,!1)}get language(){return($t.getCurrentTrack.call(this)||{}).language}set pip(t){if(!ft.pip)return;const e=I(t)?t:!this.pip;N(this.media.webkitSetPresentationMode)&&this.media.webkitSetPresentationMode(e?Kt:Qt),N(this.media.requestPictureInPicture)&&(!this.pip&&e?this.media.requestPictureInPicture():this.pip&&!e&&document.exitPictureInPicture())}get pip(){return ft.pip?X(this.media.webkitPresentationMode)?this.media===document.pictureInPictureElement:this.media.webkitPresentationMode===Kt:null}static supported(t,e,i){return ft.check(t,e,i)}static loadSprite(t,e){return Vt(t,e)}static setup(t,e={}){let i=null;return z(t)?i=Array.from(document.querySelectorAll(t)):B(t)?i=Array.from(t):R(t)&&(i=t.filter(j)),X(i)?null:i.map(t=>new De(t,e))}}var we;return De.defaults=(we=Gt,JSON.parse(JSON.stringify(we))),De}())}).call(this,i(2))},function(t,e,i){!function(){function e(t,e){document.addEventListener?t.addEventListener("scroll",e,!1):t.attachEvent("scroll",e)}function i(t){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(t)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function n(t,e){t.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+e+";"}function s(t){var e=t.a.offsetWidth,i=e+100;return t.f.style.width=i+"px",t.c.scrollLeft=i,t.b.scrollLeft=t.b.scrollWidth+100,t.g!==e&&(t.g=e,!0)}function r(t,i){function n(){var t=r;s(t)&&t.a.parentNode&&i(t.g)}var r=t;e(t.b,n),e(t.c,n),s(t)}function o(t,e){var i=e||{};this.family=t,this.style=i.style||"normal",this.weight=i.weight||"normal",this.stretch=i.stretch||"normal"}var a=null,l=null,u=null,h=null;function c(){return null===h&&(h=!!document.fonts),h}function d(){if(null===u){var t=document.createElement("div");try{t.style.font="condensed 100px sans-serif"}catch(t){}u=""!==t.style.font}return u}function p(t,e){return[t.style,t.weight,d()?t.stretch:"","100px",e].join(" ")}o.prototype.load=function(t,e){var s=this,o=t||"BESbswy",u=0,h=e||3e3,d=(new Date).getTime();return new Promise((function(t,e){if(c()&&!function(){if(null===l)if(c()&&/Apple/.test(window.navigator.vendor)){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);l=!!t&&603>parseInt(t[1],10)}else l=!1;return l}()){var f=new Promise((function(t,e){!function i(){(new Date).getTime()-d>=h?e(Error(h+"ms timeout exceeded")):document.fonts.load(p(s,'"'+s.family+'"'),o).then((function(e){1<=e.length?t():setTimeout(i,25)}),e)}()})),m=new Promise((function(t,e){u=setTimeout((function(){e(Error(h+"ms timeout exceeded"))}),h)}));Promise.race([m,f]).then((function(){clearTimeout(u),t(s)}),e)}else!function(t){document.body?t():document.addEventListener?document.addEventListener("DOMContentLoaded",(function e(){document.removeEventListener("DOMContentLoaded",e),t()})):document.attachEvent("onreadystatechange",(function e(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",e),t())}))}((function(){function l(){var e;(e=-1!=g&&-1!=y||-1!=g&&-1!=v||-1!=y&&-1!=v)&&((e=g!=y&&g!=v&&y!=v)||(null===a&&(e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),a=!!e&&(536>parseInt(e[1],10)||536===parseInt(e[1],10)&&11>=parseInt(e[2],10))),e=a&&(g==b&&y==b&&v==b||g==D&&y==D&&v==D||g==w&&y==w&&v==w)),e=!e),e&&(_.parentNode&&_.parentNode.removeChild(_),clearTimeout(u),t(s))}var c=new i(o),f=new i(o),m=new i(o),g=-1,y=-1,v=-1,b=-1,D=-1,w=-1,_=document.createElement("div");_.dir="ltr",n(c,p(s,"sans-serif")),n(f,p(s,"serif")),n(m,p(s,"monospace")),_.appendChild(c.a),_.appendChild(f.a),_.appendChild(m.a),document.body.appendChild(_),b=c.a.offsetWidth,D=f.a.offsetWidth,w=m.a.offsetWidth,function t(){if((new Date).getTime()-d>=h)_.parentNode&&_.parentNode.removeChild(_),e(Error(h+"ms timeout exceeded"));else{var i=document.hidden;!0!==i&&void 0!==i||(g=c.a.offsetWidth,y=f.a.offsetWidth,v=m.a.offsetWidth,l()),u=setTimeout(t,50)}}(),r(c,(function(t){g=t,l()})),n(c,p(s,'"'+s.family+'",sans-serif')),r(f,(function(t){y=t,l()})),n(f,p(s,'"'+s.family+'",serif')),r(m,(function(t){v=t,l()})),n(m,p(s,'"'+s.family+'",monospace'))}))}))},t.exports=o}()},function(t,e,i){"use strict";var n=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function o(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(t){n[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var i,a,l=o(t),u=1;u<arguments.length;u++){for(var h in i=Object(arguments[u]))s.call(i,h)&&(l[h]=i[h]);if(n){a=n(i);for(var c=0;c<a.length;c++)r.call(i,a[c])&&(l[a[c]]=i[a[c]])}}return l}},function(t,e,i){(function(){(null!==e?e:this).Lethargy=function(){function t(t,e,i,n){this.stability=null!=t?Math.abs(t):8,this.sensitivity=null!=e?1+Math.abs(e):100,this.tolerance=null!=i?1+Math.abs(i):1.1,this.delay=null!=n?n:150,this.lastUpDeltas=function(){var t,e,i;for(i=[],t=1,e=2*this.stability;1<=e?t<=e:t>=e;1<=e?t++:t--)i.push(null);return i}.call(this),this.lastDownDeltas=function(){var t,e,i;for(i=[],t=1,e=2*this.stability;1<=e?t<=e:t>=e;1<=e?t++:t--)i.push(null);return i}.call(this),this.deltasTimestamp=function(){var t,e,i;for(i=[],t=1,e=2*this.stability;1<=e?t<=e:t>=e;1<=e?t++:t--)i.push(null);return i}.call(this)}return t.prototype.check=function(t){var e;return null!=(t=t.originalEvent||t).wheelDelta?e=t.wheelDelta:null!=t.deltaY?e=-40*t.deltaY:null==t.detail&&0!==t.detail||(e=-40*t.detail),this.deltasTimestamp.push(Date.now()),this.deltasTimestamp.shift(),e>0?(this.lastUpDeltas.push(e),this.lastUpDeltas.shift(),this.isInertia(1)):(this.lastDownDeltas.push(e),this.lastDownDeltas.shift(),this.isInertia(-1))},t.prototype.isInertia=function(t){var e,i,n,s,r,o,a;return null===(e=-1===t?this.lastDownDeltas:this.lastUpDeltas)[0]?t:!(this.deltasTimestamp[2*this.stability-2]+this.delay>Date.now()&&e[0]===e[2*this.stability-1])&&(n=e.slice(0,this.stability),i=e.slice(this.stability,2*this.stability),a=n.reduce((function(t,e){return t+e})),r=i.reduce((function(t,e){return t+e})),o=a/n.length,s=r/i.length,Math.abs(o)<Math.abs(s*this.tolerance)&&this.sensitivity<Math.abs(s)&&t)},t.prototype.showLastUpDeltas=function(){return this.lastUpDeltas},t.prototype.showLastDownDeltas=function(){return this.lastDownDeltas},t}()}).call(this)},function(t,e,i){"use strict";t.exports={hasWheelEvent:"onwheel"in document,hasMouseWheelEvent:"onmousewheel"in document,hasTouch:"ontouchstart"in window||window.TouchEvent||window.DocumentTouch&&document instanceof DocumentTouch,hasTouchWin:navigator.msMaxTouchPoints&&navigator.msMaxTouchPoints>1,hasPointer:!!window.navigator.msPointerEnabled,hasKeyDown:"onkeydown"in document,isFirefox:navigator.userAgent.indexOf("Firefox")>-1}},function(t,e,i){"use strict";t.exports=function(t){return JSON.parse(JSON.stringify(t))}},function(t,e,i){"use strict";var n=Object.prototype.toString,s=Object.prototype.hasOwnProperty;function r(t,e){return function(){return t.apply(e,arguments)}}t.exports=function(t){if(!t)return console.warn("bindAll requires at least one argument.");var e=Array.prototype.slice.call(arguments,1);if(0===e.length)for(var i in t)s.call(t,i)&&"function"==typeof t[i]&&"[object Function]"==n.call(t[i])&&e.push(i);for(var o=0;o<e.length;o++){var a=e[o];t[a]=r(t[a],t)}}},,function(t,e,i){"use strict";i.r(e);var n=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return e.querySelector(t)},s=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return r(e.querySelectorAll(t))},r=function(t){return Array.prototype.slice.call(t,0)},o=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return e.getElementById(t)};function a(t){for(var e=[].slice.call(arguments,1),i=0;i<e.length;i++){var n=e[i];t[n]=l(t[n],t)}}function l(t,e){return function(){return t.apply(e,arguments)}}function u(t,e,i,n,s){var r=t.length,o=!0===s&&{passive:!0};if(0!==r)for(var a=0;a<r;a++)t[a][e+"EventListener"](i,n,o);else t[e+"EventListener"](i,n,o)}var h=function(t){var e=t.getBoundingClientRect();return{bottom:e.bottom+window.scrollY,left:e.left,height:e.height,right:e.right,top:e.top+window.scrollY,width:e.width,x:e.x,y:e.y}},c=function(){var t=window,e="inner";return"innerWidth"in window||(e="client",t=document.documentElement||document.body),{width:t["".concat(e,"Width")],height:t["".concat(e,"Height")]}},d=function(){return{XS:window.innerWidth<=500,S:window.innerWidth<=749,S_UP:window.innerWidth>=501,M:window.innerWidth<=1024,M_UP:window.innerWidth>=750,L:window.innerWidth>=1025}},p={uA:navigator.userAgent.toLowerCase(),aV:navigator.appVersion.toLowerCase(),get isWindowsMobile(){return/windows phone|iemobile|wpdesktop/.test(this.uA)},get isMobileOpera(){return/opera mini/i.test(this.uA)},get isIOS(){return/iphone|ipad|ipod/i.test(this.uA)},get isIpad(){return!this.isWindowsMobile&&/ipad/i.test(this.uA)&&this.isIOS},get isIphone(){return!this.isWindowsMobile&&/iphone/i.test(this.uA)&&this.isIOS},get isMobileAndroid(){return!this.isWindowsMobile&&/android.*mobile/.test(this.uA)},get isTabletAndroid(){return!this.isWindowsMobile&&!this.isMobileAndroid&&/android/i.test(this.uA)},get isAndroid(){return this.isMobileAndroid||this.isTabletAndroid},get isPhone(){return this.isMobileAndroid||this.isIOS&&!this.isIpad||this.isWindowsMobile},get isTablet(){return this.isTabletAndroid||this.isIpad},get isDevice(){return this.isPhone||this.isTablet},get isFirefox(){return this.uA.indexOf("firefox")>-1},get isSafari(){return!!this.uA.match(/version\/[\d\.]+.*safari/)},get isOpera(){return this.uA.indexOf("opr")>-1},get isIE11(){return!window.ActiveXObject&&"ActiveXObject"in window},get isIE(){return this.aV.indexOf("msie")>-1||this.isIE11||this.aV.indexOf("edge")>-1},get isEdge(){return this.uA.indexOf("edge")>-1},get isWindows(){return-1!==["Win32","Win64","Windows","WinCE"].indexOf(window.navigator.platform)},get isChrome(){return null!==window.chrome&&void 0!==window.chrome&&"google inc."==navigator.vendor.toLowerCase()&&!this.isOpera&&!this.isEdge},get isMac(){return navigator.platform.toLowerCase().indexOf("mac")>-1},get isDesktop(){return!this.isPhone&&!this.isTablet},get isTouch(){return"ontouchstart"in window},get sniff(){return{isWindowsMobile:this.isWindowsMobile,isMobileOpera:this.isMobileOpera,isIOS:this.isIOS,isIpad:this.isIpad,isIphone:this.isIphone,isMobileAndroid:this.isMobileAndroid,isTabletAndroid:this.isTabletAndroid,isAndroid:this.isAndroid,isFirefox:this.isFirefox,isSafari:this.isSafari,isOpera:this.isOpera,isIE11:this.isIE11,isIE:this.isIE,isEdge:this.isEdge,isChrome:this.isChrome,isMac:this.isMac,isPhone:this.isPhone,isTablet:this.isTablet,isDevice:this.isDevice,isDesktop:this.isDesktop,isWindows:this.isWindows,isTouch:this.isTouch}},update:function(){Object.assign(this,{uA:navigator.userAgent.toLowerCase(),aV:navigator.appVersion.toLowerCase()})}},f=function(t,e,i){return t*(1-i)+e*i};var m=function(t,e){return function(t,e,i){var n=new RegExp(e,"gi");return document.createRange().createContextualFragment(t.replace(/([^<>]+)(?=<[^>]+>)/g,(function(t,e){return e.replace(n,i)})))}(t,e,(function(t){return'<span class="type-fix">'.concat(t,"</span>")}))},g=function(t,e,i){var n={},s=function(t,e){var i=t.position.z-1,n=t.fov*Math.PI/180,s=2*Math.tan(n/2)*i;return{width:s*e,height:s,vFov:n}}(e,i),r=b.vw,o=b.vh,a=t.bounds.width/r,l=t.bounds.height/o;if(a&&l)return n.x=s.width*a,n.y=s.height*l,{size:n,camUnit:s}},y=function(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=b.vw,s=t.bounds.left;return e=-t.scale.camUnit.width/2+t.scale.size.x/2,{x:e+=(s+i)/n*t.scale.camUnit.width}},v=function(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=b.vh,s=t.bounds.top;return e=-t.scale.camUnit.height/2+t.scale.size.y/2,{y:e+=(s+i)/n*t.scale.camUnit.height}};var b={title:"Robert Mayer",author:"mariosmaselli",body:document.body,main:n("main"),header:n("header"),page:n(".page"),footer:n("footer"),vw:c().width,vh:c().height,sniff:p.sniff,sizes:d(),bounds:{},flags:{smooth:!0,locked:!0,dropdown:!1,resize:!1,header:!1}};function D(){}D.prototype={on:function(t,e,i){var n=this.e||(this.e={});return(n[t]||(n[t]=[])).push({fn:e,ctx:i}),this},once:function(t,e,i){var n=this;function s(){n.off(t,s),e.apply(i,arguments)}return s._=e,this.on(t,s,i)},emit:function(t){for(var e=[].slice.call(arguments,1),i=((this.e||(this.e={}))[t]||[]).slice(),n=0,s=i.length;n<s;n++)i[n].fn.apply(i[n].ctx,e);return this},off:function(t,e){var i=this.e||(this.e={}),n=i[t],s=[];if(n&&e)for(var r=0,o=n.length;r<o;r++)n[r].fn!==e&&n[r].fn._!==e&&s.push(n[r]);return s.length?i[t]=s:delete i[t],this}};var w=D;w.TinyEmitter=D;var _=function(t){this.wrap=document.querySelector("[data-router-wrapper]"),this.properties=t,this.Transition=t.transition?new t.transition.class(this.wrap,t.transition.name):null};_.prototype.setup=function(){this.onEnter&&this.onEnter(),this.onEnterCompleted&&this.onEnterCompleted()},_.prototype.add=function(){this.wrap.insertAdjacentHTML("beforeend",this.properties.view.outerHTML)},_.prototype.update=function(){document.title=this.properties.page.title},_.prototype.show=function(t){var e=this;return new Promise((function(i){try{function n(t){e.onEnterCompleted&&e.onEnterCompleted(),i()}return e.update(),e.onEnter&&e.onEnter(),Promise.resolve(e.Transition?Promise.resolve(e.Transition.show(t)).then(n):n())}catch(t){return Promise.reject(t)}}))},_.prototype.hide=function(t){var e=this;return new Promise((function(i){try{function n(t){e.onLeaveCompleted&&e.onLeaveCompleted(),i()}return e.onLeave&&e.onLeave(),Promise.resolve(e.Transition?Promise.resolve(e.Transition.hide(t)).then(n):n())}catch(t){return Promise.reject(t)}}))};var E=new window.DOMParser,x=function(t,e){this.renderers=t,this.transitions=e};x.prototype.getOrigin=function(t){var e=t.match(/(https?:\/\/[\w\-.]+)/);return e?e[1].replace(/https?:\/\//,""):null},x.prototype.getPathname=function(t){var e=t.match(/https?:\/\/.*?(\/[\w_\-./]+)/);return e?e[1]:"/"},x.prototype.getAnchor=function(t){var e=t.match(/(#.*)$/);return e?e[1]:null},x.prototype.getParams=function(t){var e=t.match(/\?([\w_\-.=&]+)/);if(!e)return null;for(var i=e[1].split("&"),n={},s=0;s<i.length;s++){var r=i[s].split("=");n[r[0]]=r[1]}return n},x.prototype.getDOM=function(t){return"string"==typeof t?E.parseFromString(t,"text/html"):t},x.prototype.getView=function(t){return t.querySelector("[data-router-view]")},x.prototype.getSlug=function(t){return t.getAttribute("data-router-view")},x.prototype.getRenderer=function(t){if(!this.renderers)return Promise.resolve(_);if(t in this.renderers){var e=this.renderers[t];return"function"!=typeof e||_.isPrototypeOf(e)?"function"==typeof e.then?Promise.resolve(e).then((function(t){return t.default})):Promise.resolve(e):Promise.resolve(e()).then((function(t){return t.default}))}return Promise.resolve(_)},x.prototype.getTransition=function(t){return this.transitions?t in this.transitions?{class:this.transitions[t],name:t}:"default"in this.transitions?{class:this.transitions.default,name:"default"}:null:null},x.prototype.getProperties=function(t){var e=this.getDOM(t),i=this.getView(e),n=this.getSlug(i);return{page:e,view:i,slug:n,renderer:this.getRenderer(n,this.renderers),transition:this.getTransition(n,this.transitions)}},x.prototype.getLocation=function(t){return{href:t,anchor:this.getAnchor(t),origin:this.getOrigin(t),params:this.getParams(t),pathname:this.getPathname(t)}};var C=function(t){function e(e){var i=this;void 0===e&&(e={});var n=e.renderers,s=e.transitions;t.call(this),this.Helpers=new x(n,s),this.Transitions=s,this.Contextual=!1,this.location=this.Helpers.getLocation(window.location.href),this.properties=this.Helpers.getProperties(document.cloneNode(!0)),this.popping=!1,this.running=!1,this.trigger=null,this.cache=new Map,this.cache.set(this.location.href,this.properties),this.properties.renderer.then((function(t){i.From=new t(i.properties),i.From.setup()})),this._navigate=this.navigate.bind(this),window.addEventListener("popstate",this.popState.bind(this)),this.links=document.querySelectorAll("a:not([target]):not([data-router-disabled])"),this.attach(this.links)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.attach=function(t){for(var e=0,i=t;e<i.length;e+=1)i[e].addEventListener("click",this._navigate)},e.prototype.detach=function(t){for(var e=0,i=t;e<i.length;e+=1)i[e].removeEventListener("click",this._navigate)},e.prototype.navigate=function(t){if(!t.metaKey&&!t.ctrlKey){t.preventDefault();var e=!!t.currentTarget.hasAttribute("data-transition")&&t.currentTarget.dataset.transition;this.redirect(t.currentTarget.href,e,t.currentTarget)}},e.prototype.redirect=function(t,e,i){if(void 0===e&&(e=!1),void 0===i&&(i="script"),this.trigger=i,!this.running&&t!==this.location.href){var n=this.Helpers.getLocation(t);this.Contextual=!1,e&&(this.Contextual=this.Transitions.contextual[e].prototype,this.Contextual.name=e),n.origin!==this.location.origin||n.anchor&&n.pathname===this.location.pathname?window.location.href=t:(this.location=n,this.beforeFetch())}},e.prototype.popState=function(){this.trigger="popstate",this.Contextual=!1;var t=this.Helpers.getLocation(window.location.href);this.location.pathname!==t.pathname||!this.location.anchor&&!t.anchor?(this.popping=!0,this.location=t,this.beforeFetch()):this.location=t},e.prototype.pushState=function(){this.popping||window.history.pushState(this.location,"",this.location.href)},e.prototype.fetch=function(){try{var t=this;return Promise.resolve(fetch(t.location.href,{mode:"same-origin",method:"GET",headers:{"X-Requested-With":"Highway"},credentials:"same-origin"})).then((function(e){if(e.status>=200&&e.status<300)return e.text();window.location.href=t.location.href}))}catch(t){return Promise.reject(t)}},e.prototype.beforeFetch=function(){try{var t=this;function e(){t.afterFetch()}t.pushState(),t.running=!0,t.emit("NAVIGATE_OUT",{from:{page:t.From.properties.page,view:t.From.properties.view},trigger:t.trigger,location:t.location});var i={trigger:t.trigger,contextual:t.Contextual},n=t.cache.has(t.location.href)?Promise.resolve(t.From.hide(i)).then((function(){t.properties=t.cache.get(t.location.href)})):Promise.resolve(Promise.all([t.fetch(),t.From.hide(i)])).then((function(e){t.properties=t.Helpers.getProperties(e[0]),t.cache.set(t.location.href,t.properties)}));return Promise.resolve(n&&n.then?n.then(e):e())}catch(t){return Promise.reject(t)}},e.prototype.afterFetch=function(){try{var t=this;return Promise.resolve(t.properties.renderer).then((function(e){return t.To=new e(t.properties),t.To.add(),t.emit("NAVIGATE_IN",{to:{page:t.To.properties.page,view:t.To.wrap.lastElementChild},trigger:t.trigger,location:t.location}),Promise.resolve(t.To.show({trigger:t.trigger,contextual:t.Contextual})).then((function(){t.popping=!1,t.running=!1,t.detach(t.links),t.links=document.querySelectorAll("a:not([target]):not([data-router-disabled])"),t.attach(t.links),t.emit("NAVIGATE_END",{to:{page:t.To.properties.page,view:t.To.wrap.lastElementChild},from:{page:t.From.properties.page,view:t.From.properties.view},trigger:t.trigger,location:t.location}),t.From=t.To,t.trigger=null}))}))}catch(t){return Promise.reject(t)}},e}(w),T=function(t,e){this.wrap=t,this.name=e};T.prototype.show=function(t){var e=this,i=t.trigger,n=t.contextual,s=this.wrap.lastElementChild,r=this.wrap.firstElementChild;return new Promise((function(t){n?(s.setAttribute("data-transition-in",n.name),s.removeAttribute("data-transition-out",n.name),n.in&&n.in({to:s,from:r,trigger:i,done:t})):(s.setAttribute("data-transition-in",e.name),s.removeAttribute("data-transition-out",e.name),e.in&&e.in({to:s,from:r,trigger:i,done:t}))}))},T.prototype.hide=function(t){var e=this,i=t.trigger,n=t.contextual,s=this.wrap.firstElementChild;return new Promise((function(t){n?(s.setAttribute("data-transition-out",n.name),s.removeAttribute("data-transition-in",n.name),n.out&&n.out({from:s,trigger:i,done:t})):(s.setAttribute("data-transition-out",e.name),s.removeAttribute("data-transition-in",e.name),e.out&&e.out({from:s,trigger:i,done:t}))}))},console.log("Highway v2.2.0");var k={Core:C,Helpers:x,Renderer:_,Transition:T},A=i(0),M=new(i.n(A).a);function F(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var P,O,L,z,I,N,R,B,j,q,V,U,W,H,X,Y,$,G,K,Q,Z,J={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},tt={duration:.5,overwrite:!1,delay:0},et=1e8,it=1e-8,nt=2*Math.PI,st=nt/4,rt=0,ot=Math.sqrt,at=Math.cos,lt=Math.sin,ut=function(t){return"string"==typeof t},ht=function(t){return"function"==typeof t},ct=function(t){return"number"==typeof t},dt=function(t){return void 0===t},pt=function(t){return"object"==typeof t},ft=function(t){return!1!==t},mt=function(){return"undefined"!=typeof window},gt=function(t){return ht(t)||ut(t)},yt=Array.isArray,vt=/(?:-?\.?\d|\.)+/gi,bt=/[-+=.]*\d+[.e\-+]*\d*[e\-\+]*\d*/g,Dt=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,wt=/[-+=.]*\d+(?:\.|e-|e)*\d*/gi,_t=/\(([^()]+)\)/i,Et=/[+-]=-?[\.\d]+/,xt=/[#\-+.]*\b[a-z\d-=+%.]+/gi,Ct={},Tt={},kt=function(t){return(Tt=Jt(t,Ct))&&zi},At=function(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")},Mt=function(t,e){return!e&&console.warn(t)},Ft=function(t,e){return t&&(Ct[t]=e)&&Tt&&(Tt[t]=e)||Ct},St=function(){return 0},Pt={},Ot=[],Lt={},zt={},It={},Nt=30,Rt=[],Bt="",jt=function(t){var e,i,n=t[0];if(pt(n)||ht(n)||(t=[t]),!(e=(n._gsap||{}).harness)){for(i=Rt.length;i--&&!Rt[i].targetTest(n););e=Rt[i]}for(i=t.length;i--;)t[i]&&(t[i]._gsap||(t[i]._gsap=new oi(t[i],e)))||t.splice(i,1);return t},qt=function(t){return t._gsap||jt(Ce(t))[0]._gsap},Vt=function(t,e){var i=t[e];return ht(i)?t[e]():dt(i)&&t.getAttribute(e)||i},Ut=function(t,e){return(t=t.split(",")).forEach(e)||t},Wt=function(t){return Math.round(1e5*t)/1e5||0},Ht=function(t,e){for(var i=e.length,n=0;t.indexOf(e[n])<0&&++n<i;);return n<i},Xt=function(t,e,i){var n,s=ct(t[1]),r=(s?2:1)+(e<2?0:1),o=t[r];if(s&&(o.duration=t[1]),o.parent=i,e){for(n=o;i&&!("immediateRender"in n);)n=i.vars.defaults||{},i=ft(i.vars.inherit)&&i.parent;o.immediateRender=ft(n.immediateRender),e<2?o.runBackwards=1:o.startAt=t[r-1]}return o},Yt=function(){var t,e,i=Ot.length,n=Ot.slice(0);for(Lt={},Ot.length=0,t=0;t<i;t++)(e=n[t])&&e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0)._lazy=0)},$t=function(t,e,i,n){Ot.length&&Yt(),t.render(e,i,n),Ot.length&&Yt()},Gt=function(t){var e=parseFloat(t);return(e||0===e)&&(t+"").match(xt).length<2?e:t},Kt=function(t){return t},Qt=function(t,e){for(var i in e)i in t||(t[i]=e[i]);return t},Zt=function(t,e){for(var i in e)i in t||"duration"===i||"ease"===i||(t[i]=e[i])},Jt=function(t,e){for(var i in e)t[i]=e[i];return t},te=function t(e,i){for(var n in i)e[n]=pt(i[n])?t(e[n]||(e[n]={}),i[n]):i[n];return e},ee=function(t,e){var i,n={};for(i in t)i in e||(n[i]=t[i]);return n},ie=function(t){var e=t.parent||P,i=t.keyframes?Zt:Qt;if(ft(t.inherit))for(;e;)i(t,e.vars.defaults),e=e.parent||e._dp;return t},ne=function(t,e,i,n){void 0===i&&(i="_first"),void 0===n&&(n="_last");var s=e._prev,r=e._next;s?s._next=r:t[i]===e&&(t[i]=r),r?r._prev=s:t[n]===e&&(t[n]=s),e._next=e._prev=e.parent=null},se=function(t,e){!t.parent||e&&!t.parent.autoRemoveChildren||t.parent.remove(t),t._act=0},re=function(t){for(var e=t;e;)e._dirty=1,e=e.parent;return t},oe=function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t},ae=function(t){return t._repeat?le(t._tTime,t=t.duration()+t._rDelay)*t:0},le=function(t,e){return(t/=e)&&~~t===t?~~t-1:~~t},ue=function(t,e){return(t-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},he=function(t){return t._end=Wt(t._start+(t._tDur/Math.abs(t._ts||t._rts||it)||0))},ce=function(t,e){var i;if((e._time||e._initted&&!e._dur)&&(i=ue(t.rawTime(),e),(!e._dur||De(0,e.totalDuration(),i)-e._tTime>it)&&e.render(i,!0)),re(t)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(i=t;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;t._zTime=-1e-8}},de=function(t,e,i,n){return e.parent&&se(e),e._start=Wt(i+e._delay),e._end=Wt(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),function(t,e,i,n,s){void 0===i&&(i="_first"),void 0===n&&(n="_last");var r,o=t[n];if(s)for(r=e[s];o&&o[s]>r;)o=o._prev;o?(e._next=o._next,o._next=e):(e._next=t[i],t[i]=e),e._next?e._next._prev=e:t[n]=e,e._prev=o,e.parent=e._dp=t}(t,e,"_first","_last",t._sort?"_start":0),t._recent=e,n||ce(t,e),t},pe=function(t,e){return(Ct.ScrollTrigger||At("scrollTrigger",e))&&Ct.ScrollTrigger.create(e,t)},fe=function(t,e,i,n){return pi(t,e),t._initted?!i&&t._pt&&(t._dur&&!1!==t.vars.lazy||!t._dur&&t.vars.lazy)&&N!==Ye.frame?(Ot.push(t),t._lazy=[e,n],1):void 0:1},me=function(t,e,i){var n=t._repeat,s=Wt(e)||0;return t._dur=s,t._tDur=n?n<0?1e10:Wt(s*(n+1)+t._rDelay*n):s,t._time>s&&(t._time=s,t._tTime=Math.min(t._tTime,t._tDur)),!i&&re(t.parent),t.parent&&he(t),t},ge=function(t){return t instanceof li?re(t):me(t,t._dur)},ye={_start:0,endTime:St},ve=function t(e,i){var n,s,r=e.labels,o=e._recent||ye,a=e.duration()>=et?o.endTime(!1):e._dur;return ut(i)&&(isNaN(i)||i in r)?"<"===(n=i.charAt(0))||">"===n?("<"===n?o._start:o.endTime(o._repeat>=0))+(parseFloat(i.substr(1))||0):(n=i.indexOf("="))<0?(i in r||(r[i]=a),r[i]):(s=+(i.charAt(n-1)+i.substr(n+1)),n>1?t(e,i.substr(0,n-1))+s:a+s):null==i?a:+i},be=function(t,e){return t||0===t?e(t):e},De=function(t,e,i){return i<t?t:i>e?e:i},we=function(t){return(t+"").substr((parseFloat(t)+"").length)},_e=[].slice,Ee=function(t,e){return t&&pt(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&pt(t[0]))&&!t.nodeType&&t!==O},xe=function(t,e,i){return void 0===i&&(i=[]),t.forEach((function(t){var n;return ut(t)&&!e||Ee(t,1)?(n=i).push.apply(n,Ce(t)):i.push(t)}))||i},Ce=function(t,e){return!ut(t)||e||!L&&$e()?yt(t)?xe(t,e):Ee(t)?_e.call(t,0):t?[t]:[]:_e.call(z.querySelectorAll(t),0)},Te=function(t){return t.sort((function(){return.5-Math.random()}))},ke=function(t){if(ht(t))return t;var e=pt(t)?t:{each:t},i=ei(e.ease),n=e.from||0,s=parseFloat(e.base)||0,r={},o=n>0&&n<1,a=isNaN(n)||o,l=e.axis,u=n,h=n;return ut(n)?u=h={center:.5,edges:.5,end:1}[n]||0:!o&&a&&(u=n[0],h=n[1]),function(t,o,c){var d,p,f,m,g,y,v,b,D,w=(c||e).length,_=r[w];if(!_){if(!(D="auto"===e.grid?0:(e.grid||[1,et])[1])){for(v=-et;v<(v=c[D++].getBoundingClientRect().left)&&D<w;);D--}for(_=r[w]=[],d=a?Math.min(D,w)*u-.5:n%D,p=a?w*h/D-.5:n/D|0,v=0,b=et,y=0;y<w;y++)f=y%D-d,m=p-(y/D|0),_[y]=g=l?Math.abs("y"===l?m:f):ot(f*f+m*m),g>v&&(v=g),g<b&&(b=g);"random"===n&&Te(_),_.max=v-b,_.min=b,_.v=w=(parseFloat(e.amount)||parseFloat(e.each)*(D>w?w-1:l?"y"===l?w/D:D:Math.max(D,w/D))||0)*("edges"===n?-1:1),_.b=w<0?s-w:s,_.u=we(e.amount||e.each)||0,i=i&&w<0?Je(i):i}return w=(_[t]-_.min)/_.max||0,Wt(_.b+(i?i(w):w)*_.v)+_.u}},Ae=function(t){var e=t<1?Math.pow(10,(t+"").length-2):1;return function(i){return Math.floor(Math.round(parseFloat(i)/t)*t*e)/e+(ct(i)?0:we(i))}},Me=function(t,e){var i,n,s=yt(t);return!s&&pt(t)&&(i=s=t.radius||et,t.values?(t=Ce(t.values),(n=!ct(t[0]))&&(i*=i)):t=Ae(t.increment)),be(e,s?ht(t)?function(e){return n=t(e),Math.abs(n-e)<=i?n:e}:function(e){for(var s,r,o=parseFloat(n?e.x:e),a=parseFloat(n?e.y:0),l=et,u=0,h=t.length;h--;)(s=n?(s=t[h].x-o)*s+(r=t[h].y-a)*r:Math.abs(t[h]-o))<l&&(l=s,u=h);return u=!i||l<=i?t[u]:e,n||u===e||ct(e)?u:u+we(e)}:Ae(t))},Fe=function(t,e,i,n){return be(yt(t)?!e:!0===i?!!(i=0):!n,(function(){return yt(t)?t[~~(Math.random()*t.length)]:(i=i||1e-5)&&(n=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((t+Math.random()*(e-t))/i)*i*n)/n}))},Se=function(t,e,i){return be(i,(function(i){return t[~~e(i)]}))},Pe=function(t){for(var e,i,n,s,r=0,o="";~(e=t.indexOf("random(",r));)n=t.indexOf(")",e),s="["===t.charAt(e+7),i=t.substr(e+7,n-e-7).match(s?xt:vt),o+=t.substr(r,e-r)+Fe(s?i:+i[0],+i[1],+i[2]||1e-5),r=n+1;return o+t.substr(r,t.length-r)},Oe=function(t,e,i,n,s){var r=e-t,o=n-i;return be(s,(function(e){return i+((e-t)/r*o||0)}))},Le=function(t,e,i){var n,s,r,o=t.labels,a=et;for(n in o)(s=o[n]-e)<0==!!i&&s&&a>(s=Math.abs(s))&&(r=n,a=s);return r},ze=function(t,e,i){var n,s,r=t.vars,o=r[e];if(o)return n=r[e+"Params"],s=r.callbackScope||t,i&&Ot.length&&Yt(),n?o.apply(s,n):o.call(s)},Ie=function(t){return se(t),t.progress()<1&&ze(t,"onInterrupt"),t},Ne=function(t){var e=(t=!t.name&&t.default||t).name,i=ht(t),n=e&&!i&&t.init?function(){this._props=[]}:t,s={init:St,render:Ti,add:ci,kill:Ai,modifier:ki,rawVars:0},r={targetTest:0,get:0,getSetter:_i,aliases:{},register:0};if($e(),t!==n){if(zt[e])return;Qt(n,Qt(ee(t,s),r)),Jt(n.prototype,Jt(s,ee(t,r))),zt[n.prop=e]=n,t.targetTest&&(Rt.push(n),Pt[e]=1),e=("css"===e?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}Ft(e,n),t.register&&t.register(zi,n,Si)},Re=255,Be={aqua:[0,Re,Re],lime:[0,Re,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Re],navy:[0,0,128],white:[Re,Re,Re],olive:[128,128,0],yellow:[Re,Re,0],orange:[Re,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Re,0,0],pink:[Re,192,203],cyan:[0,Re,Re],transparent:[Re,Re,Re,0]},je=function(t,e,i){return(6*(t=t<0?t+1:t>1?t-1:t)<1?e+(i-e)*t*6:t<.5?i:3*t<2?e+(i-e)*(2/3-t)*6:e)*Re+.5|0},qe=function(t,e,i){var n,s,r,o,a,l,u,h,c,d,p=t?ct(t)?[t>>16,t>>8&Re,t&Re]:0:Be.black;if(!p){if(","===t.substr(-1)&&(t=t.substr(0,t.length-1)),Be[t])p=Be[t];else if("#"===t.charAt(0))4===t.length&&(n=t.charAt(1),s=t.charAt(2),r=t.charAt(3),t="#"+n+n+s+s+r+r),p=[(t=parseInt(t.substr(1),16))>>16,t>>8&Re,t&Re];else if("hsl"===t.substr(0,3))if(p=d=t.match(vt),e){if(~t.indexOf("="))return p=t.match(bt),i&&p.length<4&&(p[3]=1),p}else o=+p[0]%360/360,a=+p[1]/100,n=2*(l=+p[2]/100)-(s=l<=.5?l*(a+1):l+a-l*a),p.length>3&&(p[3]*=1),p[0]=je(o+1/3,n,s),p[1]=je(o,n,s),p[2]=je(o-1/3,n,s);else p=t.match(vt)||Be.transparent;p=p.map(Number)}return e&&!d&&(n=p[0]/Re,s=p[1]/Re,r=p[2]/Re,l=((u=Math.max(n,s,r))+(h=Math.min(n,s,r)))/2,u===h?o=a=0:(c=u-h,a=l>.5?c/(2-u-h):c/(u+h),o=u===n?(s-r)/c+(s<r?6:0):u===s?(r-n)/c+2:(n-s)/c+4,o*=60),p[0]=~~(o+.5),p[1]=~~(100*a+.5),p[2]=~~(100*l+.5)),i&&p.length<4&&(p[3]=1),p},Ve=function(t){var e=[],i=[],n=-1;return t.split(We).forEach((function(t){var s=t.match(Dt)||[];e.push.apply(e,s),i.push(n+=s.length+1)})),e.c=i,e},Ue=function(t,e,i){var n,s,r,o,a="",l=(t+a).match(We),u=e?"hsla(":"rgba(",h=0;if(!l)return t;if(l=l.map((function(t){return(t=qe(t,e,1))&&u+(e?t[0]+","+t[1]+"%,"+t[2]+"%,"+t[3]:t.join(","))+")"})),i&&(r=Ve(t),(n=i.c).join(a)!==r.c.join(a)))for(o=(s=t.replace(We,"1").split(Dt)).length-1;h<o;h++)a+=s[h]+(~n.indexOf(h)?l.shift()||u+"0,0,0,0)":(r.length?r:l.length?l:i).shift());if(!s)for(o=(s=t.split(We)).length-1;h<o;h++)a+=s[h]+l[h];return a+s[o]},We=function(){var t,e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(t in Be)e+="|"+t+"\\b";return new RegExp(e+")","gi")}(),He=/hsl[a]?\(/,Xe=function(t){var e,i=t.join(" ");if(We.lastIndex=0,We.test(i))return e=He.test(i),t[1]=Ue(t[1],e),t[0]=Ue(t[0],e,Ve(t[1])),!0},Ye=(W=Date.now,H=500,X=33,Y=W(),$=Y,K=G=1/240,Z=function t(e){var i,n,s=W()-$,r=!0===e;s>H&&(Y+=s-X),$+=s,U.time=($-Y)/1e3,((i=U.time-K)>0||r)&&(U.frame++,K+=i+(i>=G?.004:G-i),n=1),r||(j=q(t)),n&&Q.forEach((function(t){return t(U.time,s,U.frame,e)}))},U={time:0,frame:0,tick:function(){Z(!0)},wake:function(){I&&(!L&&mt()&&(O=L=window,z=O.document||{},Ct.gsap=zi,(O.gsapVersions||(O.gsapVersions=[])).push(zi.version),kt(Tt||O.GreenSockGlobals||!O.gsap&&O||{}),V=O.requestAnimationFrame),j&&U.sleep(),q=V||function(t){return setTimeout(t,1e3*(K-U.time)+1|0)},B=1,Z(2))},sleep:function(){(V?O.cancelAnimationFrame:clearTimeout)(j),B=0,q=St},lagSmoothing:function(t,e){H=t||1e8,X=Math.min(e,H,0)},fps:function(t){G=1/(t||240),K=U.time+G},add:function(t){Q.indexOf(t)<0&&Q.push(t),$e()},remove:function(t){var e;~(e=Q.indexOf(t))&&Q.splice(e,1)},_listeners:Q=[]}),$e=function(){return!B&&Ye.wake()},Ge={},Ke=/^[\d.\-M][\d.\-,\s]/,Qe=/["']/g,Ze=function(t){for(var e,i,n,s={},r=t.substr(1,t.length-3).split(":"),o=r[0],a=1,l=r.length;a<l;a++)i=r[a],e=a!==l-1?i.lastIndexOf(","):i.length,n=i.substr(0,e),s[o]=isNaN(n)?n.replace(Qe,"").trim():+n,o=i.substr(e+1).trim();return s},Je=function(t){return function(e){return 1-t(1-e)}},ti=function t(e,i){for(var n,s=e._first;s;)s instanceof li?t(s,i):!s.vars.yoyoEase||s._yoyo&&s._repeat||s._yoyo===i||(s.timeline?t(s.timeline,i):(n=s._ease,s._ease=s._yEase,s._yEase=n,s._yoyo=i)),s=s._next},ei=function(t,e){return t&&(ht(t)?t:Ge[t]||function(t){var e=(t+"").split("("),i=Ge[e[0]];return i&&e.length>1&&i.config?i.config.apply(null,~t.indexOf("{")?[Ze(e[1])]:_t.exec(t)[1].split(",").map(Gt)):Ge._CE&&Ke.test(t)?Ge._CE("",t):i}(t))||e},ii=function(t,e,i,n){void 0===i&&(i=function(t){return 1-e(1-t)}),void 0===n&&(n=function(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2});var s,r={easeIn:e,easeOut:i,easeInOut:n};return Ut(t,(function(t){for(var e in Ge[t]=Ct[t]=r,Ge[s=t.toLowerCase()]=i,r)Ge[s+("easeIn"===e?".in":"easeOut"===e?".out":".inOut")]=Ge[t+"."+e]=r[e]})),r},ni=function(t){return function(e){return e<.5?(1-t(1-2*e))/2:.5+t(2*(e-.5))/2}},si=function t(e,i,n){var s=i>=1?i:1,r=(n||(e?.3:.45))/(i<1?i:1),o=r/nt*(Math.asin(1/s)||0),a=function(t){return 1===t?1:s*Math.pow(2,-10*t)*lt((t-o)*r)+1},l="out"===e?a:"in"===e?function(t){return 1-a(1-t)}:ni(a);return r=nt/r,l.config=function(i,n){return t(e,i,n)},l},ri=function t(e,i){void 0===i&&(i=1.70158);var n=function(t){return t?--t*t*((i+1)*t+i)+1:0},s="out"===e?n:"in"===e?function(t){return 1-n(1-t)}:ni(n);return s.config=function(i){return t(e,i)},s};Ut("Linear,Quad,Cubic,Quart,Quint,Strong",(function(t,e){var i=e<5?e+1:e;ii(t+",Power"+(i-1),e?function(t){return Math.pow(t,i)}:function(t){return t},(function(t){return 1-Math.pow(1-t,i)}),(function(t){return t<.5?Math.pow(2*t,i)/2:1-Math.pow(2*(1-t),i)/2}))})),Ge.Linear.easeNone=Ge.none=Ge.Linear.easeIn,ii("Elastic",si("in"),si("out"),si()),function(t,e){var i=1/e,n=function(n){return n<i?t*n*n:n<.7272727272727273?t*Math.pow(n-1.5/e,2)+.75:n<.9090909090909092?t*(n-=2.25/e)*n+.9375:t*Math.pow(n-2.625/e,2)+.984375};ii("Bounce",(function(t){return 1-n(1-t)}),n)}(7.5625,2.75),ii("Expo",(function(t){return t?Math.pow(2,10*(t-1)):0})),ii("Circ",(function(t){return-(ot(1-t*t)-1)})),ii("Sine",(function(t){return 1===t?1:1-at(t*st)})),ii("Back",ri("in"),ri("out"),ri()),Ge.SteppedEase=Ge.steps=Ct.SteppedEase={config:function(t,e){void 0===t&&(t=1);var i=1/t,n=t+(e?0:1),s=e?1:0;return function(t){return((n*De(0,.99999999,t)|0)+s)*i}}},tt.ease=Ge["quad.out"],Ut("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(t){return Bt+=t+","+t+"Params,"}));var oi=function(t,e){this.id=rt++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:Vt,this.set=e?e.getSetter:_i},ai=function(){function t(t,e){var i=t.parent||P;this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,me(this,+t.duration,1),this.data=t.data,B||Ye.wake(),i&&de(i,this,e||0===e?e:i._time,1),t.reversed&&this.reverse(),t.paused&&this.paused(!0)}var e=t.prototype;return e.delay=function(t){return t||0===t?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+t-this._delay),this._delay=t,this):this._delay},e.duration=function(t){return arguments.length?this.totalDuration(this._repeat>0?t+(t+this._rDelay)*this._repeat:t):this.totalDuration()&&this._dur},e.totalDuration=function(t){return arguments.length?(this._dirty=0,me(this,this._repeat<0?t:(t-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(t,e){if($e(),!arguments.length)return this._tTime;var i=this.parent||this._dp;if(i&&i.smoothChildTiming&&this._ts){for(this._start=Wt(i._time-(this._ts>0?t/this._ts:((this._dirty?this.totalDuration():this._tDur)-t)/-this._ts)),he(this),i._dirty||re(i);i.parent;)i.parent._time!==i._start+(i._ts>=0?i._tTime/i._ts:(i.totalDuration()-i._tTime)/-i._ts)&&i.totalTime(i._tTime,!0),i=i.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&t<this._tDur||this._ts<0&&t>0||!this._tDur&&!t)&&de(this._dp,this,this._start-this._delay)}return(this._tTime!==t||!this._dur&&!e||this._initted&&Math.abs(this._zTime)===it||!t&&!this._initted)&&(this._ts||(this._pTime=t),$t(this,t,e)),this},e.time=function(t,e){return arguments.length?this.totalTime(Math.min(this.totalDuration(),t+ae(this))%this._dur||(t?this._dur:0),e):this._time},e.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},e.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?t:1-t)+ae(this),e):this.duration()?Math.min(1,this._time/this._dur):this.ratio},e.iteration=function(t,e){var i=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(t-1)*i,e):this._repeat?le(this._tTime,i)+1:1},e.timeScale=function(t){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===t)return this;var e=this.parent&&this._ts?ue(this.parent._time,this):this._tTime;return this._rts=+t||0,this._ts=this._ps||-1e-8===t?0:this._rts,oe(this.totalTime(De(0,this._tDur,e),!0))},e.paused=function(t){return arguments.length?(this._ps!==t&&(this._ps=t,t?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):($e(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&(this._tTime-=it)&&Math.abs(this._zTime)!==it))),this):this._ps},e.startTime=function(t){if(arguments.length){this._start=t;var e=this.parent||this._dp;return e&&(e._sort||!this.parent)&&de(e,this,t-this._delay),this}return this._start},e.endTime=function(t){return this._start+(ft(t)?this.totalDuration():this.duration())/Math.abs(this._ts)},e.rawTime=function(t){var e=this.parent||this._dp;return e?t&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?ue(e.rawTime(t),this):this._tTime:this._tTime},e.repeat=function(t){return arguments.length?(this._repeat=t,ge(this)):this._repeat},e.repeatDelay=function(t){return arguments.length?(this._rDelay=t,ge(this)):this._rDelay},e.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},e.seek=function(t,e){return this.totalTime(ve(this,t),ft(e))},e.restart=function(t,e){return this.play().totalTime(t?-this._delay:0,ft(e))},e.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},e.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},e.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(t){return arguments.length?(!!t!==this.reversed()&&this.timeScale(-this._rts||(t?-1e-8:0)),this):this._rts<0},e.invalidate=function(){return this._initted=0,this._zTime=-1e-8,this},e.isActive=function(t){var e,i=this.parent||this._dp,n=this._start;return!(i&&!(this._ts&&(this._initted||!t)&&i.isActive(t)&&(e=i.rawTime(!0))>=n&&e<this.endTime(!0)-it))},e.eventCallback=function(t,e,i){var n=this.vars;return arguments.length>1?(e?(n[t]=e,i&&(n[t+"Params"]=i),"onUpdate"===t&&(this._onUpdate=e)):delete n[t],this):n[t]},e.then=function(t){var e=this;return new Promise((function(i){var n=ht(t)?t:Kt,s=function(){var t=e.then;e.then=null,ht(n)&&(n=n(e))&&(n.then||n===e)&&(e.then=t),i(n),e.then=t};e._initted&&1===e.totalProgress()&&e._ts>=0||!e._tTime&&e._ts<0?s():e._prom=s}))},e.kill=function(){Ie(this)},t}();Qt(ai.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var li=function(t){function e(e,i){var n;return void 0===e&&(e={}),(n=t.call(this,e,i)||this).labels={},n.smoothChildTiming=!!e.smoothChildTiming,n.autoRemoveChildren=!!e.autoRemoveChildren,n._sort=ft(e.sortChildren),n.parent&&ce(n.parent,F(n)),e.scrollTrigger&&pe(F(n),e.scrollTrigger),n}S(e,t);var i=e.prototype;return i.to=function(t,e,i){return new yi(t,Xt(arguments,0,this),ve(this,ct(e)?arguments[3]:i)),this},i.from=function(t,e,i){return new yi(t,Xt(arguments,1,this),ve(this,ct(e)?arguments[3]:i)),this},i.fromTo=function(t,e,i,n){return new yi(t,Xt(arguments,2,this),ve(this,ct(e)?arguments[4]:n)),this},i.set=function(t,e,i){return e.duration=0,e.parent=this,ie(e).repeatDelay||(e.repeat=0),e.immediateRender=!!e.immediateRender,new yi(t,e,ve(this,i),1),this},i.call=function(t,e,i){return de(this,yi.delayedCall(0,t,e),ve(this,i))},i.staggerTo=function(t,e,i,n,s,r,o){return i.duration=e,i.stagger=i.stagger||n,i.onComplete=r,i.onCompleteParams=o,i.parent=this,new yi(t,i,ve(this,s)),this},i.staggerFrom=function(t,e,i,n,s,r,o){return i.runBackwards=1,ie(i).immediateRender=ft(i.immediateRender),this.staggerTo(t,e,i,n,s,r,o)},i.staggerFromTo=function(t,e,i,n,s,r,o,a){return n.startAt=i,ie(n).immediateRender=ft(n.immediateRender),this.staggerTo(t,e,n,s,r,o,a)},i.render=function(t,e,i){var n,s,r,o,a,l,u,h,c,d,p,f,m=this._time,g=this._dirty?this.totalDuration():this._tDur,y=this._dur,v=this!==P&&t>g-it&&t>=0?g:t<it?0:t,b=this._zTime<0!=t<0&&(this._initted||!y);if(v!==this._tTime||i||b){if(m!==this._time&&y&&(v+=this._time-m,t+=this._time-m),n=v,c=this._start,l=!(h=this._ts),b&&(y||(m=this._zTime),(t||!e)&&(this._zTime=t)),this._repeat&&(p=this._yoyo,a=y+this._rDelay,((n=Wt(v%a))>y||g===v)&&(n=y),(o=~~(v/a))&&o===v/a&&(n=y,o--),d=le(this._tTime,a),!m&&this._tTime&&d!==o&&(d=o),p&&1&o&&(n=y-n,f=1),o!==d&&!this._lock)){var D=p&&1&d,w=D===(p&&1&o);if(o<d&&(D=!D),m=D?0:y,this._lock=1,this.render(m||(f?0:Wt(o*a)),e,!y)._lock=0,!e&&this.parent&&ze(this,"onRepeat"),this.vars.repeatRefresh&&!f&&(this.invalidate()._lock=1),m!==this._time||l!==!this._ts)return this;if(w&&(this._lock=2,m=D?y+1e-4:-1e-4,this.render(m,!0),this.vars.repeatRefresh&&!f&&this.invalidate()),this._lock=0,!this._ts&&!l)return this;ti(this,f)}if(this._hasPause&&!this._forcing&&this._lock<2&&(u=function(t,e,i){var n;if(i>e)for(n=t._first;n&&n._start<=i;){if(!n._dur&&"isPause"===n.data&&n._start>e)return n;n=n._next}else for(n=t._last;n&&n._start>=i;){if(!n._dur&&"isPause"===n.data&&n._start<e)return n;n=n._prev}}(this,Wt(m),Wt(n)))&&(v-=n-(n=u._start)),this._tTime=v,this._time=n,this._act=!h,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=t),m||!n||e||ze(this,"onStart"),n>=m&&t>=0)for(s=this._first;s;){if(r=s._next,(s._act||n>=s._start)&&s._ts&&u!==s){if(s.parent!==this)return this.render(t,e,i);if(s.render(s._ts>0?(n-s._start)*s._ts:(s._dirty?s.totalDuration():s._tDur)+(n-s._start)*s._ts,e,i),n!==this._time||!this._ts&&!l){u=0,r&&(v+=this._zTime=-1e-8);break}}s=r}else{s=this._last;for(var _=t<0?t:n;s;){if(r=s._prev,(s._act||_<=s._end)&&s._ts&&u!==s){if(s.parent!==this)return this.render(t,e,i);if(s.render(s._ts>0?(_-s._start)*s._ts:(s._dirty?s.totalDuration():s._tDur)+(_-s._start)*s._ts,e,i),n!==this._time||!this._ts&&!l){u=0,r&&(v+=this._zTime=_?-1e-8:it);break}}s=r}}if(u&&!e&&(this.pause(),u.render(n>=m?0:-1e-8)._zTime=n>=m?1:-1,this._ts))return this._start=c,he(this),this.render(t,e,i);this._onUpdate&&!e&&ze(this,"onUpdate",!0),(v===g&&g>=this.totalDuration()||!v&&m)&&(c!==this._start&&Math.abs(h)===Math.abs(this._ts)||this._lock||((t||!y)&&(v===g&&this._ts>0||!v&&this._ts<0)&&se(this,1),e||t<0&&!m||!v&&!m||(ze(this,v===g?"onComplete":"onReverseComplete",!0),this._prom&&!(v<g&&this.timeScale()>0)&&this._prom())))}return this},i.add=function(t,e){var i=this;if(ct(e)||(e=ve(this,e)),!(t instanceof ai)){if(yt(t))return t.forEach((function(t){return i.add(t,e)})),re(this);if(ut(t))return this.addLabel(t,e);if(!ht(t))return this;t=yi.delayedCall(0,t)}return this!==t?de(this,t,e):this},i.getChildren=function(t,e,i,n){void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===i&&(i=!0),void 0===n&&(n=-et);for(var s=[],r=this._first;r;)r._start>=n&&(r instanceof yi?e&&s.push(r):(i&&s.push(r),t&&s.push.apply(s,r.getChildren(!0,e,i)))),r=r._next;return s},i.getById=function(t){for(var e=this.getChildren(1,1,1),i=e.length;i--;)if(e[i].vars.id===t)return e[i]},i.remove=function(t){return ut(t)?this.removeLabel(t):ht(t)?this.killTweensOf(t):(ne(this,t),t===this._recent&&(this._recent=this._last),re(this))},i.totalTime=function(e,i){return arguments.length?(this._forcing=1,this.parent||this._dp||!this._ts||(this._start=Wt(Ye.time-(this._ts>0?e/this._ts:(this.totalDuration()-e)/-this._ts))),t.prototype.totalTime.call(this,e,i),this._forcing=0,this):this._tTime},i.addLabel=function(t,e){return this.labels[t]=ve(this,e),this},i.removeLabel=function(t){return delete this.labels[t],this},i.addPause=function(t,e,i){var n=yi.delayedCall(0,e||St,i);return n.data="isPause",this._hasPause=1,de(this,n,ve(this,t))},i.removePause=function(t){var e=this._first;for(t=ve(this,t);e;)e._start===t&&"isPause"===e.data&&se(e),e=e._next},i.killTweensOf=function(t,e,i){for(var n=this.getTweensOf(t,i),s=n.length;s--;)ui!==n[s]&&n[s].kill(t,e);return this},i.getTweensOf=function(t,e){for(var i,n=[],s=Ce(t),r=this._first;r;)r instanceof yi?!Ht(r._targets,s)||e&&!r.isActive("started"===e)||n.push(r):(i=r.getTweensOf(s,e)).length&&n.push.apply(n,i),r=r._next;return n},i.tweenTo=function(t,e){e=e||{};var i=this,n=ve(i,t),s=e,r=s.startAt,o=s.onStart,a=s.onStartParams,l=yi.to(i,Qt(e,{ease:"none",lazy:!1,time:n,duration:e.duration||Math.abs((n-(r&&"time"in r?r.time:i._time))/i.timeScale())||it,onStart:function(){i.pause();var t=e.duration||Math.abs((n-i._time)/i.timeScale());l._dur!==t&&me(l,t).render(l._time,!0,!0),o&&o.apply(l,a||[])}}));return l},i.tweenFromTo=function(t,e,i){return this.tweenTo(e,Qt({startAt:{time:ve(this,t)}},i))},i.recent=function(){return this._recent},i.nextLabel=function(t){return void 0===t&&(t=this._time),Le(this,ve(this,t))},i.previousLabel=function(t){return void 0===t&&(t=this._time),Le(this,ve(this,t),1)},i.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.previousLabel(this._time+it)},i.shiftChildren=function(t,e,i){void 0===i&&(i=0);for(var n,s=this._first,r=this.labels;s;)s._start>=i&&(s._start+=t),s=s._next;if(e)for(n in r)r[n]>=i&&(r[n]+=t);return re(this)},i.invalidate=function(){var e=this._first;for(this._lock=0;e;)e.invalidate(),e=e._next;return t.prototype.invalidate.call(this)},i.clear=function(t){void 0===t&&(t=!0);for(var e,i=this._first;i;)e=i._next,this.remove(i),i=e;return this._time=this._tTime=this._pTime=0,t&&(this.labels={}),re(this)},i.totalDuration=function(t){var e,i,n,s,r=0,o=this,a=o._last,l=et;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-t:t));if(o._dirty){for(s=o.parent;a;)e=a._prev,a._dirty&&a.totalDuration(),(n=a._start)>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,de(o,a,n-a._delay,1)._lock=0):l=n,n<0&&a._ts&&(r-=n,(!s&&!o._dp||s&&s.smoothChildTiming)&&(o._start+=n/o._ts,o._time-=n,o._tTime-=n),o.shiftChildren(-n,!1,-Infinity),l=0),(i=he(a))>r&&a._ts&&(r=i),a=e;me(o,o===P&&o._time>r?o._time:r,1),o._dirty=0}return o._tDur},e.updateRoot=function(t){if(P._ts&&($t(P,ue(t,P)),N=Ye.frame),Ye.frame>=Nt){Nt+=J.autoSleep||120;var e=P._first;if((!e||!e._ts)&&J.autoSleep&&Ye._listeners.length<2){for(;e&&!e._ts;)e=e._next;e||Ye.sleep()}}},e}(ai);Qt(li.prototype,{_lock:0,_hasPause:0,_forcing:0});var ui,hi=function(t,e,i,n,s,r,o){var a,l,u,h,c,d,p,f,m=new Si(this._pt,t,e,0,1,Ci,null,s),g=0,y=0;for(m.b=i,m.e=n,i+="",(p=~(n+="").indexOf("random("))&&(n=Pe(n)),r&&(r(f=[i,n],t,e),i=f[0],n=f[1]),l=i.match(wt)||[];a=wt.exec(n);)h=a[0],c=n.substring(g,a.index),u?u=(u+1)%5:"rgba("===c.substr(-5)&&(u=1),h!==l[y++]&&(d=parseFloat(l[y-1])||0,m._pt={_next:m._pt,p:c||1===y?c:",",s:d,c:"="===h.charAt(1)?parseFloat(h.substr(2))*("-"===h.charAt(0)?-1:1):parseFloat(h)-d,m:u&&u<4?Math.round:0},g=wt.lastIndex);return m.c=g<n.length?n.substring(g,n.length):"",m.fp=o,(Et.test(n)||p)&&(m.e=0),this._pt=m,m},ci=function(t,e,i,n,s,r,o,a,l){ht(n)&&(n=n(s||0,t,r));var u,h=t[e],c="get"!==i?i:ht(h)?l?t[e.indexOf("set")||!ht(t["get"+e.substr(3)])?e:"get"+e.substr(3)](l):t[e]():h,d=ht(h)?l?Di:bi:vi;if(ut(n)&&(~n.indexOf("random(")&&(n=Pe(n)),"="===n.charAt(1)&&(n=parseFloat(c)+parseFloat(n.substr(2))*("-"===n.charAt(0)?-1:1)+(we(c)||0))),c!==n)return isNaN(c+n)?(!h&&!(e in t)&&At(e,n),hi.call(this,t,e,c,n,d,a||J.stringFilter,l)):(u=new Si(this._pt,t,e,+c||0,n-(c||0),"boolean"==typeof h?xi:Ei,0,d),l&&(u.fp=l),o&&u.modifier(o,this,t),this._pt=u)},di=function(t,e,i,n,s,r){var o,a,l,u;if(zt[t]&&!1!==(o=new zt[t]).init(s,o.rawVars?e[t]:function(t,e,i,n,s){if(ht(t)&&(t=fi(t,s,e,i,n)),!pt(t)||t.style&&t.nodeType||yt(t))return ut(t)?fi(t,s,e,i,n):t;var r,o={};for(r in t)o[r]=fi(t[r],s,e,i,n);return o}(e[t],n,s,r,i),i,n,r)&&(i._pt=a=new Si(i._pt,s,t,0,1,o.render,o,0,o.priority),i!==R))for(l=i._ptLookup[i._targets.indexOf(s)],u=o._props.length;u--;)l[o._props[u]]=a;return o},pi=function t(e,i){var n,s,r,o,a,l,u,h,c,d,p,f,m=e.vars,g=m.ease,y=m.startAt,v=m.immediateRender,b=m.lazy,D=m.onUpdate,w=m.onUpdateParams,_=m.callbackScope,E=m.runBackwards,x=m.yoyoEase,C=m.keyframes,T=m.autoRevert,k=e._dur,A=e._startAt,M=e._targets,F=e.parent,S=F&&"nested"===F.data?F.parent._targets:M,O="auto"===e._overwrite,L=e.timeline;if(L&&(!C||!g)&&(g="none"),e._ease=ei(g,tt.ease),e._yEase=x?Je(ei(!0===x?g:x,tt.ease)):0,x&&e._yoyo&&!e._repeat&&(x=e._yEase,e._yEase=e._ease,e._ease=x),!L){if(f=(h=M[0]?qt(M[0]).harness:0)&&m[h.prop],n=ee(m,Pt),A&&A.render(-1,!0).kill(),y){if(se(e._startAt=yi.set(M,Qt({data:"isStart",overwrite:!1,parent:F,immediateRender:!0,lazy:ft(b),startAt:null,delay:0,onUpdate:D,onUpdateParams:w,callbackScope:_,stagger:0},y))),v)if(i>0)!T&&(e._startAt=0);else if(k)return}else if(E&&k)if(A)!T&&(e._startAt=0);else if(i&&(v=!1),r=Qt({overwrite:!1,data:"isFromStart",lazy:v&&ft(b),immediateRender:v,stagger:0,parent:F},n),f&&(r[h.prop]=f),se(e._startAt=yi.set(M,r)),v){if(!i)return}else t(e._startAt,it);for(e._pt=0,b=k&&ft(b)||b&&!k,s=0;s<M.length;s++){if(u=(a=M[s])._gsap||jt(M)[s]._gsap,e._ptLookup[s]=d={},Lt[u.id]&&Yt(),p=S===M?s:S.indexOf(a),h&&!1!==(c=new h).init(a,f||n,e,p,S)&&(e._pt=o=new Si(e._pt,a,c.name,0,1,c.render,c,0,c.priority),c._props.forEach((function(t){d[t]=o})),c.priority&&(l=1)),!h||f)for(r in n)zt[r]&&(c=di(r,n,e,p,a,S))?c.priority&&(l=1):d[r]=o=ci.call(e,a,r,"get",n[r],p,S,0,m.stringFilter);e._op&&e._op[s]&&e.kill(a,e._op[s]),O&&e._pt&&(ui=e,P.killTweensOf(a,d,"started"),ui=0),e._pt&&b&&(Lt[u.id]=1)}l&&Fi(e),e._onInit&&e._onInit(e)}e._from=!L&&!!m.runBackwards,e._onUpdate=D,e._initted=!!e.parent},fi=function(t,e,i,n,s){return ht(t)?t.call(e,i,n,s):ut(t)&&~t.indexOf("random(")?Pe(t):t},mi=Bt+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase",gi=(mi+",id,stagger,delay,duration,paused,scrollTrigger").split(","),yi=function(t){function e(e,i,n,s){var r;"number"==typeof i&&(n.duration=i,i=n,n=null);var o,a,l,u,h,c,d,p,f=(r=t.call(this,s?i:ie(i),n)||this).vars,m=f.duration,g=f.delay,y=f.immediateRender,v=f.stagger,b=f.overwrite,D=f.keyframes,w=f.defaults,_=f.scrollTrigger,E=f.yoyoEase,x=r.parent,C=(yt(e)?ct(e[0]):"length"in i)?[e]:Ce(e);if(r._targets=C.length?jt(C):Mt("GSAP target "+e+" not found. https://greensock.com",!J.nullTargetWarn)||[],r._ptLookup=[],r._overwrite=b,D||v||gt(m)||gt(g)){if(i=r.vars,(o=r.timeline=new li({data:"nested",defaults:w||{}})).kill(),o.parent=F(r),D)Qt(o.vars.defaults,{ease:"none"}),D.forEach((function(t){return o.to(C,t,">")}));else{if(u=C.length,d=v?ke(v):St,pt(v))for(h in v)~mi.indexOf(h)&&(p||(p={}),p[h]=v[h]);for(a=0;a<u;a++){for(h in l={},i)gi.indexOf(h)<0&&(l[h]=i[h]);l.stagger=0,E&&(l.yoyoEase=E),p&&Jt(l,p),c=C[a],l.duration=+fi(m,F(r),a,c,C),l.delay=(+fi(g,F(r),a,c,C)||0)-r._delay,!v&&1===u&&l.delay&&(r._delay=g=l.delay,r._start+=g,l.delay=0),o.to(c,l,d(a,c,C))}o.duration()?m=g=0:r.timeline=0}m||r.duration(m=o.duration())}else r.timeline=0;return!0===b&&(ui=F(r),P.killTweensOf(C),ui=0),x&&ce(x,F(r)),(y||!m&&!D&&r._start===Wt(x._time)&&ft(y)&&function t(e){return!e||e._ts&&t(e.parent)}(F(r))&&"nested"!==x.data)&&(r._tTime=-1e-8,r.render(Math.max(0,-g))),_&&pe(F(r),_),r}S(e,t);var i=e.prototype;return i.render=function(t,e,i){var n,s,r,o,a,l,u,h,c,d=this._time,p=this._tDur,f=this._dur,m=t>p-it&&t>=0?p:t<it?0:t;if(f){if(m!==this._tTime||!t||i||this._startAt&&this._zTime<0!=t<0){if(n=m,h=this.timeline,this._repeat){if(o=f+this._rDelay,((n=Wt(m%o))>f||p===m)&&(n=f),(r=~~(m/o))&&r===m/o&&(n=f,r--),(l=this._yoyo&&1&r)&&(c=this._yEase,n=f-n),a=le(this._tTime,o),n===d&&!i&&this._initted)return this;r!==a&&(h&&this._yEase&&ti(h,l),!this.vars.repeatRefresh||l||this._lock||(this._lock=i=1,this.render(Wt(o*r),!0).invalidate()._lock=0))}if(!this._initted){if(fe(this,n,i,e))return this._tTime=0,this;if(f!==this._dur)return this.render(t,e,i)}for(this._tTime=m,this._time=n,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=u=(c||this._ease)(n/f),this._from&&(this.ratio=u=1-u),n&&!d&&!e&&ze(this,"onStart"),s=this._pt;s;)s.r(u,s.d),s=s._next;h&&h.render(t<0?t:!n&&l?-1e-8:h._dur*u,e,i)||this._startAt&&(this._zTime=t),this._onUpdate&&!e&&(t<0&&this._startAt&&this._startAt.render(t,!0,i),ze(this,"onUpdate")),this._repeat&&r!==a&&this.vars.onRepeat&&!e&&this.parent&&ze(this,"onRepeat"),m!==this._tDur&&m||this._tTime!==m||(t<0&&this._startAt&&!this._onUpdate&&this._startAt.render(t,!0,!0),(t||!f)&&(m===this._tDur&&this._ts>0||!m&&this._ts<0)&&se(this,1),e||t<0&&!d||!m&&!d||(ze(this,m===p?"onComplete":"onReverseComplete",!0),this._prom&&!(m<p&&this.timeScale()>0)&&this._prom()))}}else!function(t,e,i,n){var s,r,o=t.ratio,a=e<0||!e&&o&&!t._start&&t._zTime>it&&!t._dp._lock||t._ts<0||t._dp._ts<0?0:1,l=t._rDelay,u=0;if(l&&t._repeat&&(u=De(0,t._tDur,e),le(u,l)!==(r=le(t._tTime,l))&&(o=1-a,t.vars.repeatRefresh&&t._initted&&t.invalidate())),t._initted||!fe(t,e,n,i))if(a!==o||n||t._zTime===it||!e&&t._zTime){for(r=t._zTime,t._zTime=e||(i?it:0),i||(i=e&&!r),t.ratio=a,t._from&&(a=1-a),t._time=0,t._tTime=u,i||ze(t,"onStart"),s=t._pt;s;)s.r(a,s.d),s=s._next;t._startAt&&e<0&&t._startAt.render(e,!0,!0),t._onUpdate&&!i&&ze(t,"onUpdate"),u&&t._repeat&&!i&&t.parent&&ze(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===a&&(a&&se(t,1),i||(ze(t,a?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)}(this,t,e,i);return this},i.targets=function(){return this._targets},i.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._act=this._lazy=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),t.prototype.invalidate.call(this)},i.kill=function(t,e){if(void 0===e&&(e="all"),!(t||e&&"all"!==e)&&(this._lazy=0,this.parent))return Ie(this);if(this.timeline){var i=this.timeline.totalDuration();return this.timeline.killTweensOf(t,e,ui&&!0!==ui.vars.overwrite)._first||Ie(this),this.parent&&i!==this.timeline.totalDuration()&&me(this,this._dur*this.timeline._tDur/i),this}var n,s,r,o,a,l,u,h=this._targets,c=t?Ce(t):h,d=this._ptLookup,p=this._pt;if((!e||"all"===e)&&function(t,e){for(var i=t.length,n=i===e.length;n&&i--&&t[i]===e[i];);return i<0}(h,c))return Ie(this);for(n=this._op=this._op||[],"all"!==e&&(ut(e)&&(a={},Ut(e,(function(t){return a[t]=1})),e=a),e=function(t,e){var i,n,s,r,o=t[0]?qt(t[0]).harness:0,a=o&&o.aliases;if(!a)return e;for(n in i=Jt({},e),a)if(n in i)for(s=(r=a[n].split(",")).length;s--;)i[r[s]]=i[n];return i}(h,e)),u=h.length;u--;)if(~c.indexOf(h[u]))for(a in s=d[u],"all"===e?(n[u]=e,o=s,r={}):(r=n[u]=n[u]||{},o=e),o)(l=s&&s[a])&&("kill"in l.d&&!0!==l.d.kill(a)||ne(this,l,"_pt"),delete s[a]),"all"!==r&&(r[a]=1);return this._initted&&!this._pt&&p&&Ie(this),this},e.to=function(t,i){return new e(t,i,arguments[2])},e.from=function(t,i){return new e(t,Xt(arguments,1))},e.delayedCall=function(t,i,n,s){return new e(i,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:t,onComplete:i,onReverseComplete:i,onCompleteParams:n,onReverseCompleteParams:n,callbackScope:s})},e.fromTo=function(t,i,n){return new e(t,Xt(arguments,2))},e.set=function(t,i){return i.duration=0,i.repeatDelay||(i.repeat=0),new e(t,i)},e.killTweensOf=function(t,e,i){return P.killTweensOf(t,e,i)},e}(ai);Qt(yi.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),Ut("staggerTo,staggerFrom,staggerFromTo",(function(t){yi[t]=function(){var e=new li,i=_e.call(arguments,0);return i.splice("staggerFromTo"===t?5:4,0,0),e[t].apply(e,i)}}));var vi=function(t,e,i){return t[e]=i},bi=function(t,e,i){return t[e](i)},Di=function(t,e,i,n){return t[e](n.fp,i)},wi=function(t,e,i){return t.setAttribute(e,i)},_i=function(t,e){return ht(t[e])?bi:dt(t[e])&&t.setAttribute?wi:vi},Ei=function(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4,e)},xi=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},Ci=function(t,e){var i=e._pt,n="";if(!t&&e.b)n=e.b;else if(1===t&&e.e)n=e.e;else{for(;i;)n=i.p+(i.m?i.m(i.s+i.c*t):Math.round(1e4*(i.s+i.c*t))/1e4)+n,i=i._next;n+=e.c}e.set(e.t,e.p,n,e)},Ti=function(t,e){for(var i=e._pt;i;)i.r(t,i.d),i=i._next},ki=function(t,e,i,n){for(var s,r=this._pt;r;)s=r._next,r.p===n&&r.modifier(t,e,i),r=s},Ai=function(t){for(var e,i,n=this._pt;n;)i=n._next,n.p===t&&!n.op||n.op===t?ne(this,n,"_pt"):n.dep||(e=1),n=i;return!e},Mi=function(t,e,i,n){n.mSet(t,e,n.m.call(n.tween,i,n.mt),n)},Fi=function(t){for(var e,i,n,s,r=t._pt;r;){for(e=r._next,i=n;i&&i.pr>r.pr;)i=i._next;(r._prev=i?i._prev:s)?r._prev._next=r:n=r,(r._next=i)?i._prev=r:s=r,r=e}t._pt=n},Si=function(){function t(t,e,i,n,s,r,o,a,l){this.t=e,this.s=n,this.c=s,this.p=i,this.r=r||Ei,this.d=o||this,this.set=a||vi,this.pr=l||0,this._next=t,t&&(t._prev=this)}return t.prototype.modifier=function(t,e,i){this.mSet=this.mSet||this.set,this.set=Mi,this.m=t,this.mt=i,this.tween=e},t}();Ut(Bt+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(t){return Pt[t]=1})),Ct.TweenMax=Ct.TweenLite=yi,Ct.TimelineLite=Ct.TimelineMax=li,P=new li({sortChildren:!1,defaults:tt,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),J.stringFilter=Xe;var Pi={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e.forEach((function(t){return Ne(t)}))},timeline:function(t){return new li(t)},getTweensOf:function(t,e){return P.getTweensOf(t,e)},getProperty:function(t,e,i,n){ut(t)&&(t=Ce(t)[0]);var s=qt(t||{}).get,r=i?Kt:Gt;return"native"===i&&(i=""),t?e?r((zt[e]&&zt[e].get||s)(t,e,i,n)):function(e,i,n){return r((zt[e]&&zt[e].get||s)(t,e,i,n))}:t},quickSetter:function(t,e,i){if((t=Ce(t)).length>1){var n=t.map((function(t){return zi.quickSetter(t,e,i)})),s=n.length;return function(t){for(var e=s;e--;)n[e](t)}}t=t[0]||{};var r=zt[e],o=qt(t),a=o.harness&&(o.harness.aliases||{})[e]||e,l=r?function(e){var n=new r;R._pt=0,n.init(t,i?e+i:e,R,0,[t]),n.render(1,n),R._pt&&Ti(1,R)}:o.set(t,a);return r?l:function(e){return l(t,a,i?e+i:e,o,1)}},isTweening:function(t){return P.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=ei(t.ease,tt.ease)),te(tt,t||{})},config:function(t){return te(J,t||{})},registerEffect:function(t){var e=t.name,i=t.effect,n=t.plugins,s=t.defaults,r=t.extendTimeline;(n||"").split(",").forEach((function(t){return t&&!zt[t]&&!Ct[t]&&Mt(e+" effect requires "+t+" plugin.")})),It[e]=function(t,e,n){return i(Ce(t),Qt(e||{},s),n)},r&&(li.prototype[e]=function(t,i,n){return this.add(It[e](t,pt(i)?i:(n=i)&&{},this),n)})},registerEase:function(t,e){Ge[t]=ei(e)},parseEase:function(t,e){return arguments.length?ei(t,e):Ge},getById:function(t){return P.getById(t)},exportRoot:function(t,e){void 0===t&&(t={});var i,n,s=new li(t);for(s.smoothChildTiming=ft(t.smoothChildTiming),P.remove(s),s._dp=0,s._time=s._tTime=P._time,i=P._first;i;)n=i._next,!e&&!i._dur&&i instanceof yi&&i.vars.onComplete===i._targets[0]||de(s,i,i._start-i._delay),i=n;return de(P,s,0),s},utils:{wrap:function t(e,i,n){var s=i-e;return yt(e)?Se(e,t(0,e.length),i):be(n,(function(t){return(s+(t-e)%s)%s+e}))},wrapYoyo:function t(e,i,n){var s=i-e,r=2*s;return yt(e)?Se(e,t(0,e.length-1),i):be(n,(function(t){return e+((t=(r+(t-e)%r)%r||0)>s?r-t:t)}))},distribute:ke,random:Fe,snap:Me,normalize:function(t,e,i){return Oe(t,e,0,1,i)},getUnit:we,clamp:function(t,e,i){return be(i,(function(i){return De(t,e,i)}))},splitColor:qe,toArray:Ce,mapRange:Oe,pipe:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return function(t){return e.reduce((function(t,e){return e(t)}),t)}},unitize:function(t,e){return function(i){return t(parseFloat(i))+(e||we(i))}},interpolate:function t(e,i,n,s){var r=isNaN(e+i)?0:function(t){return(1-t)*e+t*i};if(!r){var o,a,l,u,h,c=ut(e),d={};if(!0===n&&(s=1)&&(n=null),c)e={p:e},i={p:i};else if(yt(e)&&!yt(i)){for(l=[],u=e.length,h=u-2,a=1;a<u;a++)l.push(t(e[a-1],e[a]));u--,r=function(t){t*=u;var e=Math.min(h,~~t);return l[e](t-e)},n=i}else s||(e=Jt(yt(e)?[]:{},e));if(!l){for(o in i)ci.call(d,e,o,"get",i[o]);r=function(t){return Ti(t,d)||(c?e.p:e)}}}return be(n,r)},shuffle:Te},install:kt,effects:It,ticker:Ye,updateRoot:li.updateRoot,plugins:zt,globalTimeline:P,core:{PropTween:Si,globals:Ft,Tween:yi,Timeline:li,Animation:ai,getCache:qt,_removeLinkedListItem:ne}};Ut("to,from,fromTo,delayedCall,set,killTweensOf",(function(t){return Pi[t]=yi[t]})),Ye.add(li.updateRoot),R=Pi.to({},{duration:0});var Oi=function(t,e){for(var i=t._pt;i&&i.p!==e&&i.op!==e&&i.fp!==e;)i=i._next;return i},Li=function(t,e){return{name:t,rawVars:1,init:function(t,i,n){n._onInit=function(t){var n,s;if(ut(i)&&(n={},Ut(i,(function(t){return n[t]=1})),i=n),e){for(s in n={},i)n[s]=e(i[s]);i=n}!function(t,e){var i,n,s,r=t._targets;for(i in e)for(n=r.length;n--;)(s=t._ptLookup[n][i])&&(s=s.d)&&(s._pt&&(s=Oi(s,i)),s&&s.modifier&&s.modifier(e[i],t,r[n],i))}(t,i)}}}},zi=Pi.registerPlugin({name:"attr",init:function(t,e,i,n,s){var r,o;for(r in e)(o=this.add(t,"setAttribute",(t.getAttribute(r)||0)+"",e[r],n,s,0,0,r))&&(o.op=r),this._props.push(r)}},{name:"endArray",init:function(t,e){for(var i=e.length;i--;)this.add(t,i,t[i]||0,e[i])}},Li("roundProps",Ae),Li("modifiers"),Li("snap",Me))||Pi;yi.version=li.version=zi.version="3.3.4",I=1,mt()&&$e();Ge.Power0,Ge.Power1,Ge.Power2,Ge.Power3,Ge.Power4,Ge.Linear,Ge.Quad,Ge.Cubic,Ge.Quart,Ge.Quint,Ge.Strong,Ge.Elastic,Ge.Back,Ge.SteppedEase,Ge.Bounce,Ge.Sine,Ge.Expo,Ge.Circ;var Ii,Ni,Ri,Bi,ji,qi,Vi,Ui,Wi={},Hi=180/Math.PI,Xi=Math.PI/180,Yi=Math.atan2,$i=/([A-Z])/g,Gi=/(?:left|right|width|margin|padding|x)/i,Ki=/[\s,\(]\S/,Qi={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Zi=function(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},Ji=function(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},tn=function(t,e){return e.set(e.t,e.p,t?Math.round(1e4*(e.s+e.c*t))/1e4+e.u:e.b,e)},en=function(t,e){var i=e.s+e.c*t;e.set(e.t,e.p,~~(i+(i<0?-.5:.5))+e.u,e)},nn=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},sn=function(t,e){return e.set(e.t,e.p,1!==t?e.b:e.e,e)},rn=function(t,e,i){return t.style[e]=i},on=function(t,e,i){return t.style.setProperty(e,i)},an=function(t,e,i){return t._gsap[e]=i},ln=function(t,e,i){return t._gsap.scaleX=t._gsap.scaleY=i},un=function(t,e,i,n,s){var r=t._gsap;r.scaleX=r.scaleY=i,r.renderTransform(s,r)},hn=function(t,e,i,n,s){var r=t._gsap;r[e]=i,r.renderTransform(s,r)},cn="transform",dn=cn+"Origin",pn=function(t,e){var i=Ni.createElementNS?Ni.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):Ni.createElement(t);return i.style?i:Ni.createElement(t)},fn=function t(e,i,n){var s=getComputedStyle(e);return s[i]||s.getPropertyValue(i.replace($i,"-$1").toLowerCase())||s.getPropertyValue(i)||!n&&t(e,gn(i)||i,1)||""},mn="O,Moz,ms,Ms,Webkit".split(","),gn=function(t,e,i){var n=(e||ji).style,s=5;if(t in n&&!i)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);s--&&!(mn[s]+t in n););return s<0?null:(3===s?"ms":s>=0?mn[s]:"")+t},yn=function(){"undefined"!=typeof window&&window.document&&(Ii=window,Ni=Ii.document,Ri=Ni.documentElement,ji=pn("div")||{style:{}},qi=pn("div"),cn=gn(cn),dn=gn(dn),ji.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Ui=!!gn("perspective"),Bi=1)},vn=function t(e){var i,n=pn("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),s=this.parentNode,r=this.nextSibling,o=this.style.cssText;if(Ri.appendChild(n),n.appendChild(this),this.style.display="block",e)try{i=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=t}catch(t){}else this._gsapBBox&&(i=this._gsapBBox());return s&&(r?s.insertBefore(this,r):s.appendChild(this)),Ri.removeChild(n),this.style.cssText=o,i},bn=function(t,e){for(var i=e.length;i--;)if(t.hasAttribute(e[i]))return t.getAttribute(e[i])},Dn=function(t){var e;try{e=t.getBBox()}catch(i){e=vn.call(t,!0)}return e&&(e.width||e.height)||t.getBBox===vn||(e=vn.call(t,!0)),!e||e.width||e.x||e.y?e:{x:+bn(t,["x","cx","x1"])||0,y:+bn(t,["y","cy","y1"])||0,width:0,height:0}},wn=function(t){return!(!t.getCTM||t.parentNode&&!t.ownerSVGElement||!Dn(t))},_n=function(t,e){if(e){var i=t.style;e in Wi&&(e=cn),i.removeProperty?("ms"!==e.substr(0,2)&&"webkit"!==e.substr(0,6)||(e="-"+e),i.removeProperty(e.replace($i,"-$1").toLowerCase())):i.removeAttribute(e)}},En=function(t,e,i,n,s,r){var o=new Si(t._pt,e,i,0,1,r?sn:nn);return t._pt=o,o.b=n,o.e=s,t._props.push(i),o},xn={deg:1,rad:1,turn:1},Cn=function t(e,i,n,s){var r,o,a,l,u=parseFloat(n)||0,h=(n+"").trim().substr((u+"").length)||"px",c=ji.style,d=Gi.test(i),p="svg"===e.tagName.toLowerCase(),f=(p?"client":"offset")+(d?"Width":"Height"),m=100,g="px"===s,y="%"===s;return s===h||!u||xn[s]||xn[h]?u:("px"!==h&&!g&&(u=t(e,i,n,"px")),l=e.getCTM&&wn(e),y&&(Wi[i]||~i.indexOf("adius"))?Wt(u/(l?e.getBBox()[d?"width":"height"]:e[f])*m):(c[d?"width":"height"]=m+(g?h:s),o=~i.indexOf("adius")||"em"===s&&e.appendChild&&!p?e:e.parentNode,l&&(o=(e.ownerSVGElement||{}).parentNode),o&&o!==Ni&&o.appendChild||(o=Ni.body),(a=o._gsap)&&y&&a.width&&d&&a.time===Ye.time?Wt(u/a.width*m):((y||"%"===h)&&(c.position=fn(e,"position")),o===e&&(c.position="static"),o.appendChild(ji),r=ji[f],o.removeChild(ji),c.position="absolute",d&&y&&((a=qt(o)).time=Ye.time,a.width=o[f]),Wt(g?r*u/m:r&&u?m/r*u:0))))},Tn=function(t,e,i,n){var s;return Bi||yn(),e in Qi&&"transform"!==e&&~(e=Qi[e]).indexOf(",")&&(e=e.split(",")[0]),Wi[e]&&"transform"!==e?(s=Nn(t,n),s="transformOrigin"!==e?s[e]:Rn(fn(t,dn))+" "+s.zOrigin+"px"):(!(s=t.style[e])||"auto"===s||n||~(s+"").indexOf("calc("))&&(s=Fn[e]&&Fn[e](t,e,i)||fn(t,e)||Vt(t,e)||("opacity"===e?1:0)),i&&!~(s+"").indexOf(" ")?Cn(t,e,s,i)+i:s},kn=function(t,e,i,n){if(!i||"none"===i){var s=gn(e,t,1),r=s&&fn(t,s,1);r&&r!==i&&(e=s,i=r)}var o,a,l,u,h,c,d,p,f,m,g,y,v=new Si(this._pt,t.style,e,0,1,Ci),b=0,D=0;if(v.b=i,v.e=n,i+="","auto"===(n+="")&&(t.style[e]=n,n=fn(t,e)||n,t.style[e]=i),Xe(o=[i,n]),n=o[1],l=(i=o[0]).match(Dt)||[],(n.match(Dt)||[]).length){for(;a=Dt.exec(n);)d=a[0],f=n.substring(b,a.index),h?h=(h+1)%5:"rgba("!==f.substr(-5)&&"hsla("!==f.substr(-5)||(h=1),d!==(c=l[D++]||"")&&(u=parseFloat(c)||0,g=c.substr((u+"").length),(y="="===d.charAt(1)?+(d.charAt(0)+"1"):0)&&(d=d.substr(2)),p=parseFloat(d),m=d.substr((p+"").length),b=Dt.lastIndex-m.length,m||(m=m||J.units[e]||g,b===n.length&&(n+=m,v.e+=m)),g!==m&&(u=Cn(t,e,c,m)||0),v._pt={_next:v._pt,p:f||1===D?f:",",s:u,c:y?y*p:p-u,m:h&&h<4?Math.round:0});v.c=b<n.length?n.substring(b,n.length):""}else v.r="display"===e&&"none"===n?sn:nn;return Et.test(n)&&(v.e=0),this._pt=v,v},An={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Mn=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var i,n,s,r=e.t,o=r.style,a=e.u,l=r._gsap;if("all"===a||!0===a)o.cssText="",n=1;else for(s=(a=a.split(",")).length;--s>-1;)i=a[s],Wi[i]&&(n=1,i="transformOrigin"===i?dn:cn),_n(r,i);n&&(_n(r,cn),l&&(l.svg&&r.removeAttribute("transform"),Nn(r,1),l.uncache=1))}},Fn={clearProps:function(t,e,i,n,s){if("isFromStart"!==s.data){var r=t._pt=new Si(t._pt,e,i,0,0,Mn);return r.u=n,r.pr=-10,r.tween=s,t._props.push(i),1}}},Sn=[1,0,0,1,0,0],Pn={},On=function(t){return"matrix(1, 0, 0, 1, 0, 0)"===t||"none"===t||!t},Ln=function(t){var e=fn(t,cn);return On(e)?Sn:e.substr(7).match(bt).map(Wt)},zn=function(t,e){var i,n,s,r,o=t._gsap||qt(t),a=t.style,l=Ln(t);return o.svg&&t.getAttribute("transform")?"1,0,0,1,0,0"===(l=[(s=t.transform.baseVal.consolidate().matrix).a,s.b,s.c,s.d,s.e,s.f]).join(",")?Sn:l:(l!==Sn||t.offsetParent||t===Ri||o.svg||(s=a.display,a.display="block",(i=t.parentNode)&&t.offsetParent||(r=1,n=t.nextSibling,Ri.appendChild(t)),l=Ln(t),s?a.display=s:_n(t,"display"),r&&(n?i.insertBefore(t,n):i?i.appendChild(t):Ri.removeChild(t))),e&&l.length>6?[l[0],l[1],l[4],l[5],l[12],l[13]]:l)},In=function(t,e,i,n,s,r){var o,a,l,u=t._gsap,h=s||zn(t,!0),c=u.xOrigin||0,d=u.yOrigin||0,p=u.xOffset||0,f=u.yOffset||0,m=h[0],g=h[1],y=h[2],v=h[3],b=h[4],D=h[5],w=e.split(" "),_=parseFloat(w[0])||0,E=parseFloat(w[1])||0;i?h!==Sn&&(a=m*v-g*y)&&(l=_*(-g/a)+E*(m/a)-(m*D-g*b)/a,_=_*(v/a)+E*(-y/a)+(y*D-v*b)/a,E=l):(_=(o=Dn(t)).x+(~w[0].indexOf("%")?_/100*o.width:_),E=o.y+(~(w[1]||w[0]).indexOf("%")?E/100*o.height:E)),n||!1!==n&&u.smooth?(b=_-c,D=E-d,u.xOffset=p+(b*m+D*y)-b,u.yOffset=f+(b*g+D*v)-D):u.xOffset=u.yOffset=0,u.xOrigin=_,u.yOrigin=E,u.smooth=!!n,u.origin=e,u.originIsAbsolute=!!i,t.style[dn]="0px 0px",r&&(En(r,u,"xOrigin",c,_),En(r,u,"yOrigin",d,E),En(r,u,"xOffset",p,u.xOffset),En(r,u,"yOffset",f,u.yOffset)),t.setAttribute("data-svg-origin",_+" "+E)},Nn=function(t,e){var i=t._gsap||new oi(t);if("x"in i&&!e&&!i.uncache)return i;var n,s,r,o,a,l,u,h,c,d,p,f,m,g,y,v,b,D,w,_,E,x,C,T,k,A,M,F,S,P,O,L,z=t.style,I=i.scaleX<0,N="px",R="deg",B=fn(t,dn)||"0";return n=s=r=l=u=h=c=d=p=0,o=a=1,i.svg=!(!t.getCTM||!wn(t)),g=zn(t,i.svg),i.svg&&(T=!i.uncache&&t.getAttribute("data-svg-origin"),In(t,T||B,!!T||i.originIsAbsolute,!1!==i.smooth,g)),f=i.xOrigin||0,m=i.yOrigin||0,g!==Sn&&(D=g[0],w=g[1],_=g[2],E=g[3],n=x=g[4],s=C=g[5],6===g.length?(o=Math.sqrt(D*D+w*w),a=Math.sqrt(E*E+_*_),l=D||w?Yi(w,D)*Hi:0,(c=_||E?Yi(_,E)*Hi+l:0)&&(a*=Math.cos(c*Xi)),i.svg&&(n-=f-(f*D+m*_),s-=m-(f*w+m*E))):(L=g[6],P=g[7],M=g[8],F=g[9],S=g[10],O=g[11],n=g[12],s=g[13],r=g[14],u=(y=Yi(L,S))*Hi,y&&(T=x*(v=Math.cos(-y))+M*(b=Math.sin(-y)),k=C*v+F*b,A=L*v+S*b,M=x*-b+M*v,F=C*-b+F*v,S=L*-b+S*v,O=P*-b+O*v,x=T,C=k,L=A),h=(y=Yi(-_,S))*Hi,y&&(v=Math.cos(-y),O=E*(b=Math.sin(-y))+O*v,D=T=D*v-M*b,w=k=w*v-F*b,_=A=_*v-S*b),l=(y=Yi(w,D))*Hi,y&&(T=D*(v=Math.cos(y))+w*(b=Math.sin(y)),k=x*v+C*b,w=w*v-D*b,C=C*v-x*b,D=T,x=k),u&&Math.abs(u)+Math.abs(l)>359.9&&(u=l=0,h=180-h),o=Wt(Math.sqrt(D*D+w*w+_*_)),a=Wt(Math.sqrt(C*C+L*L)),y=Yi(x,C),c=Math.abs(y)>2e-4?y*Hi:0,p=O?1/(O<0?-O:O):0),i.svg&&(T=t.getAttribute("transform"),i.forceCSS=t.setAttribute("transform","")||!On(fn(t,cn)),T&&t.setAttribute("transform",T))),Math.abs(c)>90&&Math.abs(c)<270&&(I?(o*=-1,c+=l<=0?180:-180,l+=l<=0?180:-180):(a*=-1,c+=c<=0?180:-180)),i.x=((i.xPercent=n&&Math.round(t.offsetWidth/2)===Math.round(-n)?-50:0)?0:n)+N,i.y=((i.yPercent=s&&Math.round(t.offsetHeight/2)===Math.round(-s)?-50:0)?0:s)+N,i.z=r+N,i.scaleX=Wt(o),i.scaleY=Wt(a),i.rotation=Wt(l)+R,i.rotationX=Wt(u)+R,i.rotationY=Wt(h)+R,i.skewX=c+R,i.skewY=d+R,i.transformPerspective=p+N,(i.zOrigin=parseFloat(B.split(" ")[2])||0)&&(z[dn]=Rn(B)),i.xOffset=i.yOffset=0,i.force3D=J.force3D,i.renderTransform=i.svg?Hn:Ui?Wn:jn,i.uncache=0,i},Rn=function(t){return(t=t.split(" "))[0]+" "+t[1]},Bn=function(t,e,i){var n=we(e);return Wt(parseFloat(e)+parseFloat(Cn(t,"x",i+"px",n)))+n},jn=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,Wn(t,e)},qn="0deg",Vn="0px",Un=") ",Wn=function(t,e){var i=e||this,n=i.xPercent,s=i.yPercent,r=i.x,o=i.y,a=i.z,l=i.rotation,u=i.rotationY,h=i.rotationX,c=i.skewX,d=i.skewY,p=i.scaleX,f=i.scaleY,m=i.transformPerspective,g=i.force3D,y=i.target,v=i.zOrigin,b="",D="auto"===g&&t&&1!==t||!0===g;if(v&&(h!==qn||u!==qn)){var w,_=parseFloat(u)*Xi,E=Math.sin(_),x=Math.cos(_);_=parseFloat(h)*Xi,w=Math.cos(_),r=Bn(y,r,E*w*-v),o=Bn(y,o,-Math.sin(_)*-v),a=Bn(y,a,x*w*-v+v)}m!==Vn&&(b+="perspective("+m+Un),(n||s)&&(b+="translate("+n+"%, "+s+"%) "),(D||r!==Vn||o!==Vn||a!==Vn)&&(b+=a!==Vn||D?"translate3d("+r+", "+o+", "+a+") ":"translate("+r+", "+o+Un),l!==qn&&(b+="rotate("+l+Un),u!==qn&&(b+="rotateY("+u+Un),h!==qn&&(b+="rotateX("+h+Un),c===qn&&d===qn||(b+="skew("+c+", "+d+Un),1===p&&1===f||(b+="scale("+p+", "+f+Un),y.style[cn]=b||"translate(0, 0)"},Hn=function(t,e){var i,n,s,r,o,a=e||this,l=a.xPercent,u=a.yPercent,h=a.x,c=a.y,d=a.rotation,p=a.skewX,f=a.skewY,m=a.scaleX,g=a.scaleY,y=a.target,v=a.xOrigin,b=a.yOrigin,D=a.xOffset,w=a.yOffset,_=a.forceCSS,E=parseFloat(h),x=parseFloat(c);d=parseFloat(d),p=parseFloat(p),(f=parseFloat(f))&&(p+=f=parseFloat(f),d+=f),d||p?(d*=Xi,p*=Xi,i=Math.cos(d)*m,n=Math.sin(d)*m,s=Math.sin(d-p)*-g,r=Math.cos(d-p)*g,p&&(f*=Xi,o=Math.tan(p-f),s*=o=Math.sqrt(1+o*o),r*=o,f&&(o=Math.tan(f),i*=o=Math.sqrt(1+o*o),n*=o)),i=Wt(i),n=Wt(n),s=Wt(s),r=Wt(r)):(i=m,r=g,n=s=0),(E&&!~(h+"").indexOf("px")||x&&!~(c+"").indexOf("px"))&&(E=Cn(y,"x",h,"px"),x=Cn(y,"y",c,"px")),(v||b||D||w)&&(E=Wt(E+v-(v*i+b*s)+D),x=Wt(x+b-(v*n+b*r)+w)),(l||u)&&(o=y.getBBox(),E=Wt(E+l/100*o.width),x=Wt(x+u/100*o.height)),o="matrix("+i+","+n+","+s+","+r+","+E+","+x+")",y.setAttribute("transform",o),_&&(y.style[cn]=o)},Xn=function(t,e,i,n,s,r){var o,a,l=360,u=ut(s),h=parseFloat(s)*(u&&~s.indexOf("rad")?Hi:1),c=r?h*r:h-n,d=n+c+"deg";return u&&("short"===(o=s.split("_")[1])&&(c%=l)!==c%180&&(c+=c<0?l:-360),"cw"===o&&c<0?c=(c+36e9)%l-~~(c/l)*l:"ccw"===o&&c>0&&(c=(c-36e9)%l-~~(c/l)*l)),t._pt=a=new Si(t._pt,e,i,n,c,Ji),a.e=d,a.u="deg",t._props.push(i),a},Yn=function(t,e,i){var n,s,r,o,a,l,u,h=qi.style,c=i._gsap;for(s in h.cssText=getComputedStyle(i).cssText+";position:absolute;display:block;",h[cn]=e,Ni.body.appendChild(qi),n=Nn(qi,1),Wi)(r=c[s])!==(o=n[s])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(s)<0&&(a=we(r)!==(u=we(o))?Cn(i,s,r,u):parseFloat(r),l=parseFloat(o),t._pt=new Si(t._pt,c,s,a,l-a,Zi),t._pt.u=u||0,t._props.push(s));Ni.body.removeChild(qi)};Ut("padding,margin,Width,Radius",(function(t,e){var i="Top",n="Right",s="Bottom",r="Left",o=(e<3?[i,n,s,r]:[i+r,i+n,s+n,s+r]).map((function(i){return e<2?t+i:"border"+i+t}));Fn[e>1?"border"+t:t]=function(t,e,i,n,s){var r,a;if(arguments.length<4)return r=o.map((function(e){return Tn(t,e,i)})),5===(a=r.join(" ")).split(r[0]).length?r[0]:a;r=(n+"").split(" "),a={},o.forEach((function(t,e){return a[t]=r[e]=r[e]||r[(e-1)/2|0]})),t.init(e,a,s)}}));var $n,Gn,Kn,Qn={name:"css",register:yn,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,i,n,s){var r,o,a,l,u,h,c,d,p,f,m,g,y,v,b,D,w,_,E,x=this._props,C=t.style;for(c in Bi||yn(),e)if("autoRound"!==c&&(o=e[c],!zt[c]||!di(c,e,i,n,t,s)))if(u=typeof o,h=Fn[c],"function"===u&&(u=typeof(o=o.call(i,n,t,s))),"string"===u&&~o.indexOf("random(")&&(o=Pe(o)),h)h(this,t,c,o,i)&&(b=1);else if("--"===c.substr(0,2))this.add(C,"setProperty",getComputedStyle(t).getPropertyValue(c)+"",o+"",n,s,0,0,c);else{if(r=Tn(t,c),l=parseFloat(r),(f="string"===u&&"="===o.charAt(1)?+(o.charAt(0)+"1"):0)&&(o=o.substr(2)),a=parseFloat(o),c in Qi&&("autoAlpha"===c&&(1===l&&"hidden"===Tn(t,"visibility")&&a&&(l=0),En(this,C,"visibility",l?"inherit":"hidden",a?"inherit":"hidden",!a)),"scale"!==c&&"transform"!==c&&~(c=Qi[c]).indexOf(",")&&(c=c.split(",")[0])),m=c in Wi)if(g||((y=t._gsap).renderTransform||Nn(t),v=!1!==e.smoothOrigin&&y.smooth,(g=this._pt=new Si(this._pt,C,cn,0,1,y.renderTransform,y,0,-1)).dep=1),"scale"===c)this._pt=new Si(this._pt,y,"scaleY",y.scaleY,f?f*a:a-y.scaleY),x.push("scaleY",c),c+="X";else{if("transformOrigin"===c){w=void 0,_=void 0,E=void 0,w=(D=o).split(" "),_=w[0],E=w[1]||"50%","top"!==_&&"bottom"!==_&&"left"!==E&&"right"!==E||(D=_,_=E,E=D),w[0]=An[_]||_,w[1]=An[E]||E,o=w.join(" "),y.svg?In(t,o,0,v,0,this):((p=parseFloat(o.split(" ")[2])||0)!==y.zOrigin&&En(this,y,"zOrigin",y.zOrigin,p),En(this,C,c,Rn(r),Rn(o)));continue}if("svgOrigin"===c){In(t,o,1,v,0,this);continue}if(c in Pn){Xn(this,y,c,l,o,f);continue}if("smoothOrigin"===c){En(this,y,"smooth",y.smooth,o);continue}if("force3D"===c){y[c]=o;continue}if("transform"===c){Yn(this,o,t);continue}}else c in C||(c=gn(c)||c);if(m||(a||0===a)&&(l||0===l)&&!Ki.test(o)&&c in C)a||(a=0),(d=(r+"").substr((l+"").length))!==(p=(o+"").substr((a+"").length)||(c in J.units?J.units[c]:d))&&(l=Cn(t,c,r,p)),this._pt=new Si(this._pt,m?y:C,c,l,f?f*a:a-l,"px"!==p||!1===e.autoRound||m?Zi:en),this._pt.u=p||0,d!==p&&(this._pt.b=r,this._pt.r=tn);else if(c in C)kn.call(this,t,c,r,o);else{if(!(c in t)){At(c,o);continue}this.add(t,c,t[c],o,n,s)}x.push(c)}b&&Fi(this)},get:Tn,aliases:Qi,getSetter:function(t,e,i){var n=Qi[e];return n&&n.indexOf(",")<0&&(e=n),e in Wi&&e!==dn&&(t._gsap.x||Tn(t,"x"))?i&&Vi===i?"scale"===e?ln:an:(Vi=i||{})&&("scale"===e?un:hn):t.style&&!dt(t.style[e])?rn:~e.indexOf("-")?on:_i(t,e)},core:{_removeProperty:_n,_getMatrix:zn}};zi.utils.checkPrefix=gn,Kn=Ut(($n="x,y,z,scale,scaleX,scaleY,xPercent,yPercent")+","+(Gn="rotation,rotationX,rotationY,skewX,skewY")+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(t){Wi[t]=1})),Ut(Gn,(function(t){J.units[t]="deg",Pn[t]=1})),Qi[Kn[13]]=$n+","+Gn,Ut("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(t){var e=t.split(":");Qi[e[1]]=Kn[e[0]]})),Ut("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(t){J.units[t]="px"})),zi.registerPlugin(Qn);var Zn=zi.registerPlugin(Qn)||zi;Zn.core.Tween;function Jn(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var ts=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,"onScroll","onMove","onRaf"),this.target=0,this.current=0,this.currentRounded=0,this.mouse={x:0,y:0,target:null},this.ease=.115}var e,i,n;return e=t,(i=[{key:"onRaf",value:function(){this.current=f(this.current,this.target,this.ease),this.currentRounded=Math.round(100*this.current)/100,this.diff=.005*(this.target-this.current),M.emit("tick",{target:this.target,current:this.getSmooth(),mouse:this.mouse,diff:this.diff})}},{key:"clampTarget",value:function(){this.target=Math.min(Math.max(this.target,0),b.bounds.scroll)}},{key:"onScroll",value:function(t){var e=t.y;b.flags.locked||(this.target+=e,this.clampTarget())}},{key:"getSmooth",value:function(){return b.sniff.isDevice?window.pageYOffset:this.currentRounded}},{key:"scrollTo",value:function(t){b.sniff.isDevice?window.scrollTo({top:t,left:0,behavior:"smooth"}):Zn.to(this,{target:t,duration:1,ease:"expo.inOut"})}},{key:"setScroll",value:function(t){b.sniff.isDevice?window.scrollTo({top:t,left:0}):Zn.set(this,{target:t,current:t,currentRounded:t})}},{key:"onMove",value:function(t){var e=t.x,i=t.y,n=t.target;this.mouse.x=e,this.mouse.y=i,this.mouse.target=n}},{key:"getSmooth",value:function(){return p.sniff.isDevice?window.pageYOffset:this.currentRounded}},{key:"on",value:function(){Zn.ticker.add(this.onRaf),M.on("scroll",this.onScroll),M.on("mousemove",this.onMove)}}])&&Jn(e.prototype,i),n&&Jn(e,n),t}(),es=i(3),is=i.n(es);function ns(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var ss=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,"onResize"),this.init()}var e,i,n;return e=t,(i=[{key:"onResize",value:function(){p.update(),b.flags.resize=!0,b.vw=c().width,b.vh=c().height,b.window=d(),(!b.sniff.isDevice&&p.isDevice||b.sniff.isDevice&&!p.isDevice)&&location.reload(),b.sniff=p.sniff,b.scroll.setScrollBounds(),M.emit("GlobalResize"),b.flags.resize=!1,b.sniff.isDevice&&b.body.classList.add("is-device")}},{key:"on",value:function(){window.addEventListener("resize",is()(this.onResize,200))}},{key:"init",value:function(){this.on()}}])&&ns(e.prototype,i),n&&ns(e,n),t}();function rs(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var os=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.state={on:0,off:0,coords:{x:0,y:0}},this.events={move:p.sniff.isDevice?"touchmove":"mousemove",down:p.sniff.isDevice?"touchstart":"mousedown",up:p.sniff.isDevice?"touchend":"mouseup"},a(this,"onMove","onDown","onUp")}var e,i,n;return e=t,(i=[{key:"on",value:function(){this.l("add")}},{key:"off",value:function(){this.l("remove")}},{key:"l",value:function(t){var e=this.events,i=e.move,n=e.down,s=e.up;u(window,t,i,this.onMove),u(window,t,n,this.onDown),u(window,t,s,this.onUp)}},{key:"getPos",value:function(t){return{x:t.changedTouches?t.changedTouches[0].clientX:t.clientX,y:t.changedTouches?t.changedTouches[0].clientY:t.clientY,target:t.target}}},{key:"onMove",value:function(t){var e=this.getPos(t),i=e.x,n=e.y,s=e.target;M.emit("mousemove",{x:i,y:n,target:s,e:t})}},{key:"onDown",value:function(t){var e=this.getPos(t),i=e.x,n=e.y,s=e.target;this.state.on=i,M.emit("mousedown",{x:i,y:n,target:s})}},{key:"onUp",value:function(t){var e=this.getPos(t),i=e.x,n=e.target,s=this.state;s.off=i;var r=Math.abs(s.on-s.off)>10;M.emit("mouseup",{x:i,target:n,isClick:r})}}])&&rs(e.prototype,i),n&&rs(e,n),t}(),as=i(4),ls=i.n(as);function us(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hs(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var cs=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};us(this,t),this.smooth=e.smooth||!1,b.flags.smooth=p.sniff.isDesktop,a(this,"onEvent","onScroll")}var e,i,s;return e=t,(i=[{key:"setScrollBounds",value:function(){b.bounds={};var t=n("[data-smooth]"),e=h(t).height;b.bounds.scroll=e>b.vh?e-b.vh:0}},{key:"onEvent",value:function(t){M.emit("scroll",{y:-1*t.deltaY})}},{key:"onScroll",value:function(t){M.emit("scroll",{y:window.scrollY})}},{key:"on",value:function(){this.l("add")}},{key:"off",value:function(){this.l("remove")}},{key:"l",value:function(t){if(this.smooth){b.body.classList.add("is-smooth");var e="add"===t?"on":"off";new ls.a({mouseMultiplier:p.sniff.isWindows?1.1:.45,touchMultiplier:3.5,firefoxMultiplier:(p.sniff.isFirefox,40),passive:!0})[e](this.onEvent)}else window.addEventListener("scroll",this.onScroll)}}])&&hs(e.prototype,i),s&&hs(e,s),t}();function ds(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ps(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var fs=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),ps(this,"transform",(function(t){var i=t.current/e.state.scale;e.state.current=i,e.handle.style.transform="translate3d(0, ".concat(e.state.current,"px, 0)")})),ps(this,"click",(function(t){e.calcScroll(t)})),ps(this,"down",(function(){e.state.clicked=!0,b.body.classList.add("is-dragging")})),ps(this,"move",(function(t){e.state.clicked&&e.calcScroll(t)})),ps(this,"up",(function(){e.state.clicked=!1,b.body.classList.remove("is-dragging")})),ps(this,"resize",(function(){e.setBounds()})),this.el=null,this.handle=null,this.state={clicked:!1,scale:0,current:0},this.single=n(".single"),this.init()}var e,i,s;return e=t,(i=[{key:"init",value:function(){this.single&&(this.create(),this.setBounds(),this.addEvents())}},{key:"addEvents",value:function(){M.on("tick",this.transform),M.on("resize",this.resize),this.el.addEventListener("click",this.click),this.handle.addEventListener("mousedown",this.down),window.addEventListener("mousemove",this.move),window.addEventListener("mouseup",this.up)}},{key:"setBounds",value:function(){var t=b.bounds.scroll;this.state.scale=t/b.vh,this.height=b.vh/this.state.scale}},{key:"calcScroll",value:function(t){var e=t.clientY*this.state.scale;(void 0).target=e,(void 0).clampTarget()}},{key:"create",value:function(){this.el=document.createElement("div"),this.handle=document.createElement("div"),this.el.classList.add("scrollbar","js-scrollbar"),this.handle.classList.add("scrollbar__handle","js-scrollbar__handle"),Object.assign(this.el.style,{position:"fixed",top:0,left:0,height:"100%",pointerEvents:"all"}),Object.assign(this.handle.style,{position:"absolute",top:"-100%",left:0,width:"100%",height:"100%",cursor:"pointer"}),this.single.appendChild(this.el),this.el.appendChild(this.handle)}},{key:"update",value:function(){this.setBounds()}},{key:"removeEvents",value:function(){this.el&&this.el.removeEventListener("click",this.click),this.handle&&this.handle.removeEventListener("mousedown",this.down),window.addEventListener("mousemove",this.move),window.addEventListener("mouseup",this.up)}},{key:"destroy",value:function(){this.removeEvents()}}])&&ds(e.prototype,i),s&&ds(e,s),t}();function ms(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var gs=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,"run","resize"),this.el=n("[data-smooth]"),this.elems=null,this.current=0,this.threshold=100,this.sections=null,this.scrollbar=null}var e,i,r;return e=t,(i=[{key:"init",value:function(t){this.elems=t||s("[data-smooth-item]"),this.getSections(),this.scrollbar=new fs,this.on()}},{key:"update",value:function(t){b.flags.resize=!0,b.scroll.setScrollBounds(),this.elems=t||s("[data-smooth-item]"),this.scrollbar.update(),this.getSections(),this.transformSections(),b.flags.resize=!1}},{key:"clean",value:function(){this.elems=this.sections=null}},{key:"run",value:function(t){var e=t.current;this.current=e,this.transformSections()}},{key:"transformSections",value:function(){if(this.sections&&b.flags.smooth)for(var t=b.flags.resize,e=0;e<this.sections.length;e++){var i=this.sections[e],n=this.isVisible(i),s=n.isVisible,r=n.transform;s||t?(i.out=!1,i.transform=r,i.el.style.transform=this.getTransform(r)):i.out||(i.out=!0,i.transform=r,i.el.style.transform=this.getTransform(r))}}},{key:"isVisible",value:function(t){var e=b.vh,i=t.top,n=t.bottom,s=t.offset,r=t.speed,o=t.parent,a=o&&o.transform||0,l=this.current*r,u=l-s-a,h=n-l,c=i-l<this.threshold+e&&h>-this.threshold;return{isVisible:c,transform:u}}},{key:"getTransform",value:function(t){return"translate3d(0, ".concat(-t,"px, 0)")}},{key:"getVars",value:function(t,e){var i=b.vh,n=h(t),s=i/2-n.height/2,r=n.top<i?0:(n.top-s)*e-(n.top-s);return{top:n.top+r,bottom:n.bottom+r,offset:r}}},{key:"getSections",value:function(){var t=this;this.elems&&(this.sections=null,this.sections=[],this.elems.forEach((function(e){e.style.transform="translate3d(0, 0, 0)";var i=e.dataset.speed||1,n=t.getVars(e,i),s=n.top,r=n.bottom,o=n.offset,a=e.parentNode.closest("[data-smooth-item]");a&&t.sections.some((function(t){t.el===a&&(a=t)})),t.sections.push({el:e,parent:a,top:s,bottom:r,offset:o,speed:i,out:!0,transform:0})})))}},{key:"resize",value:function(){var t=this;this.sections&&(this.sections.forEach((function(e){e.el.style.transform="translate3d(0, 0, 0)";var i=t.getVars(e.el,e.speed),n=i.top,s=i.bottom,r=i.offset;Object.assign(e,{top:n,bottom:s,offset:r})})),M.emit("smooth:resize"),this.transformSections())}},{key:"anchor",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=s("[data-scroll-to]");e.forEach((function(e){e.addEventListener("click",(function(){var i=n("#".concat(e.dataset.scrollTo));t?ts.scrollTo(i.offsetTop):window.scrollTo(0,i.offsetTop)}))}))}},{key:"on",value:function(){M.on("tick",this.run),M.on("GlobalResize",this.resize)}},{key:"off",value:function(){M.off("tick",this.run),M.off("GlobalResize",this.resize),this.scrollbar&&this.scrollbar.destroy()}}])&&ms(e.prototype,i),r&&ms(e,r),t}());function ys(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vs(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var bs=function(){function t(){var e=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ys(this,t),a(this,"run","resize"),this.el=i.el,this.lenght=this.el.lenght,this.sections=[],this.current=0,0!==this.lenght&&this.el.forEach((function(t){e.getSections(t)})),this.init()}var e,i,r;return e=t,(i=[{key:"visible",value:function(t){var e=t.start,i=t.end;return this.current>e&&this.current<i}},{key:"run",value:function(t){this.current=t.current,this.playTimelines()}},{key:"playTimelines",value:function(){var t=this;this.sections.forEach((function(e,i){t.visible(e)&&(e.tl.play(),e.el.classList.add("in-view"))}))}},{key:"getSections",value:function(t){switch(t.dataset.section||t.dataset.element){case"info":var e=this.info(t);this.sections.push(e);break;case"name":var i=this.name(t);this.sections.push(i);break;case"image":var n=this.image(t);this.sections.push(n);break;case"archive":var s=this.archive(t);this.sections.push(s);break;case"feed":var r=this.feed(t);this.sections.push(r)}}},{key:"archive",value:function(t){var e=t.dataset.delay?.3:0,i=Zn.timeline({paused:!0});return i.from(t,{duration:2,autoAlpha:0,delay:e,y:"40%",ease:"power2.out"}),{el:t,start:0,end:0,tl:i,update:{start:1.1,end:0}}}},{key:"feed",value:function(t){var e=s(".line-0",t),i=n(".post-title .p",t);i&&e.push(i);var r=Zn.timeline({paused:!0});return r.from(t,{duration:.8,autoAlpha:0}),{el:t,start:0,end:0,tl:r,update:{start:1.2,end:0}}}},{key:"name",value:function(t){var e=Zn.timeline({paused:!0}),i=h(t);return{el:t,start:i.top-b.vh/1.6,end:i.bottom,tl:e}}},{key:"info",value:function(t){var e=n(".info-title",t),i=n(".info-col",t),r=s(".info-challenge",t),o=s(".info-solution",t),a=s(".info-block",i),l=Zn.timeline({paused:!0});return e&&l.from(e,{duration:1.4,y:30,autoAlpha:0,ease:"power3.out"}),0!==r.length&&l.from(r,{duration:1.4,y:30,autoAlpha:0,ease:"power3.out"},"-=1.2"),0!==o.length&&l.from(o,{duration:1.4,y:30,autoAlpha:0,ease:"power3.out"},"-=1"),a.forEach((function(t){var e=s("p",t),i=s("li",t);0!==e.length&&l.from(e,{duration:1.4,y:10,autoAlpha:0,stagger:.1,ease:"power3.out"},.5),0!==i.length&&l.from(i,{duration:1.4,y:10,autoAlpha:0,stagger:.1,ease:"power3.out"},.8)})),{el:t,start:0,end:0,tl:l,update:{start:1.6,end:0}}}},{key:"image",value:function(t){var e=s(".gallery-item",t),i=Zn.timeline({paused:!0});return 0!==e.length?i.from(e,{duration:1.4,y:100,autoAlpha:0,stagger:.2,ease:"power3.out"}):i.from(t,{duration:1.4,y:100,autoAlpha:0,ease:"power3.out"}),{el:t,start:0,end:0,tl:i,update:{start:1.1,end:0}}}},{key:"update",value:function(){for(var t=this.sections.length-1,e=0;e<=t;e++){var i=this.sections[e],n=i.el,s=i.update,r=h(n);this.sections[e].start=this.updateStart(r,s.start),this.sections[e].end=this.updateEnd(r,s.end)}}},{key:"updateStart",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1.2,i=t.top;return 0!=e?i-b.vh/e:i}},{key:"updateEnd",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=t.bottom;return 0!==e?i+b.vh/e:i}},{key:"addEvents",value:function(){M.on("tick",this.run)}},{key:"removeEvents",value:function(){M.off("tick",this.run)}},{key:"resize",value:function(){this.resizing=!0,this.resizing=!1}},{key:"destroy",value:function(){this.removeEvents(),this.el=null,this.sections=[],this.current=0}},{key:"init",value:function(){this.addEvents()}}])&&vs(e.prototype,i),r&&vs(e,r),t}();var Ds=/([\uD800-\uDBFF][\uDC00-\uDFFF](?:[\u200D\uFE0F][\uD800-\uDBFF][\uDC00-\uDFFF]){2,}|\uD83D\uDC69(?:\u200D(?:(?:\uD83D\uDC69\u200D)?\uD83D\uDC67|(?:\uD83D\uDC69\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]\uFE0F|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC6F\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3C-\uDD3E\uDDD6-\uDDDF])\u200D[\u2640\u2642]\uFE0F|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F\u200D[\u2640\u2642]|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])\uFE0F|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\uD83D\uDC69\u200D[\u2695\u2696\u2708]|\uD83D\uDC68(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708]))\uFE0F|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83D\uDC69\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]))|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\u200D(?:(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])?|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267B\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])\uFE0F)/;function ws(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _s(t){return(_s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Es,xs,Cs,Ts=/(?:\r|\n|\t\t)/g,ks=/(?:\s\s+)/g,As=function(t){return xs.getComputedStyle(t)},Ms=Array.isArray,Fs=[].slice,Ss=function(t,e){var i;return Ms(t)?t:"string"===(i=_s(t))&&!e&&t?Fs.call(Es.querySelectorAll(t),0):t&&"object"===i&&"length"in t?Fs.call(t,0):t?[t]:[]},Ps=function(t){return"absolute"===t.position||!0===t.absolute},Os=function(t,e){for(var i,n=e.length;--n>-1;)if(i=e[n],t.substr(0,i.length)===i)return i.length},Ls=" style='position:relative;display:inline-block;'",zs=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0,i=~t.indexOf("++"),n=1;return i&&(t=t.split("++").join("")),function(){return"<"+e+Ls+(t?" class='"+t+(i?n++:"")+"'>":">")}},Is=function t(e,i,n){var s=e.nodeType;if(1===s||9===s||11===s)for(e=e.firstChild;e;e=e.nextSibling)t(e,i,n);else 3!==s&&4!==s||(e.nodeValue=e.nodeValue.split(i).join(n))},Ns=function(t,e){for(var i=e.length;--i>-1;)t.push(e[i])},Rs=function(t,e,i){for(var n;t&&t!==e;){if(n=t._next||t.nextSibling)return n.textContent.charAt(0)===i;t=t.parentNode||t._parent}},Bs=function t(e){var i,n,s=Ss(e.childNodes),r=s.length;for(i=0;i<r;i++)(n=s[i])._isSplit?t(n):(i&&3===n.previousSibling.nodeType?n.previousSibling.nodeValue+=3===n.nodeType?n.nodeValue:n.firstChild.nodeValue:3!==n.nodeType&&e.insertBefore(n.firstChild,n),e.removeChild(n))},js=function(t,e){return parseFloat(e[t])||0},qs=function(t,e,i,n,s,r,o){var a,l,u,h,c,d,p,f,m,g,y,v,b=As(t),D=js("paddingLeft",b),w=-999,_=js("borderBottomWidth",b)+js("borderTopWidth",b),E=js("borderLeftWidth",b)+js("borderRightWidth",b),x=js("paddingTop",b)+js("paddingBottom",b),C=js("paddingLeft",b)+js("paddingRight",b),T=.2*js("fontSize",b),k=b.textAlign,A=[],M=[],F=[],S=e.wordDelimiter||" ",P=e.tag?e.tag:e.span?"span":"div",O=e.type||e.split||"chars,words,lines",L=s&&~O.indexOf("lines")?[]:null,z=~O.indexOf("words"),I=~O.indexOf("chars"),N=Ps(e),R=e.linesClass,B=~(R||"").indexOf("++"),j=[];for(B&&(R=R.split("++").join("")),u=(l=t.getElementsByTagName("*")).length,c=[],a=0;a<u;a++)c[a]=l[a];if(L||N)for(a=0;a<u;a++)((d=(h=c[a]).parentNode===t)||N||I&&!z)&&(v=h.offsetTop,L&&d&&Math.abs(v-w)>T&&("BR"!==h.nodeName||0===a)&&(p=[],L.push(p),w=v),N&&(h._x=h.offsetLeft,h._y=v,h._w=h.offsetWidth,h._h=h.offsetHeight),L&&((h._isSplit&&d||!I&&d||z&&d||!z&&h.parentNode.parentNode===t&&!h.parentNode._isSplit)&&(p.push(h),h._x-=D,Rs(h,t,S)&&(h._wordEnd=!0)),"BR"===h.nodeName&&(h.nextSibling&&"BR"===h.nextSibling.nodeName||0===a)&&L.push([])));for(a=0;a<u;a++)d=(h=c[a]).parentNode===t,"BR"!==h.nodeName?(N&&(m=h.style,z||d||(h._x+=h.parentNode._x,h._y+=h.parentNode._y),m.left=h._x+"px",m.top=h._y+"px",m.position="absolute",m.display="block",m.width=h._w+1+"px",m.height=h._h+"px"),!z&&I?h._isSplit?(h._next=h.nextSibling,h.parentNode.appendChild(h)):h.parentNode._isSplit?(h._parent=h.parentNode,!h.previousSibling&&h.firstChild&&(h.firstChild._isFirst=!0),h.nextSibling&&" "===h.nextSibling.textContent&&!h.nextSibling.nextSibling&&j.push(h.nextSibling),h._next=h.nextSibling&&h.nextSibling._isFirst?null:h.nextSibling,h.parentNode.removeChild(h),c.splice(a--,1),u--):d||(v=!h.nextSibling&&Rs(h.parentNode,t,S),h.parentNode._parent&&h.parentNode._parent.appendChild(h),v&&h.parentNode.appendChild(Es.createTextNode(" ")),"span"===P&&(h.style.display="inline"),A.push(h)):h.parentNode._isSplit&&!h._isSplit&&""!==h.innerHTML?M.push(h):I&&!h._isSplit&&("span"===P&&(h.style.display="inline"),A.push(h))):L||N?(h.parentNode&&h.parentNode.removeChild(h),c.splice(a--,1),u--):z||t.appendChild(h);for(a=j.length;--a>-1;)j[a].parentNode.removeChild(j[a]);if(L){for(N&&(g=Es.createElement(P),t.appendChild(g),y=g.offsetWidth+"px",v=g.offsetParent===t?0:t.offsetLeft,t.removeChild(g)),m=t.style.cssText,t.style.cssText="display:none;";t.firstChild;)t.removeChild(t.firstChild);for(f=" "===S&&(!N||!z&&!I),a=0;a<L.length;a++){for(p=L[a],(g=Es.createElement(P)).style.cssText="display:block;text-align:"+k+";position:"+(N?"absolute;":"relative;"),R&&(g.className=R+(B?a+1:"")),F.push(g),u=p.length,l=0;l<u;l++)"BR"!==p[l].nodeName&&(h=p[l],g.appendChild(h),f&&h._wordEnd&&g.appendChild(Es.createTextNode(" ")),N&&(0===l&&(g.style.top=h._y+"px",g.style.left=D+v+"px"),h.style.top="0px",v&&(h.style.left=h._x-v+"px")));0===u?g.innerHTML="&nbsp;":z||I||(Bs(g),Is(g,String.fromCharCode(160)," ")),N&&(g.style.width=y,g.style.height=h._h+"px"),t.appendChild(g)}t.style.cssText=m}N&&(o>t.clientHeight&&(t.style.height=o-x+"px",t.clientHeight<o&&(t.style.height=o+_+"px")),r>t.clientWidth&&(t.style.width=r-C+"px",t.clientWidth<r&&(t.style.width=r+E+"px"))),Ns(i,A),z&&Ns(n,M),Ns(s,F)},Vs=function(t,e,i,n){var s,r,o,a,l,u,h,c,d=e.tag?e.tag:e.span?"span":"div",p=~(e.type||e.split||"chars,words,lines").indexOf("chars"),f=Ps(e),m=e.wordDelimiter||" ",g=" "!==m?"":f?"&#173; ":" ",y="</"+d+">",v=1,b=e.specialChars?"function"==typeof e.specialChars?e.specialChars:Os:null,D=Es.createElement("div"),w=t.parentNode;for(w.insertBefore(D,t),D.textContent=t.nodeValue,w.removeChild(t),h=-1!==(s=function t(e){var i=e.nodeType,n="";if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=t(e)}else if(3===i||4===i)return e.nodeValue;return n}(t=D)).indexOf("<"),!1!==e.reduceWhiteSpace&&(s=s.replace(ks," ").replace(Ts,"")),h&&(s=s.split("<").join("{{LT}}")),l=s.length,r=(" "===s.charAt(0)?g:"")+i(),o=0;o<l;o++)if(u=s.charAt(o),b&&(c=b(s.substr(o),e.specialChars)))u=s.substr(o,c||1),r+=p&&" "!==u?n()+u+"</"+d+">":u,o+=c-1;else if(u===m&&s.charAt(o-1)!==m&&o){for(r+=v?y:"",v=0;s.charAt(o+1)===m;)r+=g,o++;o===l-1?r+=g:")"!==s.charAt(o+1)&&(r+=g+i(),v=1)}else"{"===u&&"{{LT}}"===s.substr(o,6)?(r+=p?n()+"{{LT}}</"+d+">":"{{LT}}",o+=5):u.charCodeAt(0)>=55296&&u.charCodeAt(0)<=56319||s.charCodeAt(o+1)>=65024&&s.charCodeAt(o+1)<=65039?(a=((s.substr(o,12).split(Ds)||[])[1]||"").length||2,r+=p&&" "!==u?n()+s.substr(o,a)+"</"+d+">":s.substr(o,a),o+=a-1):r+=p&&" "!==u?n()+u+"</"+d+">":u;t.outerHTML=r+(v?y:""),h&&Is(w,"{{LT}}","<")},Us=function t(e,i,n,s){var r,o,a=Ss(e.childNodes),l=a.length,u=Ps(i);if(3!==e.nodeType||l>1){for(i.absolute=!1,r=0;r<l;r++)(3!==(o=a[r]).nodeType||/\S+/.test(o.nodeValue))&&(u&&3!==o.nodeType&&"inline"===As(o).display&&(o.style.display="inline-block",o.style.position="relative"),o._isSplit=!0,t(o,i,n,s));return i.absolute=u,void(e._isSplit=!0)}Vs(e,i,n,s)},Ws=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Cs||(Es=document,xs=window,Cs=1),this.elements=Ss(e),this.chars=[],this.words=[],this.lines=[],this._originals=[],this.vars=i||{},this.split(i)}var e,i,n;return e=t,n=[{key:"create",value:function(e,i){return new t(e,i)}}],(i=[{key:"split",value:function(t){this.isSplit&&this.revert(),this.vars=t=t||this.vars,this._originals.length=this.chars.length=this.words.length=this.lines.length=0;for(var e,i,n,s=this.elements.length,r=t.tag?t.tag:t.span?"span":"div",o=zs(t.wordsClass,r),a=zs(t.charsClass,r);--s>-1;)n=this.elements[s],this._originals[s]=n.innerHTML,e=n.clientHeight,i=n.clientWidth,Us(n,t,o,a),qs(n,t,this.chars,this.words,this.lines,i,e);return this.chars.reverse(),this.words.reverse(),this.lines.reverse(),this.isSplit=!0,this}},{key:"revert",value:function(){var t=this._originals;if(!t)throw"revert() call wasn't scoped properly.";return this.elements.forEach((function(e,i){return e.innerHTML=t[i]})),this.chars=[],this.words=[],this.lines=[],this.isSplit=!1,this}}])&&ws(e.prototype,i),n&&ws(e,n),t}();function Hs(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var i=[],n=!0,s=!1,r=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done)&&(i.push(o.value),!e||i.length!==e);n=!0);}catch(t){s=!0,r=t}finally{try{n||null==a.return||a.return()}finally{if(s)throw r}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Xs(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Xs(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xs(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function Ys(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Ws.version="3.4.2";var Gs=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Ys(this,t),this.els=e.els||s("[data-split]"),this.splits=[],this.splitContent(),this.fixRT()}var e,i,n;return e=t,(i=[{key:"splitContent",value:function(){var t=this;0!==this.els.length&&this.els.forEach((function(e){var i=e.dataset.split.split(","),n={};n.el=e,i.forEach((function(t,i){switch(t.trim()){case"lines":n[i]=new Ws(e,{type:"lines",linesClass:"line-".concat(i)});break;case"words":n[i]=new Ws(e,{type:"words",wordsClass:"word-".concat(i)});break;case"chars":n[i]=new Ws(e,{type:"chars",charsClass:"char-".concat(i)})}})),t.splits.push(n)}))}},{key:"fixRT",value:function(){this.splits.forEach((function(t){var e=t[0].words,i=t[0].lines,n=e.length>0,s=i.length>0,r="H1"==t.el.tagName||"H2"==t.el.tagName;n&&e.forEach((function(t){var e=t.outerHTML,i=t.innerHTML,n=-1!==i.indexOf("rt"),s=-1!==i.indexOf("rf"),o=n?"rt":!!s&&"rf";if(o&&r){var a=m(e,o);t.replaceWith(a)}})),s&&r&&i.forEach((function(t){var e=t.outerHTML,i=t.innerHTML,n=-1!==i.indexOf("rt"),s=-1!==i.indexOf("rf"),r=n?"rt":!!s&&"rf";if(r){var o=m(e,r);t.replaceWith(o)}}))}))}},{key:"reverseContent",value:function(t){var e=[];this.splits.forEach((function(i){if(i.el===t)for(var n=0,s=Object.entries(i);n<s.length;n++){var r=Hs(s[n],2),o=r[0],a=r[1];"el"!==o&&e.push(a)}})),e.reverse().forEach((function(t){t.revert()}))}},{key:"init",value:function(){}}])&&$s(e.prototype,i),n&&$s(e,n),t}();function Ks(t){return(Ks="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zs(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Js(t,e){return(Js=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function tr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=nr(t);if(e){var s=nr(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return er(this,i)}}function er(t,e){return!e||"object"!==Ks(e)&&"function"!=typeof e?ir(t):e}function ir(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nr(t){return(nr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var sr,rr,or,ar,lr,ur=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Js(t,e)}(u,t);var e,i,o,l=tr(u);function u(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Qs(this,u),t=l.call(this,e),b.body.classList.remove("is-fixed"),a(ir(t),"run","openMenu","closeMenu","onResize"),t.state={sticky:!1},t}return e=u,(i=[{key:"onEnter",value:function(){b.page=this.wrap.lastElementChild,b.header=n("header",b.page)}},{key:"onEnterCompleted",value:function(){b.splits=new Gs,this.els(),this.on(),this.updateMenu(),this.smooth()}},{key:"els",value:function(){var t=this;this.italicTitles=[],this.menu=n(".open-menu"),this.imgs=r(document.images),this.isWritings=n(".is-writings")||n(".is-post"),this.goodStuff=s(".good-stuff svg"),this.move=s("[data-move]"),this.headerScroll=n(".header-scroll"),this.lazy=b.sniff.isDevice?s(".-mobile .lazy"):s(".-desktop .lazy"),this.copyemail=s(".copybutton"),0!==this.move&&this.move.forEach((function(e){var i={};i.el=e,i.bounds=h(e),t.italicTitles.push(i)}))}},{key:"on",value:function(){var t=this;M.on("tick",this.run),M.on("GlobalResize",this.onResize),setTimeout((function(){b.flags.locked=!1}),600),0!==this.copyemail.length&&this.copyemail.forEach((function(e){e.addEventListener("click",t.copyToClipboard)}))}},{key:"off",value:function(){var t=this;M.off("tick",this.run),M.off("GlobalResize",this.onResize),0!==this.copyemail.length&&this.copyemail.forEach((function(e){e.removeEventListener("click",t.copyToClipboard)}))}},{key:"run",value:function(t){var e=t.diff,i=t.current;this.direction=e>0?"down":"up";var n,s,r,o=(n=.06*i,s=0,r=b.bounds.scroll,Math.min(Math.max(n,s),r));this.goodStuff.forEach((function(t){t&&(t.style.transform="rotate(".concat(-o,"deg)"))})),this.current=i,this.diff=e,this.stickyHeader(),this.moveX()}},{key:"moveX",value:function(){var t=this;b.sniff.isDevice||this.italicTitles.forEach((function(e,i){var n=e.el,s=e.bounds,r=t.isVisible(s),o=n.dataset.move,a=f(.001*(s.top-t.current),0,100),l="left"==o?-1*a:a;r&&n&&(n.style.transform="translateX(".concat(l,"px)"))}))}},{key:"isVisible",value:function(t){var e=t.top,i=t.bottom,n=this.current,s=e-1.2*b.vh,r=i+b.vh/1.2,o=n>s&&n<r;return o}},{key:"stickyHeader",value:function(){"up"===this.direction&&this.current>1.5*b.vh?(this.state.sticky||zi.to(this.headerScroll,{duration:.8,y:"0",autoAlpha:1}),this.state.sticky=!0):(this.state.sticky&&zi.to(this.headerScroll,{duration:.8,y:"-101%",autoAlpha:0}),this.state.sticky=!1)}},{key:"updateMenu",value:function(){this.isWritings?(b.header.classList.add("-dark"),b.header.classList.remove("-light"),n(".single")&&(this.headerScroll.classList.add("-dark"),this.headerScroll.classList.remove("-light"))):(b.header.classList.add("-light"),b.header.classList.remove("-dark"),this.headerScroll.classList.add("-light"),this.headerScroll.classList.remove("-dark"))}},{key:"openMenu",value:function(){b.body.classList.add("is-fixed"),this.tl=zi.timeline({paused:!0}),this.tl.play()}},{key:"closeMenu",value:function(){b.body.classList.remove("is-fixed"),this.tl=zi.timeline({paused:!0}),this.tl.play()}},{key:"smooth",value:function(){var t=s("[data-smooth-item]",b.page),e=s("[data-element]",b.page),i=s("[data-section]",b.page);gs.init(t),b.scroll.setScrollBounds(),this.elementAnimation=new bs({el:e}),this.sectionAnimation=new bs({el:i}),this.updateContent()}},{key:"updateContent",value:function(){var t=this;setTimeout((function(){gs.update(),t.elementAnimation.update(),t.sectionAnimation.update()}),100)}},{key:"copyToClipboard",value:function(t){var e=t.target,i=e.previousElementSibling,s=e.parentNode,r=n(".clipboard",s);if(window.clipboardData&&window.clipboardData.setData)return zi.to(r,{duration:.5,autoAlpha:1}),zi.to(r,{duration:.5,autoAlpha:0,delay:1}),window.clipboardData.setData("Text",i.value);if(document.queryCommandSupported&&document.queryCommandSupported("copy")){var o=document.createElement("textarea");o.textContent=i.value,o.style.position="fixed",document.body.appendChild(o),o.select(),zi.to(r,{duration:.5,autoAlpha:1}),zi.to(r,{duration:.5,autoAlpha:0,delay:1});try{return document.execCommand("copy")}catch(t){return console.warn("Copy to clipboard failed.",t),!1}finally{document.body.removeChild(o)}}}},{key:"onResize",value:function(){this.sectionAnimation.update(),this.elementAnimation.update()}},{key:"onLeave",value:function(){gs.off(),this.off(),b.flags.locked=!0,this.sectionAnimation.destroy(),this.elementAnimation.destroy()}},{key:"onLeaveCompleted",value:function(){}}])&&Zs(e.prototype,i),o&&Zs(e,o),u}(k.Renderer),hr=function(){return"undefined"!=typeof window},cr=function(){return sr||hr()&&(sr=window.gsap)&&sr.registerPlugin&&sr},dr=/[-+=\.]*\d+[\.e\-\+]*\d*[e\-\+]*\d*/gi,pr={rect:["width","height"],circle:["r","r"],ellipse:["rx","ry"],line:["x2","y2"]},fr=function(t){return Math.round(1e4*t)/1e4},mr=function(t){return parseFloat(t||0)},gr=function(t,e){return mr(t.getAttribute(e))},yr=Math.sqrt,vr=function(t,e,i,n,s,r){return yr(Math.pow((mr(i)-mr(t))*s,2)+Math.pow((mr(n)-mr(e))*r,2))},br=function(t){return console.warn(t)},Dr=function(t){return"non-scaling-stroke"===t.getAttribute("vector-effect")},wr=function(t){if(!(t=rr(t)[0]))return 0;var e,i,n,s,r,o,a,l=t.tagName.toLowerCase(),u=t.style,h=1,c=1;Dr(t)&&(c=t.getScreenCTM(),h=yr(c.a*c.a+c.b*c.b),c=yr(c.d*c.d+c.c*c.c));try{i=t.getBBox()}catch(t){br("Some browsers won't measure invisible elements (like display:none or masks inside defs).")}var d=i||{x:0,y:0,width:0,height:0},p=d.x,f=d.y,m=d.width,g=d.height;if(i&&(m||g)||!pr[l]||(m=gr(t,pr[l][0]),g=gr(t,pr[l][1]),"rect"!==l&&"line"!==l&&(m*=2,g*=2),"line"===l&&(p=gr(t,"x1"),f=gr(t,"y1"),m=Math.abs(m-p),g=Math.abs(g-f))),"path"===l)s=u.strokeDasharray,u.strokeDasharray="none",e=t.getTotalLength()||0,h!==c&&br("Warning: <path> length cannot be measured when vector-effect is non-scaling-stroke and the element isn't proportionally scaled."),e*=(h+c)/2,u.strokeDasharray=s;else if("rect"===l)e=2*m*h+2*g*c;else if("line"===l)e=vr(p,f,p+m,f+g,h,c);else if("polyline"===l||"polygon"===l)for(n=t.getAttribute("points").match(dr)||[],"polygon"===l&&n.push(n[0],n[1]),e=0,r=2;r<n.length;r+=2)e+=vr(n[r-2],n[r-1],n[r],n[r+1],h,c)||0;else"circle"!==l&&"ellipse"!==l||(o=m/2*h,a=g/2*c,e=Math.PI*(3*(o+a)-yr((3*o+a)*(o+3*a))));return e||0},_r=function(t,e){if(!(t=rr(t)[0]))return[0,0];e||(e=wr(t)+1);var i=or.getComputedStyle(t),n=i.strokeDasharray||"",s=mr(i.strokeDashoffset),r=n.indexOf(",");return r<0&&(r=n.indexOf(" ")),(n=r<0?e:mr(n.substr(0,r))||1e-5)>e&&(n=e),[Math.max(0,-s),Math.max(0,n-s)]},Er=function(){hr()&&(document,or=window,lr=sr=cr(),rr=sr.utils.toArray,ar=-1!==((or.navigator||{}).userAgent||"").indexOf("Edge"))},xr={version:"3.4.2",name:"drawSVG",register:function(t){sr=t,Er()},init:function(t,e,i,n,s){if(!t.getBBox)return!1;lr||Er();var r,o,a,l,u=wr(t)+1;return this._style=t.style,this._target=t,e+""=="true"?e="0 100%":e?-1===(e+"").indexOf(" ")&&(e="0 "+e):e="0 0",o=function(t,e,i){var n,s,r=t.indexOf(" ");return r<0?(n=void 0!==i?i+"":t,s=t):(n=t.substr(0,r),s=t.substr(r+1)),(n=~n.indexOf("%")?mr(n)/100*e:mr(n))>(s=~s.indexOf("%")?mr(s)/100*e:mr(s))?[s,n]:[n,s]}(e,u,(r=_r(t,u))[0]),this._length=fr(u+10),0===r[0]&&0===o[0]?(a=Math.max(1e-5,o[1]-u),this._dash=fr(u+a),this._offset=fr(u-r[1]+a),this._offsetPT=this.add(this,"_offset",this._offset,fr(u-o[1]+a))):(this._dash=fr(r[1]-r[0])||1e-6,this._offset=fr(-r[0]),this._dashPT=this.add(this,"_dash",this._dash,fr(o[1]-o[0])||1e-5),this._offsetPT=this.add(this,"_offset",this._offset,fr(-o[0]))),ar&&(l=or.getComputedStyle(t)).strokeLinecap!==l.strokeLinejoin&&(o=mr(l.strokeMiterlimit),this.add(t.style,"strokeMiterlimit",o,o+.01)),this._live=Dr(t)||~(e+"").indexOf("live"),this._props.push("drawSVG"),1},render:function(t,e){var i,n,s,r,o=e._pt,a=e._style;if(o){for(e._live&&(i=wr(e._target)+11)!==e._length&&(n=i/e._length,e._length=i,e._offsetPT.s*=n,e._offsetPT.c*=n,e._dashPT?(e._dashPT.s*=n,e._dashPT.c*=n):e._dash*=n);o;)o.r(t,o.d),o=o._next;s=e._dash,r=e._offset,i=e._length,a.strokeDashoffset=e._offset,1!==t&&t?a.strokeDasharray=s+"px,"+i+"px":(s-r<.001&&i-s<=10&&(a.strokeDashoffset=r+1),a.strokeDasharray=r<.001&&i-s<=10?"none":r===s?"0px, 999999px":s+"px,"+i+"px")}},getLength:wr,getPosition:_r};cr()&&sr.registerPlugin(xr),Zn.registerPlugin(xr);var Cr=function(){n(".page")||n(".single");var t=Zn.timeline({paused:!0});return Zn.set("header",{autoAlpha:1}),t.from(".logo",{duration:.5,autoAlpha:0,delay:1}),t.from("header .menu-link",{duration:.8,x:10,autoAlpha:0,stagger:.1}),t};function Tr(t){return(Tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ar(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Mr(t,e){return(Mr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Fr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=Pr(t);if(e){var s=Pr(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return Sr(this,i)}}function Sr(t,e){return!e||"object"!==Tr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Pr(t){return(Pr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Or=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Mr(t,e)}(o,t);var e,i,s,r=Fr(o);function o(){return kr(this,o),r.apply(this,arguments)}return e=o,(i=[{key:"in",value:function(t){var e=t.from,i=t.to,s=t.done,r=Zn.timeline({paused:!0}),o=n("main");window.scrollTo(0,0),e.remove(),s(),i.classList.value.indexOf("is-writings"),r.fromTo(o,{autoAlpha:0},{duration:2,autoAlpha:1,ease:"power3.inOut"}),r.play()}},{key:"out",value:function(t){var e=t.from,i=t.done,s=Zn.timeline({paused:!0,onComplete:function(){return i()}}),r=n("main");-1!==e.classList.value.indexOf("is-writings")&&Zn.to(b.header,{duration:.5,autoAlpha:0}),s.fromTo(r,{autoAlpha:1},{duration:1,autoAlpha:0,ease:"power3.inOut",onComplete:function(){b.raf.setScroll(0)}}),s.play()}}])&&Ar(e.prototype,i),s&&Ar(e,s),o}(k.Transition);function Lr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zr(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Ir=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Lr(this,t),a(this,"onMouseMove","onMouseDown","onMouseUp","onResize","toPage","run"),this.options={container:e.container||window,element:e.element,links:e.links,easing:e.easing||.1,dragSpeed:e.dragSpeed||1,duration:e.duration||750},this.isMouseDown=!1,this.isTranslating=!1,this.currentPosition=0,this.startPosition=0,this.endPosition=0,this.translation=0,this.animationFrame=null,this.hasClick=!0,this.setupSlider()}var e,i,n;return e=t,(i=[{key:"lerp",value:function(t,e,i){return(1-(i=(i=i<0?0:i)>1?1:i))*t+i*e}},{key:"getMousePosition",value:function(t){return t.targetTouches?t.targetTouches[0]?[t.targetTouches[0].clientX,t.targetTouches[0].clientY]:t.changedTouches[0]?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[t.clientX,t.clientY]:[t.clientX,t.clientY]}},{key:"setBoundaries",value:function(){var t=b.vw,e=(b.vh,h(this.options.element));this.boundaries={max:-1*e.width+t,min:0,sliderSize:e.width,referentSize:t},this.direction=0}},{key:"onDragStarted",value:function(t){}},{key:"onDrag",value:function(t){}},{key:"onDragEnded",value:function(t){this.isDragging=!1,this.options.links.forEach((function(t){t.style.pointerEvents=""}))}},{key:"onTranslation",value:function(){this.isDragging&&this.options.links.forEach((function(t){t.style.pointerEvents="none"}))}},{key:"onTranslationEnded",value:function(){}},{key:"onSliderResized",value:function(){}},{key:"translateSlider",value:function(t){t=Math.floor(100*t)/100;var e=0===this.direction?"translateX":"translateY";this.options.element.style.transform=e+"("+t+"px)",this.translation!==t?this.onTranslation():this.isTranslating&&!this.isMouseDown&&(this.isTranslating=!1,this.onTranslationEnded()),this.translation=t}},{key:"run",value:function(t){this.mouse=t.mouse,this.isDragging&&!this.isMouseDown&&(this.hasClick=!1),this.hasClick=!0;var e=this.lerp(this.translation,this.currentPosition,this.options.easing);this.translateSlider(e)}},{key:"toPage",value:function(t){if(!this.hasClick)return t.preventDefault(),void t.stopPropagation();var e=t.target.dataset.url;e&&b.H.redirect(e,void 0)}},{key:"onMouseDown",value:function(t){this.isMouseDown=!0,this.options.element.classList.add("dragged");var e=[this.mouse.x,this.mouse.y];this.startPosition=e[this.direction],this.onDragStarted(e)}},{key:"onMouseMove",value:function(t){if(this.isMouseDown){var e=[this.mouse.x,this.mouse.y];this.currentPosition=this.endPosition+(e[this.direction]-this.startPosition)*this.options.dragSpeed,this.currentPosition>this.boundaries.min&&this.currentPosition<this.boundaries.max?this.isTranslating=!0:(this.currentPosition=Math.min(this.currentPosition,this.boundaries.min),this.currentPosition=Math.max(this.currentPosition,this.boundaries.max),this.isDragging=!0),this.onDrag(e)}}},{key:"onMouseUp",value:function(t){this.isMouseDown=!1,this.options.element.classList.remove("dragged"),this.endPosition=this.currentPosition;var e=[this.mouse.x,this.mouse.y];this.onDragEnded(e)}},{key:"onResize",value:function(t){var e=this.translation/this.boundaries.sliderSize;this.setBoundaries(),this.options.element.style.transform="tanslate3d(0, 0, 0)";var i=e*this.boundaries.sliderSize;i=Math.min(i,this.boundaries.min),i=Math.max(i,this.boundaries.max),this.translateSlider(i),this.currentPosition=i,this.endPosition=i,this.onSliderResized()}},{key:"setupSlider",value:function(){this.setBoundaries(),this.options.container.addEventListener("mousedown",this.onMouseDown),this.options.container.addEventListener("mousemove",this.onMouseMove,{passive:!0}),this.options.container.addEventListener("touchstart",this.onMouseDown,{passive:!0}),this.options.container.addEventListener("touchmove",this.onMouseMove,{passive:!0}),this.options.container.addEventListener("mouseup",this.onMouseUp),this.options.container.addEventListener("touchend",this.onMouseUp),this.options.container.addEventListener("click",this.toPage),M.on("GlobalResize",this.onResize),M.on("tick",this.run)}},{key:"destroySlider",value:function(){window.removeEventListener("mousemove",this.onMouseMove,{passive:!0}),window.removeEventListener("mousedown",this.onMouseDown),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("touchmove",this.onMouseMove,{passive:!0}),window.removeEventListener("touchstart",this.onMouseDown,{passive:!0}),window.removeEventListener("touchend",this.onMouseUp),window.removeEventListener("resize",this.onResize),M.off("tick",this.run)}},{key:"destroy",value:function(){this.destroySlider()}}])&&zr(e.prototype,i),n&&zr(e,n),t}();function Nr(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Rr=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.el=document.querySelector("[data-cursor]"),a(this,"run","on","off"),this.data={mouse:{x:0,y:0},current:{x:0,y:0},last:{x:0,y:0},ease:.12,dist:140,rotate:0,fx:{diff:0,acc:0,velo:0,scale:0}},this.state={on:!1},this.init()}var e,i,n;return e=t,(i=[{key:"mousePos",value:function(t){this.data.mouse.x=t.x,this.data.mouse.y=t.y,this.data.current.x=t.x,this.data.current.y=t.y}},{key:"getCache",value:function(){this.projects=s("[data-project]")}},{key:"run",value:function(t){this.mousePos(t.mouse),this.data.last.x=f(this.data.last.x,this.data.current.x,this.data.ease),this.data.last.y=f(this.data.last.y,this.data.current.y,this.data.ease),this.data.fx.diff=this.data.current.x-this.data.last.x,this.data.fx.acc=this.data.fx.diff/window.innerWidth,this.data.fx.velo=+this.data.fx.acc,this.data.fx.scale=1+Math.abs(2.5*this.data.fx.velo),this.data.rotate+=.5,this.el.style.transform="translate3d(".concat(this.data.last.x-60,"px, ").concat(this.data.last.y-60,"px, 0) scale(").concat(this.data.fx.scale,") rotate(").concat(this.data.rotate,"deg)")}},{key:"on",value:function(){Zn.to(this.el,{duration:.5,autoAlpha:1})}},{key:"off",value:function(){Zn.to(this.el,{duration:.5,autoAlpha:0})}},{key:"addListeners",value:function(){var t=this;M.on("tick",this.run),this.projects.forEach((function(e){return e.addEventListener("mouseenter",t.on)})),this.projects.forEach((function(e){return e.addEventListener("mouseleave",t.off)}))}},{key:"removeListeners",value:function(){var t=this;M.off("tick",this.run),this.projects.forEach((function(e){return e.removeEventListener("mouseenter",t.on)})),this.projects.forEach((function(e){return e.removeEventListener("mouseleave",t.off)}))}},{key:"destroy",value:function(){this.removeListeners(),this.data=null}},{key:"init",value:function(){this.getCache(),this.addListeners()}}])&&Nr(e.prototype,i),n&&Nr(e,n),t}();function Br(t){return(Br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qr(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Vr(t,e,i){return(Vr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Yr(t)););return t}(t,e);if(n){var s=Object.getOwnPropertyDescriptor(n,e);return s.get?s.get.call(i):s.value}})(t,e,i||t)}function Ur(t,e){return(Ur=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Wr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=Yr(t);if(e){var s=Yr(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return Hr(this,i)}}function Hr(t,e){return!e||"object"!==Br(e)&&"function"!=typeof e?Xr(t):e}function Xr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yr(t){return(Yr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Zn.registerPlugin(xr);var $r=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ur(t,e)}(l,t);var e,i,r,o=Wr(l);function l(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return jr(this,l),(t=o.call(this,e)).slug="page",a(Xr(t),"onIn","onOut"),t}return e=l,(i=[{key:"onEnter",value:function(){Vr(Yr(l.prototype),"onEnter",this).call(this)}},{key:"onEnterCompleted",value:function(){Vr(Yr(l.prototype),"onEnterCompleted",this).call(this),this.addElements(),this.addEvents(),this.addPlanes(),this.animateIn(),this.addGslider(),this.addCursor()}},{key:"addElements",value:function(){var t,e,i,r,o,a,l;this.dom={},this.dom.isHome=n(".is-home"),this.dom.isAbout=n(".is-about"),this.dom.isArchive=n(".is-archive"),this.dom.isWritings=n(".is-writings"),this.dom.feedPost=s(".feed-post"),this.dom.is404=n(".is-404"),this.dom.projectStrokes=s(".feed .stroke"),this.headerIn=Cr(),this.dom.isHome&&(this.homeIn=(t=Zn.timeline({paused:!0,onComplete:function(){M.emit("animation-in")}}),e=n(".page"),i=n(".hero"),r=s(".line",i),o=s(".hero-explore .stroke",i),a=s(".hero-observe .stroke",i),l=s(".hero-create .stroke",i),Zn.set(b.body,{autoAlpha:1}),t.to(e,{duration:.5,autoAlpha:1}),t.from(a,{duration:1.5,drawSVG:"50% 50%",ease:"power2.inOut"}),t.from(o,{duration:1.5,drawSVG:"50% 50%",ease:"power2.inOut"},"-=1.2"),t.from(l,{duration:1.5,drawSVG:"0%",ease:"power2.inOut"},"-=1"),r.forEach((function(e,i){var n=s(".word-0",e);n.forEach((function(t){return t.setAttribute("aria-hidden","true")})),t.from(n,{duration:2.4,y:"-110%",rotateX:"30deg",transformOrigin:"bottom",autoAlpha:0,ease:"power4.inOut"},"-=2.3")})),t)),this.dom.isAbout&&(this.aboutIn=function(){var t=n(".page"),e=n(".hero"),i=s(".word-0",e),r=n(".hero-info .p2"),o=s(".hero-info .line-0"),a=s(".hero-info .social-item"),l=[i[0],i[1],i[2],i[3]],u=[i[4],i[5]],h=[i[6],i[7],i[8],i[9]],c=[i[10],i[11],i[12],i[13]],d=[i[14],i[15],i[16],i[17],i[18]],p=[i[19],i[20],i[21]],f=[i[22],i[23]],m=Zn.timeline({paused:!0,onComplete:function(){M.emit("animation-in"),b.splits.reverseContent(r)}});return Zn.set(b.body,{autoAlpha:1}),m.to(t,{duration:.5,autoAlpha:1}),m.from(l,{duration:2.8,x:100,autoAlpha:0,ease:"power4.inOut"},"-=0.5"),m.from(u,{duration:2.8,x:-100,autoAlpha:0,ease:"power4.inOut"},"-=2.73"),m.from(h,{duration:2.8,x:-150,autoAlpha:0,ease:"power4.inOut"},"-=2.75"),m.from(c,{duration:2.8,x:200,autoAlpha:0,ease:"power4.inOut"},"-=2.82"),m.from(d,{duration:2.8,x:200,autoAlpha:0,ease:"power4.inOut"},"-=2.80"),m.from(p,{duration:2.8,x:200,autoAlpha:0,ease:"power4.inOut"},"-=2.78"),m.from(f,{duration:2.8,x:200,autoAlpha:0,ease:"power4.inOut"},"-=2.76"),m.from(o,{duration:.8,y:40,autoAlpha:0,ease:"power2.out",stagger:.05},"-=1.2"),m.from(a,{duration:.8,y:60,autoAlpha:0,ease:"power2.out",stagger:.1},"-=1"),m}()),this.dom.isArchive&&(this.archiveIn=function(){var t=Zn.timeline({paused:!0,onComplete:function(){M.emit("animation-in")}}),e=n(".page"),i=n(".hero"),r=s(".char-1",i),o=s(".stroke",i),a=s(".archive-title .stroke"),l=s(".gallery-col");return Zn.set(b.body,{autoAlpha:1}),t.to(e,{duration:.5,autoAlpha:1}),t.from(o,{duration:1.5,drawSVG:"50% 50%",ease:"power2.inOut"},"-=0.1"),t.from(a,{duration:1.5,drawSVG:"50% 50%",ease:"power2.inOut"},"-=1.2"),t.from(r,{duration:1.8,y:"-110%",rotateX:"50deg",transformOrigin:"bottom",autoAlpha:0,stagger:.035,ease:"power4.inOut"},"-=1.5"),l.forEach((function(e,i){var s=n(".archive-item",e);n("img",s),Zn.set(s,{perspective:"1000px"}),i++,t.from(s,{duration:1.4,y:"50%",autoAlpha:0,ease:"power3.out",delay:.1*i},"-=1.6")})),t}()),this.dom.isWritings&&(this.writingsIn=function(){var t=n(".page"),e=n(".hero"),i=s(".line-0",e),r=n(".hero-excerpt",e),o=s(".line-0",r),a=n(".line",b.header),l=n(".good-stuff",e),u=n(".feed-post"),h=n(".post-title",u),c=n(".t6",h),d=Zn.timeline({paused:!0,onComplete:function(){M.emit("animation-in"),b.splits.reverseContent(r),b.splits.reverseContent(c)}});return Zn.set(b.body,{autoAlpha:1}),d.to(t,{duration:.5,autoAlpha:1}),d.from(".hero-bg",{duration:1.4,scaleY:0,transformOrigin:"top",ease:"power4.inOut"}),d.fromTo(a,{scaleX:0},{duration:.8,scaleX:1,ease:"power3.inOut"},"-=0.5"),d.from(".hero-data",{duration:.8,x:10,autoAlpha:0},"-=0.5"),d.from(".hero-img",{duration:.8,autoAlpha:0},"-=0.5"),i.forEach((function(t,e){var i=s(".word-1",t);i.forEach((function(t){return t.setAttribute("aria-hidden","true")})),0!==i.length&&d.from(i,{duration:1.8,y:"-110%",rotateX:"30deg",transformOrigin:"bottom",autoAlpha:0,ease:"power4.inOut"},"-=1.7")})),d.from(o,{duration:.8,y:40,autoAlpha:0,ease:"power2.out",stagger:.08},"-=1"),d.to(".img-mask",{duration:1.2,scaleY:0,transformOrigin:"top",ease:"power4.inOut"},"-=1.3"),d.from(l,{duration:.8,rotate:40,autoAlpha:0},"-=1"),d}()),this.dom.is404&&(this.errorIn=function(){var t=Zn.timeline({paused:!0,onComplete:function(){M.emit("animation-in")}}),e=n(".page");return Zn.set(b.body,{autoAlpha:1}),Zn.set("footer",{autoAlpha:0}),Zn.set("header",{autoAlpha:0}),t.to(e,{duration:.5,autoAlpha:1}),t}())}},{key:"addEvents",value:function(){var t=this;this.lazy.forEach((function(t){t.addEventListener("lazyloaded",(function(){M.emit("LazyLoaded")}))})),0!==this.dom.feedPost.length&&this.dom.feedPost.forEach((function(e){e.addEventListener("mouseenter",t.onIn)})),0!==this.dom.feedPost.length&&this.dom.feedPost.forEach((function(e){e.addEventListener("mouseleave",t.onOut)})),0!==this.dom.projectStrokes.length&&Zn.set(this.dom.projectStrokes,{drawSVG:"50% 50%"})}},{key:"removeEvents",value:function(){var t=this;this.lazy.forEach((function(t){t.removeEventListener("lazyloaded",(function(){M.emit("LazyLoaded")}))})),0!==this.dom.feedPost.length&&this.dom.feedPost.forEach((function(e){e.removeEventListener("mouseenter",t.onIn)})),0!==this.dom.feedPost.length&&this.dom.feedPost.forEach((function(e){e.removeEventListener("mouseleave",t.onOut)}))}},{key:"animateIn",value:function(){this.headerIn.play(),this.dom.isHome&&this.homeIn.play(),this.dom.isAbout&&this.aboutIn.play(),this.dom.isArchive&&this.archiveIn.play(),this.dom.isWritings&&this.writingsIn.play(),this.dom.is404&&this.errorIn.play(),b.flags.header=!0}},{key:"addPlanes",value:function(){this.dom.isHome&&(b.ogl&&b.ogl.getPlanes(),b.ogl&&b.ogl.showPlanes(),setTimeout((function(){M.emit("GlobalResize")}),500)),this.dom.isAbout&&(b.ogl&&b.ogl.getPlanes(),setTimeout((function(){b.ogl&&b.ogl.showPlanes()}),1200))}},{key:"addGslider",value:function(){if(this.dom.isHome){var t=n("[data-gslider]"),e=n(".writings"),i={container:e,element:t,links:s("[data-url]",e),easing:.075,duration:100,dragSpeed:1.75};this.slider=new Ir(i)}}},{key:"addCursor",value:function(){this.dom.isHome&&(this.cursor=new Rr)}},{key:"onIn",value:function(t){var e=t.target,i=s(".stroke",e);Zn.to(i,{duration:1,drawSVG:"0% 100%",ease:"power2.inOut"})}},{key:"onOut",value:function(t){var e=t.target,i=s(".stroke",e);Zn.to(i,{duration:1,drawSVG:"50% 50%",ease:"power2.inOut"})}},{key:"onLeave",value:function(){Vr(Yr(l.prototype),"onLeave",this).call(this),this.removeEvents(),b.ogl&&b.ogl.hidePlanes(),this.slider&&this.slider.destroy(),this.cursor&&this.cursor.destroy(),this.dom.isHome&&(this.homeIn=null),this.dom.isAbout&&(this.aboutIn=null),this.dom.isArchive&&(this.archiveIn=null),this.dom.isWritings&&(this.writingsIn=null),this.dom.is404&&(this.errorIn=null),this.dom=null}},{key:"onLeaveCompleted",value:function(){b.ogl&&b.ogl.destroy()}}])&&qr(e.prototype,i),r&&qr(e,r),l}(ur),Gr=i(5),Kr=i.n(Gr);function Qr(t){return(Qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jr(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function to(t,e,i){return(to="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ro(t)););return t}(t,e);if(n){var s=Object.getOwnPropertyDescriptor(n,e);return s.get?s.get.call(i):s.value}})(t,e,i||t)}function eo(t,e){return(eo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function io(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=ro(t);if(e){var s=ro(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return no(this,i)}}function no(t,e){return!e||"object"!==Qr(e)&&"function"!=typeof e?so(t):e}function so(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ro(t){return(ro=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Zn.registerPlugin(xr);var oo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&eo(t,e)}(l,t);var e,i,r,o=io(l);function l(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Zr(this,l),a(so(t=o.call(this,e)),"onIn","onOut"),t.slug="single",t}return e=l,(i=[{key:"onEnter",value:function(){to(ro(l.prototype),"onEnter",this).call(this)}},{key:"onEnterCompleted",value:function(){to(ro(l.prototype),"onEnterCompleted",this).call(this),this.addElements(),this.addEvents(),this.animateIn(),this.addPlayer()}},{key:"addElements",value:function(){var t,e,i,r,o,a,l,u,h,c,d,p,f;this.nextProject=n(".pagination-link"),this.nextProject&&(this.prokectStrokes=s(".stroke",this.nextProject),Zn.set(this.prokectStrokes,{drawSVG:"50% 50%"})),this.headerIn=Cr(),this.singleIn=(t=n(".single"),e=n(".hero"),i=s(".char-1",e),r=i.length,o=n(".hero-categories .line-0"),a=n(".hero-featured-image"),l=s(".hero-share .p4"),u=l.length,h=s(".word-1",e).length,c=n(".hero-category span"),d=s(".line-0",e),p=r?"1.8":"1.2",f=Zn.timeline({paused:!0,onComplete:function(){0!==l.length&&Zn.set(".hero-share",{overflow:"visible"}),M.emit("animation-in")}}),Zn.set(b.body,{autoAlpha:1}),f.to(t,{duration:.5,autoAlpha:1}),c&&f.from(c,{duration:.8,y:"-101%",ease:"power3.inOut"}),0!==h&&d.forEach((function(t,e){var i=s(".word-1",t);i.forEach((function(t){return t.setAttribute("aria-hidden","true")})),f.from(i,{duration:1.8,y:"-110%",rotateX:"50deg",transformOrigin:"bottom",autoAlpha:0,ease:"power4.inOut"},"-=1.7")})),0!==u&&f.from(l,{duration:1.2,autoAlpha:0,y:"-101%",ease:"power3.inOut"},"-=1.4"),0!==r&&f.from(i,{duration:2.2,y:"-110%",rotateX:"50deg",transformOrigin:"bottom",autoAlpha:0,stagger:.035,ease:"power4.inOut"}),o&&f.from(o,{duration:1.2,y:"101%",ease:"power3.inOut"},"-=1.4"),a&&f.from(a,{duration:1,autoAlpha:0,ease:"power3.inOut"},"-=".concat(p)),f),this.lazy=s(".lazy"),this.player=s(".player")}},{key:"addEvents",value:function(){this.lazy.forEach((function(t){t.addEventListener("lazyloaded",(function(){gs&&gs.update()}))})),this.nextProject&&this.nextProject.addEventListener("mouseenter",this.onIn),this.nextProject&&this.nextProject.addEventListener("mouseleave",this.onOut)}},{key:"removeEvents",value:function(){this.lazy.forEach((function(t){t.removeEventListener("lazyloaded",(function(){gs&&gs.update()}))})),this.nextProject&&this.nextProject.removeEventListener("mouseenter",this.onIn),this.nextProject&&this.nextProject.removeEventListener("mouseleave",this.onOut)}},{key:"animateIn",value:function(){this.headerIn.play(),this.singleIn.play()}},{key:"addPlanes",value:function(){}},{key:"addPlayer",value:function(){var t=this;0!==this.player.length&&(this.videos=[],this.player.forEach((function(e){var i=e.dataset.controls,n="true"!==i,s="true"===i?["play-large","play","progress","current-time","duration"]:[],r=new Kr.a(e,{controls:s,autoplay:n,playsinline:!0,fullscreen:{enabled:!1},loop:{active:n}});r.on("ready",(function(){r.muted=n,r.embed.setAutopause(!1)})),t.videos.push(r)})))}},{key:"removePlayer",value:function(){0!==this.player.length&&this.videos.forEach((function(t){t.destroy()}))}},{key:"onIn",value:function(){Zn.to(this.prokectStrokes,{duration:1,drawSVG:"0% 100%",ease:"power2.inOut"})}},{key:"onOut",value:function(){Zn.to(this.prokectStrokes,{duration:1,drawSVG:"50% 50%",ease:"power2.inOut"})}},{key:"onLeave",value:function(){to(ro(l.prototype),"onLeave",this).call(this),this.removeEvents()}},{key:"onLeaveCompleted",value:function(){this.removePlayer()}}])&&Jr(e.prototype,i),r&&Jr(e,r),l}(ur);function ao(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var lo=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,"nav","end","openHash","openMenu","closeMenu"),this.state={open:!1,animating:!1,top:0},this.init()}var e,i,r;return e=t,(i=[{key:"addHighway",value:function(){b.H=new k.Core({renderers:{page:$r,single:oo},transitions:{default:Or},contextual:{fade:Or}})}},{key:"els",value:function(){var t=n(".projects .-style1");this.links=s(".menu-link"),this.flinks=s(".footer-link"),this.open=s(".open-menu"),this.close=n(".close-menu"),this.menu=n(".mobile-menu"),this.mobileLinks=s(".mobile-menu  .menu-link"),t&&(this.state.top=h(t).top)}},{key:"l",value:function(){var t=this;b.H.on("NAVIGATE_IN",this.nav),b.H.on("NAVIGATE_END",this.end),u(this.links,"add","click",this.openHash),u(this.flinks,"add","click",this.openHash),this.open.forEach((function(e){e.addEventListener("click",t.openMenu)})),this.close.addEventListener("click",this.closeMenu)}},{key:"nav",value:function(t){var e=t.to,i=t.location,n=(t.trigger,e.view);this.links=s(".menu-link",n),this.links.forEach((function(t){t.href===i.href&&t.classList.add("is-active")})),this.state.open&&this.closeMenu()}},{key:"end",value:function(t){t.to;var e=t.location;if(t.trigger,this.els(),this.l(),this.activeLink(),e.anchor){var i=e.anchor.split("#")[1],s=o("".concat(i)),r=n(".-style1",s);this.toProjects(r)}}},{key:"openMenu",value:function(){var t=this;if(!this.state.animating){var e=Zn.timeline({onComplete:function(){t.state.animating=!1}});this.state.open=!0,this.state.animating=!0,e.fromTo(this.menu,{autoAlpha:0},{duration:.8,autoAlpha:1}),e.from(this.mobileLinks,{duration:1.8,y:"-101%",rotateX:"30deg",transformOrigin:"bottom",autoAlpha:0,stagger:.08,ease:"power4.inOut"}),e.from(".mobile-menu .contact",{duration:.5,autoAlpha:0},"-=1"),e.from(".mobile-menu .logo",{duration:.5,autoAlpha:0},"-=1"),e.from(".mobile-menu .close-menu",{duration:.5,autoAlpha:0,scale:0},"-=1")}}},{key:"closeMenu",value:function(){var t=this;if(!this.state.animating){var e=Zn.timeline({onComplete:function(){t.state.animating=!1}});this.state.open=!1,this.state.animating=!0,e.fromTo(this.menu,{autoAlpha:1},{duration:1,autoAlpha:0,delay:.8}),e.from(".open-menu",{duration:.5,scaleX:0,transformOrigin:"right"})}}},{key:"openHash",value:function(t){var e=t.target.href,i=e.split("#")[1],s=o("".concat(i)),r=!!s&&n(".-style1",s),a=-1!==e.indexOf("writings");i&&(r&&this.toProjects(s),this.state.open&&this.closeMenu(),a&&Zn.to(b.header,{duration:.5,autoAlpha:0}))}},{key:"toProjects",value:function(t){var e=this;t&&setTimeout((function(){b.raf.scrollTo(e.state.top)}),200)}},{key:"activeLink",value:function(){this.links.forEach((function(t){t.classList.remove("is-active"),t.href===location.href&&t.classList.add("is-active")}))}},{key:"init",value:function(){this.addHighway(),this.els(),this.activeLink(),this.l()}}])&&ao(e.prototype,i),r&&ao(e,r),t}(),uo="\n  attribute vec2 uv;\n  attribute vec3 position;\n  \n  uniform mat4 modelViewMatrix;\n  uniform mat4 projectionMatrix;\n  uniform vec2 uOffset; \n  uniform float uTime;\n\n  uniform float uDiff;\n  varying vec2 vUv;\n\n\n  void main() {\n    vUv = uv;\n\n    vec3 pos = position;\n    float bending = (cos(.012 + pos.x * 3.2) + sin( .01 + pos.y *  12.)) * .2;\n    float effect = bending * uDiff ; \n    pos.y += effect / 12. * cos(pos.y) ;\n    \n    gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);\n\n  }\n";function ho(t){let e=t[0],i=t[1],n=t[2];return Math.sqrt(e*e+i*i+n*n)}function co(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function po(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t}function fo(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t}function mo(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t}function go(t){let e=t[0],i=t[1],n=t[2];return e*e+i*i+n*n}function yo(t,e){let i=e[0],n=e[1],s=e[2],r=i*i+n*n+s*s;return r>0&&(r=1/Math.sqrt(r)),t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t}function vo(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function bo(t,e,i){let n=e[0],s=e[1],r=e[2],o=i[0],a=i[1],l=i[2];return t[0]=s*l-r*a,t[1]=r*o-n*l,t[2]=n*a-s*o,t}const Do=function(){const t=[0,0,0],e=[0,0,0];return function(i,n){co(t,i),co(e,n),yo(t,t),yo(e,e);let s=vo(t,e);return s>1?0:s<-1?Math.PI:Math.acos(s)}}();class wo extends Array{constructor(t=0,e=t,i=t){return super(t,e,i),this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(t){this[0]=t}set y(t){this[1]=t}set z(t){this[2]=t}set(t,e=t,i=t){return t.length?this.copy(t):(function(t,e,i,n){t[0]=e,t[1]=i,t[2]=n}(this,t,e,i),this)}copy(t){return co(this,t),this}add(t,e){return e?po(this,t,e):po(this,this,t),this}sub(t,e){return e?fo(this,t,e):fo(this,this,t),this}multiply(t){var e,i,n;return t.length?(i=this,n=t,(e=this)[0]=i[0]*n[0],e[1]=i[1]*n[1],e[2]=i[2]*n[2]):mo(this,this,t),this}divide(t){var e,i,n;return t.length?(i=this,n=t,(e=this)[0]=i[0]/n[0],e[1]=i[1]/n[1],e[2]=i[2]/n[2]):mo(this,this,1/t),this}inverse(t=this){var e,i;return i=t,(e=this)[0]=1/i[0],e[1]=1/i[1],e[2]=1/i[2],this}len(){return ho(this)}distance(t){return t?function(t,e){let i=e[0]-t[0],n=e[1]-t[1],s=e[2]-t[2];return Math.sqrt(i*i+n*n+s*s)}(this,t):ho(this)}squaredLen(){return go(this)}squaredDistance(t){return t?function(t,e){let i=e[0]-t[0],n=e[1]-t[1],s=e[2]-t[2];return i*i+n*n+s*s}(this,t):go(this)}negate(t=this){var e,i;return i=t,(e=this)[0]=-i[0],e[1]=-i[1],e[2]=-i[2],this}cross(t,e){return e?bo(this,t,e):bo(this,this,t),this}scale(t){return mo(this,this,t),this}normalize(){return yo(this,this),this}dot(t){return vo(this,t)}equals(t){return i=t,(e=this)[0]===i[0]&&e[1]===i[1]&&e[2]===i[2];var e,i}applyMatrix4(t){return function(t,e,i){let n=e[0],s=e[1],r=e[2],o=i[3]*n+i[7]*s+i[11]*r+i[15];o=o||1,t[0]=(i[0]*n+i[4]*s+i[8]*r+i[12])/o,t[1]=(i[1]*n+i[5]*s+i[9]*r+i[13])/o,t[2]=(i[2]*n+i[6]*s+i[10]*r+i[14])/o}(this,this,t),this}scaleRotateMatrix4(t){return function(t,e,i){let n=e[0],s=e[1],r=e[2],o=i[3]*n+i[7]*s+i[11]*r+i[15];o=o||1,t[0]=(i[0]*n+i[4]*s+i[8]*r)/o,t[1]=(i[1]*n+i[5]*s+i[9]*r)/o,t[2]=(i[2]*n+i[6]*s+i[10]*r)/o}(this,this,t),this}applyQuaternion(t){return function(t,e,i){let n=e[0],s=e[1],r=e[2],o=i[0],a=i[1],l=i[2],u=a*r-l*s,h=l*n-o*r,c=o*s-a*n,d=a*c-l*h,p=l*u-o*c,f=o*h-a*u,m=2*i[3];u*=m,h*=m,c*=m,d*=2,p*=2,f*=2,t[0]=n+u+d,t[1]=s+h+p,t[2]=r+c+f}(this,this,t),this}angle(t){return Do(this,t)}lerp(t,e){return function(t,e,i,n){let s=e[0],r=e[1],o=e[2];t[0]=s+n*(i[0]-s),t[1]=r+n*(i[1]-r),t[2]=o+n*(i[2]-o)}(this,this,t,e),this}clone(){return new wo(this[0],this[1],this[2])}fromArray(t,e=0){return this[0]=t[e],this[1]=t[e+1],this[2]=t[e+2],this}toArray(t=[],e=0){return t[e]=this[0],t[e+1]=this[1],t[e+2]=this[2],t}transformDirection(t){const e=this[0],i=this[1],n=this[2];return this[0]=t[0]*e+t[4]*i+t[8]*n,this[1]=t[1]*e+t[5]*i+t[9]*n,this[2]=t[2]*e+t[6]*i+t[10]*n,this.normalize()}}const _o=new wo;let Eo=1;class xo{constructor({canvas:t=document.createElement("canvas"),width:e=300,height:i=150,dpr:n=1,alpha:s=!1,depth:r=!0,stencil:o=!1,antialias:a=!1,premultipliedAlpha:l=!1,preserveDrawingBuffer:u=!1,powerPreference:h="default",autoClear:c=!0,webgl:d=2}={}){const p={alpha:s,depth:r,stencil:o,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:h};this.dpr=n,this.alpha=s,this.color=!0,this.depth=r,this.stencil=o,this.premultipliedAlpha=l,this.autoClear=c,this.id=Eo++,2===d&&(this.gl=t.getContext("webgl2",p)),this.isWebgl2=!!this.gl,this.gl||(this.gl=t.getContext("webgl",p)||t.getContext("experimental-webgl",p)),this.gl||console.error("unable to create webgl context"),this.gl.renderer=this,this.setSize(e,i),this.state={},this.state.blendFunc={src:this.gl.ONE,dst:this.gl.ZERO},this.state.blendEquation={modeRGB:this.gl.FUNC_ADD},this.state.cullFace=null,this.state.frontFace=this.gl.CCW,this.state.depthMask=!0,this.state.depthFunc=this.gl.LESS,this.state.premultiplyAlpha=!1,this.state.flipY=!1,this.state.unpackAlignment=4,this.state.framebuffer=null,this.state.viewport={width:null,height:null},this.state.textureUnits=[],this.state.activeTextureUnit=0,this.state.boundBuffer=null,this.state.uniformLocations=new Map,this.extensions={},this.isWebgl2?(this.getExtension("EXT_color_buffer_float"),this.getExtension("OES_texture_float_linear")):(this.getExtension("OES_texture_float"),this.getExtension("OES_texture_float_linear"),this.getExtension("OES_texture_half_float"),this.getExtension("OES_texture_half_float_linear"),this.getExtension("OES_element_index_uint"),this.getExtension("OES_standard_derivatives"),this.getExtension("EXT_sRGB"),this.getExtension("WEBGL_depth_texture"),this.getExtension("WEBGL_draw_buffers")),this.vertexAttribDivisor=this.getExtension("ANGLE_instanced_arrays","vertexAttribDivisor","vertexAttribDivisorANGLE"),this.drawArraysInstanced=this.getExtension("ANGLE_instanced_arrays","drawArraysInstanced","drawArraysInstancedANGLE"),this.drawElementsInstanced=this.getExtension("ANGLE_instanced_arrays","drawElementsInstanced","drawElementsInstancedANGLE"),this.createVertexArray=this.getExtension("OES_vertex_array_object","createVertexArray","createVertexArrayOES"),this.bindVertexArray=this.getExtension("OES_vertex_array_object","bindVertexArray","bindVertexArrayOES"),this.deleteVertexArray=this.getExtension("OES_vertex_array_object","deleteVertexArray","deleteVertexArrayOES"),this.drawBuffers=this.getExtension("WEBGL_draw_buffers","drawBuffers","drawBuffersWEBGL"),this.parameters={},this.parameters.maxTextureUnits=this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this.parameters.maxAnisotropy=this.getExtension("EXT_texture_filter_anisotropic")?this.gl.getParameter(this.getExtension("EXT_texture_filter_anisotropic").MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}setSize(t,e){this.width=t,this.height=e,this.gl.canvas.width=t*this.dpr,this.gl.canvas.height=e*this.dpr,Object.assign(this.gl.canvas.style,{width:t+"px",height:e+"px"})}setViewport(t,e){this.state.viewport.width===t&&this.state.viewport.height===e||(this.state.viewport.width=t,this.state.viewport.height=e,this.gl.viewport(0,0,t,e))}enable(t){!0!==this.state[t]&&(this.gl.enable(t),this.state[t]=!0)}disable(t){!1!==this.state[t]&&(this.gl.disable(t),this.state[t]=!1)}setBlendFunc(t,e,i,n){this.state.blendFunc.src===t&&this.state.blendFunc.dst===e&&this.state.blendFunc.srcAlpha===i&&this.state.blendFunc.dstAlpha===n||(this.state.blendFunc.src=t,this.state.blendFunc.dst=e,this.state.blendFunc.srcAlpha=i,this.state.blendFunc.dstAlpha=n,void 0!==i?this.gl.blendFuncSeparate(t,e,i,n):this.gl.blendFunc(t,e))}setBlendEquation(t,e){t=t||this.gl.FUNC_ADD,this.state.blendEquation.modeRGB===t&&this.state.blendEquation.modeAlpha===e||(this.state.blendEquation.modeRGB=t,this.state.blendEquation.modeAlpha=e,void 0!==e?this.gl.blendEquationSeparate(t,e):this.gl.blendEquation(t))}setCullFace(t){this.state.cullFace!==t&&(this.state.cullFace=t,this.gl.cullFace(t))}setFrontFace(t){this.state.frontFace!==t&&(this.state.frontFace=t,this.gl.frontFace(t))}setDepthMask(t){this.state.depthMask!==t&&(this.state.depthMask=t,this.gl.depthMask(t))}setDepthFunc(t){this.state.depthFunc!==t&&(this.state.depthFunc=t,this.gl.depthFunc(t))}activeTexture(t){this.state.activeTextureUnit!==t&&(this.state.activeTextureUnit=t,this.gl.activeTexture(this.gl.TEXTURE0+t))}bindFramebuffer({target:t=this.gl.FRAMEBUFFER,buffer:e=null}={}){this.state.framebuffer!==e&&(this.state.framebuffer=e,this.gl.bindFramebuffer(t,e))}getExtension(t,e,i){return e&&this.gl[e]?this.gl[e].bind(this.gl):(this.extensions[t]||(this.extensions[t]=this.gl.getExtension(t)),e?this.extensions[t]?this.extensions[t][i].bind(this.extensions[t]):null:this.extensions[t])}sortOpaque(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program.id!==e.program.id?t.program.id-e.program.id:t.zDepth!==e.zDepth?t.zDepth-e.zDepth:e.id-t.id}sortTransparent(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.zDepth!==e.zDepth?e.zDepth-t.zDepth:e.id-t.id}sortUI(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program.id!==e.program.id?t.program.id-e.program.id:e.id-t.id}getRenderList({scene:t,camera:e,frustumCull:i,sort:n}){let s=[];if(e&&i&&e.updateFrustum(),t.traverse(t=>{if(!t.visible)return!0;t.draw&&(i&&t.frustumCulled&&e&&!e.frustumIntersectsMesh(t)||s.push(t))}),n){const t=[],i=[],n=[];s.forEach(s=>{s.program.transparent?s.program.depthTest?i.push(s):n.push(s):t.push(s),s.zDepth=0,0===s.renderOrder&&s.program.depthTest&&e&&(s.worldMatrix.getTranslation(_o),_o.applyMatrix4(e.projectionViewMatrix),s.zDepth=_o.z)}),t.sort(this.sortOpaque),i.sort(this.sortTransparent),n.sort(this.sortUI),s=t.concat(i,n)}return s}render({scene:t,camera:e,target:i=null,update:n=!0,sort:s=!0,frustumCull:r=!0,clear:o}){null===i?(this.bindFramebuffer(),this.setViewport(this.width*this.dpr,this.height*this.dpr)):(this.bindFramebuffer(i),this.setViewport(i.width,i.height)),(o||this.autoClear&&!1!==o)&&(!this.depth||i&&!i.depth||(this.enable(this.gl.DEPTH_TEST),this.setDepthMask(!0)),this.gl.clear((this.color?this.gl.COLOR_BUFFER_BIT:0)|(this.depth?this.gl.DEPTH_BUFFER_BIT:0)|(this.stencil?this.gl.STENCIL_BUFFER_BIT:0))),n&&t.updateMatrixWorld(),e&&e.updateMatrixWorld();this.getRenderList({scene:t,camera:e,frustumCull:r,sort:s}).forEach(t=>{t.draw({camera:e})})}}function Co(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t}function To(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t}function ko(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t}function Ao(t){var e=t[0],i=t[1];return Math.sqrt(e*e+i*i)}function Mo(t,e){return t[0]*e[1]-t[1]*e[0]}class Fo extends Array{constructor(t=0,e=t){return super(t,e),this}get x(){return this[0]}get y(){return this[1]}set x(t){this[0]=t}set y(t){this[1]=t}set(t,e=t){return t.length?this.copy(t):(function(t,e,i){t[0]=e,t[1]=i}(this,t,e),this)}copy(t){var e,i;return i=t,(e=this)[0]=i[0],e[1]=i[1],this}add(t,e){return e?Co(this,t,e):Co(this,this,t),this}sub(t,e){return e?To(this,t,e):To(this,this,t),this}multiply(t){var e,i,n;return t.length?(i=this,n=t,(e=this)[0]=i[0]*n[0],e[1]=i[1]*n[1]):ko(this,this,t),this}divide(t){var e,i,n;return t.length?(i=this,n=t,(e=this)[0]=i[0]/n[0],e[1]=i[1]/n[1]):ko(this,this,1/t),this}inverse(t=this){var e,i;return i=t,(e=this)[0]=1/i[0],e[1]=1/i[1],this}len(){return Ao(this)}distance(t){return t?(e=this,n=(i=t)[0]-e[0],s=i[1]-e[1],Math.sqrt(n*n+s*s)):Ao(this);var e,i,n,s}squaredLen(){return this.squaredDistance()}squaredDistance(t){return t?(e=this,n=(i=t)[0]-e[0],s=i[1]-e[1],n*n+s*s):function(t){var e=t[0],i=t[1];return e*e+i*i}(this);var e,i,n,s}negate(t=this){var e,i;return i=t,(e=this)[0]=-i[0],e[1]=-i[1],this}cross(t,e){return e?Mo(t,e):Mo(this,t)}scale(t){return ko(this,this,t),this}normalize(){var t,e,i,n,s;return t=this,i=(e=this)[0],n=e[1],(s=i*i+n*n)>0&&(s=1/Math.sqrt(s)),t[0]=e[0]*s,t[1]=e[1]*s,this}dot(t){return i=t,(e=this)[0]*i[0]+e[1]*i[1];var e,i}equals(t){return i=t,(e=this)[0]===i[0]&&e[1]===i[1];var e,i}applyMatrix3(t){var e,i,n,s,r;return e=this,n=t,s=(i=this)[0],r=i[1],e[0]=n[0]*s+n[3]*r+n[6],e[1]=n[1]*s+n[4]*r+n[7],this}applyMatrix4(t){return function(t,e,i){let n=e[0],s=e[1];t[0]=i[0]*n+i[4]*s+i[12],t[1]=i[1]*n+i[5]*s+i[13]}(this,this,t),this}lerp(t,e){!function(t,e,i,n){var s=e[0],r=e[1];t[0]=s+n*(i[0]-s),t[1]=r+n*(i[1]-r)}(this,this,t,e)}clone(){return new Fo(this[0],this[1])}fromArray(t,e=0){return this[0]=t[e],this[1]=t[e+1],this}toArray(t=[],e=0){return t[e]=this[0],t[e+1]=this[1],t}}function So(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function Po(t,e,i,n,s){return t[0]=e,t[1]=i,t[2]=n,t[3]=s,t}function Oo(t,e){let i=e[0],n=e[1],s=e[2],r=e[3],o=i*i+n*n+s*s+r*r;return o>0&&(o=1/Math.sqrt(o)),t[0]=i*o,t[1]=n*o,t[2]=s*o,t[3]=r*o,t}function Lo(t,e,i){let n=e[0],s=e[1],r=e[2],o=e[3],a=i[0],l=i[1],u=i[2],h=i[3];return t[0]=n*h+o*a+s*u-r*l,t[1]=s*h+o*l+r*a-n*u,t[2]=r*h+o*u+n*l-s*a,t[3]=o*h-n*a-s*l-r*u,t}const zo=So,Io=Po,No=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},Ro=Oo;class Bo extends Array{constructor(t=0,e=0,i=0,n=1){return super(t,e,i,n),this.onChange=()=>{},this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(t){this[0]=t,this.onChange()}set y(t){this[1]=t,this.onChange()}set z(t){this[2]=t,this.onChange()}set w(t){this[3]=t,this.onChange()}identity(){var t;return(t=this)[0]=0,t[1]=0,t[2]=0,t[3]=1,this.onChange(),this}set(t,e,i,n){return t.length?this.copy(t):(Io(this,t,e,i,n),this.onChange(),this)}rotateX(t){return function(t,e,i){i*=.5;let n=e[0],s=e[1],r=e[2],o=e[3],a=Math.sin(i),l=Math.cos(i);t[0]=n*l+o*a,t[1]=s*l+r*a,t[2]=r*l-s*a,t[3]=o*l-n*a}(this,this,t),this.onChange(),this}rotateY(t){return function(t,e,i){i*=.5;let n=e[0],s=e[1],r=e[2],o=e[3],a=Math.sin(i),l=Math.cos(i);t[0]=n*l-r*a,t[1]=s*l+o*a,t[2]=r*l+n*a,t[3]=o*l-s*a}(this,this,t),this.onChange(),this}rotateZ(t){return function(t,e,i){i*=.5;let n=e[0],s=e[1],r=e[2],o=e[3],a=Math.sin(i),l=Math.cos(i);t[0]=n*l+s*a,t[1]=s*l-n*a,t[2]=r*l+o*a,t[3]=o*l-r*a}(this,this,t),this.onChange(),this}inverse(t=this){return function(t,e){let i=e[0],n=e[1],s=e[2],r=e[3],o=i*i+n*n+s*s+r*r,a=o?1/o:0;t[0]=-i*a,t[1]=-n*a,t[2]=-s*a,t[3]=r*a}(this,t),this.onChange(),this}conjugate(t=this){var e,i;return i=t,(e=this)[0]=-i[0],e[1]=-i[1],e[2]=-i[2],e[3]=i[3],this.onChange(),this}copy(t){return zo(this,t),this.onChange(),this}normalize(t=this){return Ro(this,t),this.onChange(),this}multiply(t,e){return e?Lo(this,t,e):Lo(this,this,t),this.onChange(),this}dot(t){return No(this,t)}fromMatrix3(t){return function(t,e){let i,n=e[0]+e[4]+e[8];if(n>0)i=Math.sqrt(n+1),t[3]=.5*i,i=.5/i,t[0]=(e[5]-e[7])*i,t[1]=(e[6]-e[2])*i,t[2]=(e[1]-e[3])*i;else{let n=0;e[4]>e[0]&&(n=1),e[8]>e[3*n+n]&&(n=2);let s=(n+1)%3,r=(n+2)%3;i=Math.sqrt(e[3*n+n]-e[3*s+s]-e[3*r+r]+1),t[n]=.5*i,i=.5/i,t[3]=(e[3*s+r]-e[3*r+s])*i,t[s]=(e[3*s+n]+e[3*n+s])*i,t[r]=(e[3*r+n]+e[3*n+r])*i}}(this,t),this.onChange(),this}fromEuler(t){return function(t,e,i="YXZ"){let n=Math.sin(.5*e[0]),s=Math.cos(.5*e[0]),r=Math.sin(.5*e[1]),o=Math.cos(.5*e[1]),a=Math.sin(.5*e[2]),l=Math.cos(.5*e[2]);"XYZ"===i?(t[0]=n*o*l+s*r*a,t[1]=s*r*l-n*o*a,t[2]=s*o*a+n*r*l,t[3]=s*o*l-n*r*a):"YXZ"===i?(t[0]=n*o*l+s*r*a,t[1]=s*r*l-n*o*a,t[2]=s*o*a-n*r*l,t[3]=s*o*l+n*r*a):"ZXY"===i?(t[0]=n*o*l-s*r*a,t[1]=s*r*l+n*o*a,t[2]=s*o*a+n*r*l,t[3]=s*o*l-n*r*a):"ZYX"===i?(t[0]=n*o*l-s*r*a,t[1]=s*r*l+n*o*a,t[2]=s*o*a-n*r*l,t[3]=s*o*l+n*r*a):"YZX"===i?(t[0]=n*o*l+s*r*a,t[1]=s*r*l+n*o*a,t[2]=s*o*a-n*r*l,t[3]=s*o*l-n*r*a):"XZY"===i&&(t[0]=n*o*l-s*r*a,t[1]=s*r*l-n*o*a,t[2]=s*o*a+n*r*l,t[3]=s*o*l+n*r*a)}(this,t,t.order),this}fromAxisAngle(t,e){return function(t,e,i){i*=.5;let n=Math.sin(i);t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=Math.cos(i)}(this,t,e),this}slerp(t,e){return function(t,e,i,n){let s,r,o,a,l,u=e[0],h=e[1],c=e[2],d=e[3],p=i[0],f=i[1],m=i[2],g=i[3];r=u*p+h*f+c*m+d*g,r<0&&(r=-r,p=-p,f=-f,m=-m,g=-g),1-r>1e-6?(s=Math.acos(r),o=Math.sin(s),a=Math.sin((1-n)*s)/o,l=Math.sin(n*s)/o):(a=1-n,l=n),t[0]=a*u+l*p,t[1]=a*h+l*f,t[2]=a*c+l*m,t[3]=a*d+l*g}(this,this,t,e),this}fromArray(t,e=0){return this[0]=t[e],this[1]=t[e+1],this[2]=t[e+2],this[3]=t[e+3],this}toArray(t=[],e=0){return t[e]=this[0],t[e+1]=this[1],t[e+2]=this[2],t[e+3]=this[3],t}}function jo(t,e,i){let n=e[0],s=e[1],r=e[2],o=e[3],a=e[4],l=e[5],u=e[6],h=e[7],c=e[8],d=e[9],p=e[10],f=e[11],m=e[12],g=e[13],y=e[14],v=e[15],b=i[0],D=i[1],w=i[2],_=i[3];return t[0]=b*n+D*a+w*c+_*m,t[1]=b*s+D*l+w*d+_*g,t[2]=b*r+D*u+w*p+_*y,t[3]=b*o+D*h+w*f+_*v,b=i[4],D=i[5],w=i[6],_=i[7],t[4]=b*n+D*a+w*c+_*m,t[5]=b*s+D*l+w*d+_*g,t[6]=b*r+D*u+w*p+_*y,t[7]=b*o+D*h+w*f+_*v,b=i[8],D=i[9],w=i[10],_=i[11],t[8]=b*n+D*a+w*c+_*m,t[9]=b*s+D*l+w*d+_*g,t[10]=b*r+D*u+w*p+_*y,t[11]=b*o+D*h+w*f+_*v,b=i[12],D=i[13],w=i[14],_=i[15],t[12]=b*n+D*a+w*c+_*m,t[13]=b*s+D*l+w*d+_*g,t[14]=b*r+D*u+w*p+_*y,t[15]=b*o+D*h+w*f+_*v,t}function qo(t,e){let i=e[0],n=e[1],s=e[2],r=e[4],o=e[5],a=e[6],l=e[8],u=e[9],h=e[10];return t[0]=Math.hypot(i,n,s),t[1]=Math.hypot(r,o,a),t[2]=Math.hypot(l,u,h),t}const Vo=function(){const t=[0,0,0];return function(e,i){let n=t;qo(n,i);let s=1/n[0],r=1/n[1],o=1/n[2],a=i[0]*s,l=i[1]*r,u=i[2]*o,h=i[4]*s,c=i[5]*r,d=i[6]*o,p=i[8]*s,f=i[9]*r,m=i[10]*o,g=a+c+m,y=0;return g>0?(y=2*Math.sqrt(g+1),e[3]=.25*y,e[0]=(d-f)/y,e[1]=(p-u)/y,e[2]=(l-h)/y):a>c&&a>m?(y=2*Math.sqrt(1+a-c-m),e[3]=(d-f)/y,e[0]=.25*y,e[1]=(l+h)/y,e[2]=(p+u)/y):c>m?(y=2*Math.sqrt(1+c-a-m),e[3]=(p-u)/y,e[0]=(l+h)/y,e[1]=.25*y,e[2]=(d+f)/y):(y=2*Math.sqrt(1+m-a-c),e[3]=(l-h)/y,e[0]=(p+u)/y,e[1]=(d+f)/y,e[2]=.25*y),e}}();class Uo extends Array{constructor(t=1,e=0,i=0,n=0,s=0,r=1,o=0,a=0,l=0,u=0,h=1,c=0,d=0,p=0,f=0,m=1){return super(t,e,i,n,s,r,o,a,l,u,h,c,d,p,f,m),this}get x(){return this[12]}get y(){return this[13]}get z(){return this[14]}get w(){return this[15]}set x(t){this[12]=t}set y(t){this[13]=t}set z(t){this[14]=t}set w(t){this[15]=t}set(t,e,i,n,s,r,o,a,l,u,h,c,d,p,f,m){return t.length?this.copy(t):(function(t,e,i,n,s,r,o,a,l,u,h,c,d,p,f,m,g){t[0]=e,t[1]=i,t[2]=n,t[3]=s,t[4]=r,t[5]=o,t[6]=a,t[7]=l,t[8]=u,t[9]=h,t[10]=c,t[11]=d,t[12]=p,t[13]=f,t[14]=m,t[15]=g}(this,t,e,i,n,s,r,o,a,l,u,h,c,d,p,f,m),this)}translate(t,e=this){return function(t,e,i){let n,s,r,o,a,l,u,h,c,d,p,f,m=i[0],g=i[1],y=i[2];e===t?(t[12]=e[0]*m+e[4]*g+e[8]*y+e[12],t[13]=e[1]*m+e[5]*g+e[9]*y+e[13],t[14]=e[2]*m+e[6]*g+e[10]*y+e[14],t[15]=e[3]*m+e[7]*g+e[11]*y+e[15]):(n=e[0],s=e[1],r=e[2],o=e[3],a=e[4],l=e[5],u=e[6],h=e[7],c=e[8],d=e[9],p=e[10],f=e[11],t[0]=n,t[1]=s,t[2]=r,t[3]=o,t[4]=a,t[5]=l,t[6]=u,t[7]=h,t[8]=c,t[9]=d,t[10]=p,t[11]=f,t[12]=n*m+a*g+c*y+e[12],t[13]=s*m+l*g+d*y+e[13],t[14]=r*m+u*g+p*y+e[14],t[15]=o*m+h*g+f*y+e[15])}(this,e,t),this}rotate(t,e,i=this){return function(t,e,i,n){let s,r,o,a,l,u,h,c,d,p,f,m,g,y,v,b,D,w,_,E,x,C,T,k,A=n[0],M=n[1],F=n[2],S=Math.hypot(A,M,F);Math.abs(S)<1e-6||(S=1/S,A*=S,M*=S,F*=S,s=Math.sin(i),r=Math.cos(i),o=1-r,a=e[0],l=e[1],u=e[2],h=e[3],c=e[4],d=e[5],p=e[6],f=e[7],m=e[8],g=e[9],y=e[10],v=e[11],b=A*A*o+r,D=M*A*o+F*s,w=F*A*o-M*s,_=A*M*o-F*s,E=M*M*o+r,x=F*M*o+A*s,C=A*F*o+M*s,T=M*F*o-A*s,k=F*F*o+r,t[0]=a*b+c*D+m*w,t[1]=l*b+d*D+g*w,t[2]=u*b+p*D+y*w,t[3]=h*b+f*D+v*w,t[4]=a*_+c*E+m*x,t[5]=l*_+d*E+g*x,t[6]=u*_+p*E+y*x,t[7]=h*_+f*E+v*x,t[8]=a*C+c*T+m*k,t[9]=l*C+d*T+g*k,t[10]=u*C+p*T+y*k,t[11]=h*C+f*T+v*k,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]))}(this,i,t,e),this}scale(t,e=this){return function(t,e,i){let n=i[0],s=i[1],r=i[2];t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*s,t[5]=e[5]*s,t[6]=e[6]*s,t[7]=e[7]*s,t[8]=e[8]*r,t[9]=e[9]*r,t[10]=e[10]*r,t[11]=e[11]*r,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]}(this,e,"number"==typeof t?[t,t,t]:t),this}multiply(t,e){return e?jo(this,t,e):jo(this,this,t),this}identity(){var t;return(t=this)[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}copy(t){var e,i;return i=t,(e=this)[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],e[9]=i[9],e[10]=i[10],e[11]=i[11],e[12]=i[12],e[13]=i[13],e[14]=i[14],e[15]=i[15],this}fromPerspective({fov:t,aspect:e,near:i,far:n}={}){return function(t,e,i,n,s){let r=1/Math.tan(e/2),o=1/(n-s);t[0]=r/i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(s+n)*o,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*s*n*o,t[15]=0}(this,t,e,i,n),this}fromOrthogonal({left:t,right:e,bottom:i,top:n,near:s,far:r}){return function(t,e,i,n,s,r,o){let a=1/(e-i),l=1/(n-s),u=1/(r-o);t[0]=-2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(e+i)*a,t[13]=(s+n)*l,t[14]=(o+r)*u,t[15]=1}(this,t,e,i,n,s,r),this}fromQuaternion(t){return function(t,e){let i=e[0],n=e[1],s=e[2],r=e[3],o=i+i,a=n+n,l=s+s,u=i*o,h=n*o,c=n*a,d=s*o,p=s*a,f=s*l,m=r*o,g=r*a,y=r*l;t[0]=1-c-f,t[1]=h+y,t[2]=d-g,t[3]=0,t[4]=h-y,t[5]=1-u-f,t[6]=p+m,t[7]=0,t[8]=d+g,t[9]=p-m,t[10]=1-u-c,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1}(this,t),this}setPosition(t){return this.x=t[0],this.y=t[1],this.z=t[2],this}inverse(t=this){return function(t,e){let i=e[0],n=e[1],s=e[2],r=e[3],o=e[4],a=e[5],l=e[6],u=e[7],h=e[8],c=e[9],d=e[10],p=e[11],f=e[12],m=e[13],g=e[14],y=e[15],v=i*a-n*o,b=i*l-s*o,D=i*u-r*o,w=n*l-s*a,_=n*u-r*a,E=s*u-r*l,x=h*m-c*f,C=h*g-d*f,T=h*y-p*f,k=c*g-d*m,A=c*y-p*m,M=d*y-p*g,F=v*M-b*A+D*k+w*T-_*C+E*x;F&&(F=1/F,t[0]=(a*M-l*A+u*k)*F,t[1]=(s*A-n*M-r*k)*F,t[2]=(m*E-g*_+y*w)*F,t[3]=(d*_-c*E-p*w)*F,t[4]=(l*T-o*M-u*C)*F,t[5]=(i*M-s*T+r*C)*F,t[6]=(g*D-f*E-y*b)*F,t[7]=(h*E-d*D+p*b)*F,t[8]=(o*A-a*T+u*x)*F,t[9]=(n*T-i*A-r*x)*F,t[10]=(f*_-m*D+y*v)*F,t[11]=(c*D-h*_-p*v)*F,t[12]=(a*C-o*k-l*x)*F,t[13]=(i*k-n*C+s*x)*F,t[14]=(m*b-f*w-g*v)*F,t[15]=(h*w-c*b+d*v)*F)}(this,t),this}compose(t,e,i){return function(t,e,i,n){let s=e[0],r=e[1],o=e[2],a=e[3],l=s+s,u=r+r,h=o+o,c=s*l,d=s*u,p=s*h,f=r*u,m=r*h,g=o*h,y=a*l,v=a*u,b=a*h,D=n[0],w=n[1],_=n[2];t[0]=(1-(f+g))*D,t[1]=(d+b)*D,t[2]=(p-v)*D,t[3]=0,t[4]=(d-b)*w,t[5]=(1-(c+g))*w,t[6]=(m+y)*w,t[7]=0,t[8]=(p+v)*_,t[9]=(m-y)*_,t[10]=(1-(c+f))*_,t[11]=0,t[12]=i[0],t[13]=i[1],t[14]=i[2],t[15]=1}(this,t,e,i),this}getRotation(t){return Vo(t,this),this}getTranslation(t){var e,i;return i=this,(e=t)[0]=i[12],e[1]=i[13],e[2]=i[14],this}getScaling(t){return qo(t,this),this}getMaxScaleOnAxis(){return function(t){let e=t[0],i=t[1],n=t[2],s=t[4],r=t[5],o=t[6],a=t[8],l=t[9],u=t[10];const h=e*e+i*i+n*n,c=s*s+r*r+o*o,d=a*a+l*l+u*u;return Math.sqrt(Math.max(h,c,d))}(this)}lookAt(t,e,i){return function(t,e,i,n){let s=e[0],r=e[1],o=e[2],a=n[0],l=n[1],u=n[2],h=s-i[0],c=r-i[1],d=o-i[2],p=h*h+c*c+d*d;0===p?d=1:(p=1/Math.sqrt(p),h*=p,c*=p,d*=p);let f=l*d-u*c,m=u*h-a*d,g=a*c-l*h;p=f*f+m*m+g*g,0===p&&(u?a+=1e-6:l?u+=1e-6:l+=1e-6,f=l*d-u*c,m=u*h-a*d,g=a*c-l*h,p=f*f+m*m+g*g),p=1/Math.sqrt(p),f*=p,m*=p,g*=p,t[0]=f,t[1]=m,t[2]=g,t[3]=0,t[4]=c*g-d*m,t[5]=d*f-h*g,t[6]=h*m-c*f,t[7]=0,t[8]=h,t[9]=c,t[10]=d,t[11]=0,t[12]=s,t[13]=r,t[14]=o,t[15]=1}(this,t,e,i),this}determinant(){return function(t){let e=t[0],i=t[1],n=t[2],s=t[3],r=t[4],o=t[5],a=t[6],l=t[7],u=t[8],h=t[9],c=t[10],d=t[11],p=t[12],f=t[13],m=t[14],g=t[15];return(e*o-i*r)*(c*g-d*m)-(e*a-n*r)*(h*g-d*f)+(e*l-s*r)*(h*m-c*f)+(i*a-n*o)*(u*g-d*p)-(i*l-s*o)*(u*m-c*p)+(n*l-s*a)*(u*f-h*p)}(this)}fromArray(t,e=0){return this[0]=t[e],this[1]=t[e+1],this[2]=t[e+2],this[3]=t[e+3],this[4]=t[e+4],this[5]=t[e+5],this[6]=t[e+6],this[7]=t[e+7],this[8]=t[e+8],this[9]=t[e+9],this[10]=t[e+10],this[11]=t[e+11],this[12]=t[e+12],this[13]=t[e+13],this[14]=t[e+14],this[15]=t[e+15],this}toArray(t=[],e=0){return t[e]=this[0],t[e+1]=this[1],t[e+2]=this[2],t[e+3]=this[3],t[e+4]=this[4],t[e+5]=this[5],t[e+6]=this[6],t[e+7]=this[7],t[e+8]=this[8],t[e+9]=this[9],t[e+10]=this[10],t[e+11]=this[11],t[e+12]=this[12],t[e+13]=this[13],t[e+14]=this[14],t[e+15]=this[15],t}}const Wo=new Uo;class Ho extends Array{constructor(t=0,e=t,i=t,n="YXZ"){return super(t,e,i),this.order=n,this.onChange=()=>{},this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(t){this[0]=t,this.onChange()}set y(t){this[1]=t,this.onChange()}set z(t){this[2]=t,this.onChange()}set(t,e=t,i=t){return t.length?this.copy(t):(this[0]=t,this[1]=e,this[2]=i,this.onChange(),this)}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this.onChange(),this}reorder(t){return this.order=t,this.onChange(),this}fromRotationMatrix(t,e=this.order){return function(t,e,i="YXZ"){"XYZ"===i?(t[1]=Math.asin(Math.min(Math.max(e[8],-1),1)),Math.abs(e[8])<.99999?(t[0]=Math.atan2(-e[9],e[10]),t[2]=Math.atan2(-e[4],e[0])):(t[0]=Math.atan2(e[6],e[5]),t[2]=0)):"YXZ"===i?(t[0]=Math.asin(-Math.min(Math.max(e[9],-1),1)),Math.abs(e[9])<.99999?(t[1]=Math.atan2(e[8],e[10]),t[2]=Math.atan2(e[1],e[5])):(t[1]=Math.atan2(-e[2],e[0]),t[2]=0)):"ZXY"===i?(t[0]=Math.asin(Math.min(Math.max(e[6],-1),1)),Math.abs(e[6])<.99999?(t[1]=Math.atan2(-e[2],e[10]),t[2]=Math.atan2(-e[4],e[5])):(t[1]=0,t[2]=Math.atan2(e[1],e[0]))):"ZYX"===i?(t[1]=Math.asin(-Math.min(Math.max(e[2],-1),1)),Math.abs(e[2])<.99999?(t[0]=Math.atan2(e[6],e[10]),t[2]=Math.atan2(e[1],e[0])):(t[0]=0,t[2]=Math.atan2(-e[4],e[5]))):"YZX"===i?(t[2]=Math.asin(Math.min(Math.max(e[1],-1),1)),Math.abs(e[1])<.99999?(t[0]=Math.atan2(-e[9],e[5]),t[1]=Math.atan2(-e[2],e[0])):(t[0]=0,t[1]=Math.atan2(e[8],e[10]))):"XZY"===i&&(t[2]=Math.asin(-Math.min(Math.max(e[4],-1),1)),Math.abs(e[4])<.99999?(t[0]=Math.atan2(e[6],e[5]),t[1]=Math.atan2(e[8],e[0])):(t[0]=Math.atan2(-e[9],e[10]),t[1]=0))}(this,t,e),this}fromQuaternion(t,e=this.order){return Wo.fromQuaternion(t),this.fromRotationMatrix(Wo,e)}toArray(t=[],e=0){return t[e]=this[0],t[e+1]=this[1],t[e+2]=this[2],t}}class Xo{constructor(){this.parent=null,this.children=[],this.visible=!0,this.matrix=new Uo,this.worldMatrix=new Uo,this.matrixAutoUpdate=!0,this.position=new wo,this.quaternion=new Bo,this.scale=new wo(1),this.rotation=new Ho,this.up=new wo(0,1,0),this.rotation.onChange=()=>this.quaternion.fromEuler(this.rotation),this.quaternion.onChange=()=>this.rotation.fromQuaternion(this.quaternion)}setParent(t,e=!0){this.parent&&t!==this.parent&&this.parent.removeChild(this,!1),this.parent=t,e&&t&&t.addChild(this,!1)}addChild(t,e=!0){~this.children.indexOf(t)||this.children.push(t),e&&t.setParent(this,!1)}removeChild(t,e=!0){~this.children.indexOf(t)&&this.children.splice(this.children.indexOf(t),1),e&&t.setParent(null,!1)}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.worldMatrixNeedsUpdate||t)&&(null===this.parent?this.worldMatrix.copy(this.matrix):this.worldMatrix.multiply(this.parent.worldMatrix,this.matrix),this.worldMatrixNeedsUpdate=!1,t=!0);for(let e=0,i=this.children.length;e<i;e++)this.children[e].updateMatrixWorld(t)}updateMatrix(){this.matrix.compose(this.quaternion,this.position,this.scale),this.worldMatrixNeedsUpdate=!0}traverse(t){if(!t(this))for(let e=0,i=this.children.length;e<i;e++)this.children[e].traverse(t)}decompose(){this.matrix.getTranslation(this.position),this.matrix.getRotation(this.quaternion),this.matrix.getScaling(this.scale),this.rotation.fromQuaternion(this.quaternion)}lookAt(t,e=!1){e?this.matrix.lookAt(this.position,t,this.up):this.matrix.lookAt(t,this.position,this.up),this.matrix.getRotation(this.quaternion),this.rotation.fromQuaternion(this.quaternion)}}const Yo=new Uo,$o=new wo,Go=new wo;class Ko extends Xo{constructor(t,{near:e=.1,far:i=100,fov:n=45,aspect:s=1,left:r,right:o,bottom:a,top:l,zoom:u=1}={}){super(),Object.assign(this,{near:e,far:i,fov:n,aspect:s,left:r,right:o,bottom:a,top:l,zoom:u}),this.projectionMatrix=new Uo,this.viewMatrix=new Uo,this.projectionViewMatrix=new Uo,this.worldPosition=new wo,this.type=r||o?"orthographic":"perspective","orthographic"===this.type?this.orthographic():this.perspective()}perspective({near:t=this.near,far:e=this.far,fov:i=this.fov,aspect:n=this.aspect}={}){return Object.assign(this,{near:t,far:e,fov:i,aspect:n}),this.projectionMatrix.fromPerspective({fov:i*(Math.PI/180),aspect:n,near:t,far:e}),this.type="perspective",this}orthographic({near:t=this.near,far:e=this.far,left:i=this.left,right:n=this.right,bottom:s=this.bottom,top:r=this.top,zoom:o=this.zoom}={}){return Object.assign(this,{near:t,far:e,left:i,right:n,bottom:s,top:r,zoom:o}),i/=o,n/=o,s/=o,r/=o,this.projectionMatrix.fromOrthogonal({left:i,right:n,bottom:s,top:r,near:t,far:e}),this.type="orthographic",this}updateMatrixWorld(){return super.updateMatrixWorld(),this.viewMatrix.inverse(this.worldMatrix),this.worldMatrix.getTranslation(this.worldPosition),this.projectionViewMatrix.multiply(this.projectionMatrix,this.viewMatrix),this}lookAt(t){return super.lookAt(t,!0),this}project(t){return t.applyMatrix4(this.viewMatrix),t.applyMatrix4(this.projectionMatrix),this}unproject(t){return t.applyMatrix4(Yo.inverse(this.projectionMatrix)),t.applyMatrix4(this.worldMatrix),this}updateFrustum(){this.frustum||(this.frustum=[new wo,new wo,new wo,new wo,new wo,new wo]);const t=this.projectionViewMatrix;this.frustum[0].set(t[3]-t[0],t[7]-t[4],t[11]-t[8]).constant=t[15]-t[12],this.frustum[1].set(t[3]+t[0],t[7]+t[4],t[11]+t[8]).constant=t[15]+t[12],this.frustum[2].set(t[3]+t[1],t[7]+t[5],t[11]+t[9]).constant=t[15]+t[13],this.frustum[3].set(t[3]-t[1],t[7]-t[5],t[11]-t[9]).constant=t[15]-t[13],this.frustum[4].set(t[3]-t[2],t[7]-t[6],t[11]-t[10]).constant=t[15]-t[14],this.frustum[5].set(t[3]+t[2],t[7]+t[6],t[11]+t[10]).constant=t[15]+t[14];for(let t=0;t<6;t++){const e=1/this.frustum[t].distance();this.frustum[t].multiply(e),this.frustum[t].constant*=e}}frustumIntersectsMesh(t){if(!t.geometry.attributes.position)return!0;if(t.geometry.bounds&&t.geometry.bounds.radius!==1/0||t.geometry.computeBoundingSphere(),!t.geometry.bounds)return!0;const e=$o;e.copy(t.geometry.bounds.center),e.applyMatrix4(t.worldMatrix);const i=t.geometry.bounds.radius*t.worldMatrix.getMaxScaleOnAxis();return this.frustumIntersectsSphere(e,i)}frustumIntersectsSphere(t,e){const i=Go;for(let n=0;n<6;n++){const s=this.frustum[n];if(i.copy(s).dot(t)+s.constant<-e)return!1}return!0}}const Qo=new Uint8Array(4);function Zo(t){return 0==(t&t-1)}let Jo=1;class ta{constructor(t,{image:e,target:i=t.TEXTURE_2D,type:n=t.UNSIGNED_BYTE,format:s=t.RGBA,internalFormat:r=s,wrapS:o=t.CLAMP_TO_EDGE,wrapT:a=t.CLAMP_TO_EDGE,generateMipmaps:l=!0,minFilter:u=(l?t.NEAREST_MIPMAP_LINEAR:t.LINEAR),magFilter:h=t.LINEAR,premultiplyAlpha:c=!1,unpackAlignment:d=4,flipY:p=i==t.TEXTURE_2D,anisotropy:f=0,level:m=0,width:g,height:y=g}={}){this.gl=t,this.id=Jo++,this.image=e,this.target=i,this.type=n,this.format=s,this.internalFormat=r,this.minFilter=u,this.magFilter=h,this.wrapS=o,this.wrapT=a,this.generateMipmaps=l,this.premultiplyAlpha=c,this.unpackAlignment=d,this.flipY=p,this.anisotropy=Math.min(f,this.gl.renderer.parameters.maxAnisotropy),this.level=m,this.width=g,this.height=y,this.texture=this.gl.createTexture(),this.store={image:null},this.glState=this.gl.renderer.state,this.state={},this.state.minFilter=this.gl.NEAREST_MIPMAP_LINEAR,this.state.magFilter=this.gl.LINEAR,this.state.wrapS=this.gl.REPEAT,this.state.wrapT=this.gl.REPEAT,this.state.anisotropy=0}bind(){this.glState.textureUnits[this.glState.activeTextureUnit]!==this.id&&(this.gl.bindTexture(this.target,this.texture),this.glState.textureUnits[this.glState.activeTextureUnit]=this.id)}update(t=0){const e=!(this.image===this.store.image&&!this.needsUpdate);if((e||this.glState.textureUnits[t]!==this.id)&&(this.gl.renderer.activeTexture(t),this.bind()),e){if(this.needsUpdate=!1,this.flipY!==this.glState.flipY&&(this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,this.flipY),this.glState.flipY=this.flipY),this.premultiplyAlpha!==this.glState.premultiplyAlpha&&(this.gl.pixelStorei(this.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),this.glState.premultiplyAlpha=this.premultiplyAlpha),this.unpackAlignment!==this.glState.unpackAlignment&&(this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,this.unpackAlignment),this.glState.unpackAlignment=this.unpackAlignment),this.minFilter!==this.state.minFilter&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_MIN_FILTER,this.minFilter),this.state.minFilter=this.minFilter),this.magFilter!==this.state.magFilter&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_MAG_FILTER,this.magFilter),this.state.magFilter=this.magFilter),this.wrapS!==this.state.wrapS&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_S,this.wrapS),this.state.wrapS=this.wrapS),this.wrapT!==this.state.wrapT&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_T,this.wrapT),this.state.wrapT=this.wrapT),this.anisotropy&&this.anisotropy!==this.state.anisotropy&&(this.gl.texParameterf(this.target,this.gl.renderer.getExtension("EXT_texture_filter_anisotropic").TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropy),this.state.anisotropy=this.anisotropy),this.image){if(this.image.width&&(this.width=this.image.width,this.height=this.image.height),this.target===this.gl.TEXTURE_CUBE_MAP)for(let t=0;t<6;t++)this.gl.texImage2D(this.gl.TEXTURE_CUBE_MAP_POSITIVE_X+t,this.level,this.internalFormat,this.format,this.type,this.image[t]);else if(ArrayBuffer.isView(this.image))this.gl.texImage2D(this.target,this.level,this.internalFormat,this.width,this.height,0,this.format,this.type,this.image);else if(this.image.isCompressedTexture)for(let t=0;t<this.image.length;t++)this.gl.compressedTexImage2D(this.target,t,this.internalFormat,this.image[t].width,this.image[t].height,0,this.image[t].data);else this.gl.texImage2D(this.target,this.level,this.internalFormat,this.format,this.type,this.image);this.generateMipmaps&&(this.gl.renderer.isWebgl2||Zo(this.image.width)&&Zo(this.image.height)?this.gl.generateMipmap(this.target):(this.generateMipmaps=!1,this.wrapS=this.wrapT=this.gl.CLAMP_TO_EDGE,this.minFilter=this.gl.LINEAR)),this.onUpdate&&this.onUpdate()}else if(this.target===this.gl.TEXTURE_CUBE_MAP)for(let t=0;t<6;t++)this.gl.texImage2D(this.gl.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,this.gl.RGBA,1,1,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,Qo);else this.width?this.gl.texImage2D(this.target,this.level,this.internalFormat,this.width,this.height,0,this.format,this.type,null):this.gl.texImage2D(this.target,0,this.gl.RGBA,1,1,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,Qo);this.store.image=this.image}}}const ea=new wo;let ia=1,na=1,sa=!1;class ra extends class{constructor(t,e={}){t.canvas||console.error("gl not passed as first argument to Geometry"),this.gl=t,this.attributes=e,this.id=ia++,this.VAOs={},this.drawRange={start:0,count:0},this.instancedCount=0,this.gl.renderer.bindVertexArray(null),this.gl.renderer.currentGeometry=null,this.glState=this.gl.renderer.state;for(let t in e)this.addAttribute(t,e[t])}addAttribute(t,e){if(this.attributes[t]=e,e.id=na++,e.size=e.size||1,e.type=e.type||(e.data.constructor===Float32Array?this.gl.FLOAT:e.data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT),e.target="index"===t?this.gl.ELEMENT_ARRAY_BUFFER:this.gl.ARRAY_BUFFER,e.normalized=e.normalized||!1,e.stride=e.stride||0,e.offset=e.offset||0,e.count=e.count||(e.stride?e.data.byteLength/e.stride:e.data.length/e.size),e.divisor=e.instanced||0,e.needsUpdate=!1,e.buffer||(e.buffer=this.gl.createBuffer(),this.updateAttribute(e)),e.divisor){if(this.isInstanced=!0,this.instancedCount&&this.instancedCount!==e.count*e.divisor)return console.warn("geometry has multiple instanced buffers of different length"),this.instancedCount=Math.min(this.instancedCount,e.count*e.divisor);this.instancedCount=e.count*e.divisor}else"index"===t?this.drawRange.count=e.count:this.attributes.index||(this.drawRange.count=Math.max(this.drawRange.count,e.count))}updateAttribute(t){this.glState.boundBuffer!==t.buffer&&(this.gl.bindBuffer(t.target,t.buffer),this.glState.boundBuffer=t.buffer),this.gl.bufferData(t.target,t.data,this.gl.STATIC_DRAW),t.needsUpdate=!1}setIndex(t){this.addAttribute("index",t)}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}setInstancedCount(t){this.instancedCount=t}createVAO(t){this.VAOs[t.attributeOrder]=this.gl.renderer.createVertexArray(),this.gl.renderer.bindVertexArray(this.VAOs[t.attributeOrder]),this.bindAttributes(t)}bindAttributes(t){t.attributeLocations.forEach((t,{name:e,type:i})=>{if(!this.attributes[e])return void console.warn(`active attribute ${e} not being supplied`);const n=this.attributes[e];this.gl.bindBuffer(n.target,n.buffer),this.glState.boundBuffer=n.buffer;let s=1;35674===i&&(s=2),35675===i&&(s=3),35676===i&&(s=4);const r=n.size/s,o=1===s?0:s*s*s,a=1===s?0:s*s;for(let e=0;e<s;e++)this.gl.vertexAttribPointer(t+e,r,n.type,n.normalized,n.stride+o,n.offset+e*a),this.gl.enableVertexAttribArray(t+e),this.gl.renderer.vertexAttribDivisor(t+e,n.divisor)}),this.attributes.index&&this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.attributes.index.buffer)}draw({program:t,mode:e=this.gl.TRIANGLES}){this.gl.renderer.currentGeometry!==`${this.id}_${t.attributeOrder}`&&(this.VAOs[t.attributeOrder]||this.createVAO(t),this.gl.renderer.bindVertexArray(this.VAOs[t.attributeOrder]),this.gl.renderer.currentGeometry=`${this.id}_${t.attributeOrder}`),t.attributeLocations.forEach((t,{name:e})=>{const i=this.attributes[e];i.needsUpdate&&this.updateAttribute(i)}),this.isInstanced?this.attributes.index?this.gl.renderer.drawElementsInstanced(e,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+2*this.drawRange.start,this.instancedCount):this.gl.renderer.drawArraysInstanced(e,this.drawRange.start,this.drawRange.count,this.instancedCount):this.attributes.index?this.gl.drawElements(e,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+2*this.drawRange.start):this.gl.drawArrays(e,this.drawRange.start,this.drawRange.count)}getPosition(){const t=this.attributes.position;return t.data?t:sa?void 0:(console.warn("No position buffer data found to compute bounds"),sa=!0)}computeBoundingBox(t){t||(t=this.getPosition());const e=t.data,i=t.offset||0,n=t.stride||t.size;this.bounds||(this.bounds={min:new wo,max:new wo,center:new wo,scale:new wo,radius:1/0});const s=this.bounds.min,r=this.bounds.max,o=this.bounds.center,a=this.bounds.scale;s.set(1/0),r.set(-1/0);for(let t=i,o=e.length;t<o;t+=n){const i=e[t],n=e[t+1],o=e[t+2];s.x=Math.min(i,s.x),s.y=Math.min(n,s.y),s.z=Math.min(o,s.z),r.x=Math.max(i,r.x),r.y=Math.max(n,r.y),r.z=Math.max(o,r.z)}a.sub(r,s),o.add(s,r).divide(2)}computeBoundingSphere(t){t||(t=this.getPosition());const e=t.data,i=t.offset||0,n=t.stride||t.size;this.bounds||this.computeBoundingBox(t);let s=0;for(let t=i,r=e.length;t<r;t+=n)ea.fromArray(e,t),s=Math.max(s,this.bounds.center.squaredDistance(ea));this.bounds.radius=Math.sqrt(s)}remove(){this.vao&&this.gl.renderer.deleteVertexArray(this.vao);for(let t in this.attributes)this.gl.deleteBuffer(this.attributes[t].buffer),delete this.attributes[t]}}{constructor(t,{width:e=1,height:i=1,widthSegments:n=1,heightSegments:s=1,attributes:r={}}={}){const o=n,a=s,l=(o+1)*(a+1),u=o*a*6,h=new Float32Array(3*l),c=new Float32Array(3*l),d=new Float32Array(2*l),p=l>65536?new Uint32Array(u):new Uint16Array(u);ra.buildPlane(h,c,d,p,e,i,0,o,a),Object.assign(r,{position:{size:3,data:h},normal:{size:3,data:c},uv:{size:2,data:d},index:{data:p}}),super(t,r)}static buildPlane(t,e,i,n,s,r,o,a,l,u=0,h=1,c=2,d=1,p=-1,f=0,m=0){const g=f,y=s/a,v=r/l;for(let b=0;b<=l;b++){let D=b*v-r/2;for(let r=0;r<=a;r++,f++){let v=r*y-s/2;if(t[3*f+u]=v*d,t[3*f+h]=D*p,t[3*f+c]=o/2,e[3*f+u]=0,e[3*f+h]=0,e[3*f+c]=o>=0?1:-1,i[2*f]=r/a,i[2*f+1]=1-b/l,b===l||r===a)continue;let w=g+r+b*(a+1),_=g+r+(b+1)*(a+1),E=g+r+(b+1)*(a+1)+1,x=g+r+b*(a+1)+1;n[6*m]=w,n[6*m+1]=_,n[6*m+2]=x,n[6*m+3]=_,n[6*m+4]=E,n[6*m+5]=x,m++}}}}let oa=1;const aa={};class la{constructor(t,{vertex:e,fragment:i,uniforms:n={},transparent:s=!1,cullFace:r=t.BACK,frontFace:o=t.CCW,depthTest:a=!0,depthWrite:l=!0,depthFunc:u=t.LESS}={}){t.canvas||console.error("gl not passed as fist argument to Program"),this.gl=t,this.uniforms=n,this.id=oa++,e||console.warn("vertex shader not supplied"),i||console.warn("fragment shader not supplied"),this.transparent=s,this.cullFace=r,this.frontFace=o,this.depthTest=a,this.depthWrite=l,this.depthFunc=u,this.blendFunc={},this.blendEquation={},this.transparent&&!this.blendFunc.src&&(this.gl.renderer.premultipliedAlpha?this.setBlendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.setBlendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA));const h=t.createShader(t.VERTEX_SHADER);t.shaderSource(h,e),t.compileShader(h),""!==t.getShaderInfoLog(h)&&console.warn(`${t.getShaderInfoLog(h)}\nVertex Shader\n${ha(e)}`);const c=t.createShader(t.FRAGMENT_SHADER);if(t.shaderSource(c,i),t.compileShader(c),""!==t.getShaderInfoLog(c)&&console.warn(`${t.getShaderInfoLog(c)}\nFragment Shader\n${ha(i)}`),this.program=t.createProgram(),t.attachShader(this.program,h),t.attachShader(this.program,c),t.linkProgram(this.program),!t.getProgramParameter(this.program,t.LINK_STATUS))return console.warn(t.getProgramInfoLog(this.program));t.deleteShader(h),t.deleteShader(c),this.uniformLocations=new Map;let d=t.getProgramParameter(this.program,t.ACTIVE_UNIFORMS);for(let e=0;e<d;e++){let i=t.getActiveUniform(this.program,e);this.uniformLocations.set(i,t.getUniformLocation(this.program,i.name));const n=i.name.match(/(\w+)/g);i.uniformName=n[0],3===n.length?(i.isStructArray=!0,i.structIndex=Number(n[1]),i.structProperty=n[2]):2===n.length&&isNaN(Number(n[1]))&&(i.isStruct=!0,i.structProperty=n[1])}this.attributeLocations=new Map;const p=[],f=t.getProgramParameter(this.program,t.ACTIVE_ATTRIBUTES);for(let e=0;e<f;e++){const i=t.getActiveAttrib(this.program,e),n=t.getAttribLocation(this.program,i.name);p[n]=i.name,this.attributeLocations.set(i,n)}this.attributeOrder=p.join("")}setBlendFunc(t,e,i,n){this.blendFunc.src=t,this.blendFunc.dst=e,this.blendFunc.srcAlpha=i,this.blendFunc.dstAlpha=n,t&&(this.transparent=!0)}setBlendEquation(t,e){this.blendEquation.modeRGB=t,this.blendEquation.modeAlpha=e}applyState(){this.depthTest?this.gl.renderer.enable(this.gl.DEPTH_TEST):this.gl.renderer.disable(this.gl.DEPTH_TEST),this.cullFace?this.gl.renderer.enable(this.gl.CULL_FACE):this.gl.renderer.disable(this.gl.CULL_FACE),this.blendFunc.src?this.gl.renderer.enable(this.gl.BLEND):this.gl.renderer.disable(this.gl.BLEND),this.cullFace&&this.gl.renderer.setCullFace(this.cullFace),this.gl.renderer.setFrontFace(this.frontFace),this.gl.renderer.setDepthMask(this.depthWrite),this.gl.renderer.setDepthFunc(this.depthFunc),this.blendFunc.src&&this.gl.renderer.setBlendFunc(this.blendFunc.src,this.blendFunc.dst,this.blendFunc.srcAlpha,this.blendFunc.dstAlpha),this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB,this.blendEquation.modeAlpha)}use({flipFaces:t=!1}={}){let e=-1;this.gl.renderer.currentProgram===this.id||(this.gl.useProgram(this.program),this.gl.renderer.currentProgram=this.id),this.uniformLocations.forEach((t,i)=>{let n=i.uniformName,s=this.uniforms[n];if(i.isStruct&&(s=s[i.structProperty],n+="."+i.structProperty),i.isStructArray&&(s=s[i.structIndex][i.structProperty],n+=`[${i.structIndex}].${i.structProperty}`),!s)return da(`Active uniform ${n} has not been supplied`);if(s&&void 0===s.value)return da(n+" uniform is missing a value parameter");if(s.value.texture)return e+=1,s.value.update(e),ua(this.gl,i.type,t,e);if(s.value.length&&s.value[0].texture){const n=[];return s.value.forEach(t=>{e+=1,t.update(e),n.push(e)}),ua(this.gl,i.type,t,n)}ua(this.gl,i.type,t,s.value)}),this.applyState(),t&&this.gl.renderer.setFrontFace(this.frontFace===this.gl.CCW?this.gl.CW:this.gl.CCW)}remove(){this.gl.deleteProgram(this.program)}}function ua(t,e,i,n){n=n.length?function(t){const e=t.length,i=t[0].length;if(void 0===i)return t;const n=e*i;let s=aa[n];s||(aa[n]=s=new Float32Array(n));for(let n=0;n<e;n++)s.set(t[n],n*i);return s}(n):n;const s=t.renderer.state.uniformLocations.get(i);if(n.length)if(void 0===s||s.length!==n.length)t.renderer.state.uniformLocations.set(i,n.slice(0));else{if(function(t,e){if(t.length!==e.length)return!1;for(let i=0,n=t.length;i<n;i++)if(t[i]!==e[i])return!1;return!0}(s,n))return;s.set?s.set(n):function(t,e){for(let i=0,n=t.length;i<n;i++)t[i]=e[i]}(s,n),t.renderer.state.uniformLocations.set(i,s)}else{if(s===n)return;t.renderer.state.uniformLocations.set(i,n)}switch(e){case 5126:return n.length?t.uniform1fv(i,n):t.uniform1f(i,n);case 35664:return t.uniform2fv(i,n);case 35665:return t.uniform3fv(i,n);case 35666:return t.uniform4fv(i,n);case 35670:case 5124:case 35678:case 35680:return n.length?t.uniform1iv(i,n):t.uniform1i(i,n);case 35671:case 35667:return t.uniform2iv(i,n);case 35672:case 35668:return t.uniform3iv(i,n);case 35673:case 35669:return t.uniform4iv(i,n);case 35674:return t.uniformMatrix2fv(i,!1,n);case 35675:return t.uniformMatrix3fv(i,!1,n);case 35676:return t.uniformMatrix4fv(i,!1,n)}}function ha(t){let e=t.split("\n");for(let t=0;t<e.length;t++)e[t]=t+1+": "+e[t];return e.join("\n")}let ca=0;function da(t){ca>100||(console.warn(t),ca++,ca>100&&console.warn("More than 100 program warnings - stopping logs."))}class pa extends Array{constructor(t=0,e=t,i=t,n=t){return super(t,e,i,n),this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(t){this[0]=t}set y(t){this[1]=t}set z(t){this[2]=t}set w(t){this[3]=t}set(t,e,i,n){return t.length?this.copy(t):(Po(this,t,e,i,n),this)}copy(t){return So(this,t),this}normalize(){return Oo(this,this),this}fromArray(t,e=0){return this[0]=t[e],this[1]=t[e+1],this[2]=t[e+2],this[3]=t[e+3],this}toArray(t=[],e=0){return t[e]=this[0],t[e+1]=this[1],t[e+2]=this[2],t[e+3]=this[3],t}}function fa(t,e,i){let n=e[0],s=e[1],r=e[2],o=e[3],a=e[4],l=e[5],u=e[6],h=e[7],c=e[8],d=i[0],p=i[1],f=i[2],m=i[3],g=i[4],y=i[5],v=i[6],b=i[7],D=i[8];return t[0]=d*n+p*o+f*u,t[1]=d*s+p*a+f*h,t[2]=d*r+p*l+f*c,t[3]=m*n+g*o+y*u,t[4]=m*s+g*a+y*h,t[5]=m*r+g*l+y*c,t[6]=v*n+b*o+D*u,t[7]=v*s+b*a+D*h,t[8]=v*r+b*l+D*c,t}class ma extends Array{constructor(t=1,e=0,i=0,n=0,s=1,r=0,o=0,a=0,l=1){return super(t,e,i,n,s,r,o,a,l),this}set(t,e,i,n,s,r,o,a,l){return t.length?this.copy(t):(function(t,e,i,n,s,r,o,a,l,u){t[0]=e,t[1]=i,t[2]=n,t[3]=s,t[4]=r,t[5]=o,t[6]=a,t[7]=l,t[8]=u}(this,t,e,i,n,s,r,o,a,l),this)}translate(t,e=this){return function(t,e,i){let n=e[0],s=e[1],r=e[2],o=e[3],a=e[4],l=e[5],u=e[6],h=e[7],c=e[8],d=i[0],p=i[1];t[0]=n,t[1]=s,t[2]=r,t[3]=o,t[4]=a,t[5]=l,t[6]=d*n+p*o+u,t[7]=d*s+p*a+h,t[8]=d*r+p*l+c}(this,e,t),this}rotate(t,e=this){return function(t,e,i){let n=e[0],s=e[1],r=e[2],o=e[3],a=e[4],l=e[5],u=e[6],h=e[7],c=e[8],d=Math.sin(i),p=Math.cos(i);t[0]=p*n+d*o,t[1]=p*s+d*a,t[2]=p*r+d*l,t[3]=p*o-d*n,t[4]=p*a-d*s,t[5]=p*l-d*r,t[6]=u,t[7]=h,t[8]=c}(this,e,t),this}scale(t,e=this){return function(t,e,i){let n=i[0],s=i[1];t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=s*e[3],t[4]=s*e[4],t[5]=s*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8]}(this,e,t),this}multiply(t,e){return e?fa(this,t,e):fa(this,this,t),this}identity(){var t;return(t=this)[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,this}copy(t){var e,i;return i=t,(e=this)[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],this}fromMatrix4(t){var e,i;return i=t,(e=this)[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[4],e[4]=i[5],e[5]=i[6],e[6]=i[8],e[7]=i[9],e[8]=i[10],this}fromQuaternion(t){return function(t,e){let i=e[0],n=e[1],s=e[2],r=e[3],o=i+i,a=n+n,l=s+s,u=i*o,h=n*o,c=n*a,d=s*o,p=s*a,f=s*l,m=r*o,g=r*a,y=r*l;t[0]=1-c-f,t[3]=h-y,t[6]=d+g,t[1]=h+y,t[4]=1-u-f,t[7]=p-m,t[2]=d-g,t[5]=p+m,t[8]=1-u-c}(this,t),this}fromBasis(t,e,i){return this.set(t[0],t[1],t[2],e[0],e[1],e[2],i[0],i[1],i[2]),this}inverse(t=this){return function(t,e){let i=e[0],n=e[1],s=e[2],r=e[3],o=e[4],a=e[5],l=e[6],u=e[7],h=e[8],c=h*o-a*u,d=-h*r+a*l,p=u*r-o*l,f=i*c+n*d+s*p;f&&(f=1/f,t[0]=c*f,t[1]=(-h*n+s*u)*f,t[2]=(a*n-s*o)*f,t[3]=d*f,t[4]=(h*i-s*l)*f,t[5]=(-a*i+s*r)*f,t[6]=p*f,t[7]=(-u*i+n*l)*f,t[8]=(o*i-n*r)*f)}(this,t),this}getNormalMatrix(t){return function(t,e){let i=e[0],n=e[1],s=e[2],r=e[3],o=e[4],a=e[5],l=e[6],u=e[7],h=e[8],c=e[9],d=e[10],p=e[11],f=e[12],m=e[13],g=e[14],y=e[15],v=i*a-n*o,b=i*l-s*o,D=i*u-r*o,w=n*l-s*a,_=n*u-r*a,E=s*u-r*l,x=h*m-c*f,C=h*g-d*f,T=h*y-p*f,k=c*g-d*m,A=c*y-p*m,M=d*y-p*g,F=v*M-b*A+D*k+w*T-_*C+E*x;F&&(F=1/F,t[0]=(a*M-l*A+u*k)*F,t[1]=(l*T-o*M-u*C)*F,t[2]=(o*A-a*T+u*x)*F,t[3]=(s*A-n*M-r*k)*F,t[4]=(i*M-s*T+r*C)*F,t[5]=(n*T-i*A-r*x)*F,t[6]=(m*E-g*_+y*w)*F,t[7]=(g*D-f*E-y*b)*F,t[8]=(f*_-m*D+y*v)*F)}(this,t),this}}let ga=0;class ya extends Xo{constructor(t,{geometry:e,program:i,mode:n=t.TRIANGLES,frustumCulled:s=!0,renderOrder:r=0}={}){super(),t.canvas||console.error("gl not passed as first argument to Mesh"),this.gl=t,this.id=ga++,this.geometry=e,this.program=i,this.mode=n,this.frustumCulled=s,this.renderOrder=r,this.modelViewMatrix=new Uo,this.normalMatrix=new ma,this.beforeRenderCallbacks=[],this.afterRenderCallbacks=[]}onBeforeRender(t){return this.beforeRenderCallbacks.push(t),this}onAfterRender(t){return this.afterRenderCallbacks.push(t),this}draw({camera:t}={}){this.beforeRenderCallbacks.forEach(e=>e&&e({mesh:this,camera:t})),t&&(this.program.uniforms.modelMatrix||Object.assign(this.program.uniforms,{modelMatrix:{value:null},viewMatrix:{value:null},modelViewMatrix:{value:null},normalMatrix:{value:null},projectionMatrix:{value:null},cameraPosition:{value:null}}),this.program.uniforms.projectionMatrix.value=t.projectionMatrix,this.program.uniforms.cameraPosition.value=t.worldPosition,this.program.uniforms.viewMatrix.value=t.viewMatrix,this.modelViewMatrix.multiply(t.viewMatrix,this.worldMatrix),this.normalMatrix.getNormalMatrix(this.modelViewMatrix),this.program.uniforms.modelMatrix.value=this.worldMatrix,this.program.uniforms.modelViewMatrix.value=this.modelViewMatrix,this.program.uniforms.normalMatrix.value=this.normalMatrix);let e=this.program.cullFace&&this.worldMatrix.determinant()<0;this.program.use({flipFaces:e}),this.geometry.draw({mode:this.mode,program:this.program}),this.afterRenderCallbacks.forEach(e=>e&&e({mesh:this,camera:t}))}}function va(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var ba=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,"run","resize","updateSceneElements");var e=b.body.dataset.bg;this.colors=JSON.parse("[".concat(e,"]")),this.view={left:b.vw/-2,right:b.vw/2,bottom:b.vh/-2,top:b.vh/2},this.state={current:0,threshold:100,isResizing:!1,clock:0},this.time=0,this.init()}var e,i,n;return e=t,(i=[{key:"createScene",value:function(){this.renderer=new xo({dpr:2,alpha:!0,depth:!1}),this.gl=this.renderer.gl,this.gl.clearColor(1,1,1,0),document.body.appendChild(this.gl.canvas),this.mouse=new Fo(0,0),Zn.from(this.gl.canvas,{duration:.5,autoAlpha:0})}},{key:"createCamera",value:function(){this.camera=new Ko(this.gl,{fov:35}),this.camera.position.set(0,0,5),this.camera.lookAt([0,0,0]),this.scene=new Xo}},{key:"getPlanes",value:function(){var t=this;this.data=s("[data-plane]",b.page),0!==this.data.length&&(this.planes=[],this.data.forEach((function(e,i){var n=[],s=e.nextElementSibling,r=e.parentNode;n.el=e,n.bounds=h(e),n.texture=new ta(t.gl,{generateMipmaps:!1,minFilter:t.gl.LINEAR}),n.bounds.speed=r.dataset.speed||1;var o=new Image;"data-texture"!==s.dataset.texture&&(o.crossOrigin="*",o.src=s.dataset.texture,o.decode().then((function(){n.texture.image=o,n.program.uniforms.uSize.value.x=o.naturalWidth,n.program.uniforms.uSize.value.y=o.naturalHeight,Zn.to(e,{duration:.5,backgroundColor:"rgba(0,0,0,0)"})}))),n.geo=new ra(t.gl,{widthSegments:32,heightSegments:32}),n.program=new la(t.gl,{vertex:uo,fragment:"\nprecision mediump float;\nuniform sampler2D uTexture;\n//uniform float uDiff;\nuniform float uScale;\nuniform float uAlpha;\nuniform float uScaleChange;\nvarying vec2 vUv;\n\nvoid main() {\n  vec2 uv = vUv;\n\n  vec2 center = vec2(0.5);\n  vec2 texScale = (uv - center) * (uScale * uScaleChange ) + center;    \n  vec3 tex = texture2D(uTexture, texScale ).xyz;\n\n  gl_FragColor = vec4(vec3(tex), uAlpha);\n}\n",transparent:!0,uniforms:{uTexture:{value:n.texture},uTime:{value:0},uDiff:{value:0},uScale:{value:0},uAlpha:{value:0},uScaleChange:{value:.9},res:{value:new pa(b.vw,b.vh,1,1)},uOffset:{value:new Fo(0,0)},uSize:{value:new Fo(0,0)}}}),n.mesh=new ya(t.gl,{geometry:n.geo,program:n.program}),n.scale=g(n,t.camera,b.vw/b.vh);var a=y(n),l=v(n);n.mesh.scale.set(n.scale.size.x,n.scale.size.y,1),n.mesh.position.set(a.x,l.y,1),n.mesh.setParent(t.scene),t.planes.push(n)})))}},{key:"movePlanes",value:function(){if(this.planes&&0!==this.planes.length)for(var t,e,i,n=this.state,s=this.planes.length-1,r=0,o=0;o<=s;o++){var a=this.planes[o],l=a.mesh,u=a.bounds,h=a.program;if(!l)return;if(this.isVisible(u)||n.isResizing){var c=v(this.planes[o],-n.current);r=n.diff>=0?n.diff>2.5?2.5:n.diff:n.diff<-2.5?-2.5:n.diff,h.uniforms.uDiff.value=r;var d=(t=this.state.current,e=u.top-b.vh,i=u.bottom,(t-e)/(i-e));d=f(1,1.2,.5*d),h.uniforms.uScale.value=d,l.position.y=-c.y*u.speed}}}},{key:"isVisible",value:function(t){var e=t.top,i=t.bottom,n=(t.speed,this.state.current),s=e-1.6*b.vh,r=i+b.vh/1.6,o=n>s&&n<r;return o}},{key:"background",value:function(){var t=this.colors[0],e=this.colors[1],i=this.colors[2],n=new ra(this.gl,{widthSegments:32,heightSegments:32});this.program=new la(this.gl,{vertex:uo,fragment:"\n  precision highp float;\n  uniform float uTime;\n  uniform sampler2D uTex;\n  uniform vec4 uRes;\n  uniform vec3 uColorA;\n  uniform vec3 uColorB;\n  uniform vec3 uColorC;\n  varying vec2 vUv;\n\n  vec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}\n  vec4 taylorInvSqrt(vec4 r){return 1.79284291400159 - 0.85373472095314 * r;}\n  vec3 fade(vec3 t) {return t*t*t*(t*(t*6.0-15.0)+10.0);}\n\n  vec3 mod289(vec3 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }\n  vec2 mod289(vec2 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }\n  vec3 permute(vec3 x) { return mod289(((x*34.0)+1.0)*x); }\n\n\n  float cnoise(vec3 P){\n    vec3 Pi0 = floor(P); // Integer part for indexing\n    vec3 Pi1 = Pi0 + vec3(1.0); // Integer part + 1\n    Pi0 = mod(Pi0, 289.0);\n    Pi1 = mod(Pi1, 289.0);\n    vec3 Pf0 = fract(P); // Fractional part for interpolation\n    vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0\n    vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\n    vec4 iy = vec4(Pi0.yy, Pi1.yy);\n    vec4 iz0 = Pi0.zzzz;\n    vec4 iz1 = Pi1.zzzz;\n\n    vec4 ixy = permute(permute(ix) + iy);\n    vec4 ixy0 = permute(ixy + iz0);\n    vec4 ixy1 = permute(ixy + iz1);\n\n    vec4 gx0 = ixy0 / 7.0;\n    vec4 gy0 = fract(floor(gx0) / 7.0) - 0.5;\n    gx0 = fract(gx0);\n    vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);\n    vec4 sz0 = step(gz0, vec4(0.0));\n    gx0 -= sz0 * (step(0.0, gx0) - 0.5);\n    gy0 -= sz0 * (step(0.0, gy0) - 0.5);\n\n    vec4 gx1 = ixy1 / 7.0;\n    vec4 gy1 = fract(floor(gx1) / 7.0) - 0.5;\n    gx1 = fract(gx1);\n    vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);\n    vec4 sz1 = step(gz1, vec4(0.0));\n    gx1 -= sz1 * (step(0.0, gx1) - 0.5);\n    gy1 -= sz1 * (step(0.0, gy1) - 0.5);\n\n    vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);\n    vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);\n    vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);\n    vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);\n    vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);\n    vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);\n    vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);\n    vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);\n\n    vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));\n    g000 *= norm0.x;\n    g010 *= norm0.y;\n    g100 *= norm0.z;\n    g110 *= norm0.w;\n    vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));\n    g001 *= norm1.x;\n    g011 *= norm1.y;\n    g101 *= norm1.z;\n    g111 *= norm1.w;\n\n    float n000 = dot(g000, Pf0);\n    float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));\n    float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));\n    float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));\n    float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));\n    float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));\n    float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));\n    float n111 = dot(g111, Pf1);\n\n    vec3 fade_xyz = fade(Pf0);\n    vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);\n    vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);\n    float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x); \n    return 2.2 * n_xyz;\n  }\n\n  vec3 rgb2color(vec3 rgb) {\n  \n    float max = 255.;\n    vec3 color = vec3( rgb.x / max, rgb.y / max, rgb.z / max);\n    return color;\n  }\n  \n\n  void main() {\n\n    vec3 colorA =  rgb2color(uColorA);\n    vec3 colorB =  rgb2color(uColorB);\n    vec3 colorC =  rgb2color(uColorC);\n\n\n    float noiseFr = 2.0;\n    float noiseAmp = 2.50;\n    float n = cnoise(vec3(vUv.x * 2.0, vUv.y, uTime * 0.2) * noiseFr);\n    n = clamp(n, 0., 1.0);\n    n *= noiseAmp;\n\n\n    // V2\n    vec3 color = colorA;\n    color = mix(color, colorB, sin(uTime * 0.3) );\n    color = mix(color, colorC, vUv.y );\n    color = mix(color, mix(colorB, colorC, vUv.x), n);\n    \n\n\n  \n    gl_FragColor = vec4(color, 1.);\n  }\n\n",uniforms:{uTime:{value:0},uDiff:{value:0},uRes:{value:new pa(b.vw,b.vh,1,1)},uColorA:{value:new wo(t.r,t.g,t.b)},uColorB:{value:new wo(e.r,e.g,e.b)},uColorC:{value:new wo(i.r,i.g,i.b)}}}),this.backgroundMesh=new ya(this.gl,{geometry:n,program:this.program}),this.backgroundMesh.bounds={},this.backgroundMesh.bounds.width=b.vw,this.backgroundMesh.bounds.height=b.vh;var s=g(this.backgroundMesh,this.camera,b.vw/b.vh);this.backgroundMesh.scale.set(s.size.x,s.size.y,0),this.backgroundMesh.position.set(0,0,1),this.backgroundMesh.setParent(this.scene)}},{key:"run",value:function(t){this.time+=1/60,this.state.current=t.current,this.state.diff=t.diff,this.backgroundMesh&&(this.backgroundMesh.program.uniforms.uTime.value=this.time),this.renderer.render({scene:this.scene,camera:this.camera}),this.movePlanes()}},{key:"getViewSize",value:function(){var t=this.camera.fov*Math.PI/180,e=Math.abs(this.camera.position.z*Math.tan(t/2)*2);return{width:e*this.camera.aspect,height:e}}},{key:"on",value:function(){M.on("tick",this.run),M.on("GlobalResize",this.resize),M.on("smooth:resize",this.updateSceneElements)}},{key:"off",value:function(){M.off("tick",this.run),M.off("GlobalResize",this.resize),M.off("smooth:resize",this.updateSceneElements)}},{key:"resize",value:function(){this.state.isResizing=!0,this.camera.perspective({aspect:this.gl.canvas.width/this.gl.canvas.height}),this.renderer.setSize(b.vw,b.vh),this.state.isResizing=!1}},{key:"updatePlanes",value:function(){if(this.planes)for(var t=this.state,e=this.planes.length-1,i=0;i<=e;i++){var n=this.planes[i],s=this.planes[i],r=s.el,o=(s.mesh,r.parentNode);if(this.planes[i].bounds=h(r),this.planes[i].bounds.speed=o.dataset.speed||1,0===this.planes[i].bounds.x&&0===this.planes[i].bounds.y)return;n.scale=g(this.planes[i],this.camera,b.vw/b.vh),this.planes[i].mesh.scale.set(this.planes[i].scale.size.x,this.planes[i].scale.size.y,0);var a=y(this.planes[i]),l=v(this.planes[i],-t.current);n.mesh.position.x=a.x,n.mesh.position.y=-l.y}}},{key:"updateBackground",value:function(){var t=g(this.backgroundMesh,this.camera,b.vw/b.vh);this.backgroundMesh.bounds.width=b.vw,this.backgroundMesh.bounds.height=b.vh,this.backgroundMesh.scale.set(t.size.x,t.size.y,0),this.backgroundMesh.position.set(0,0,1)}},{key:"updateSceneElements",value:function(){this.updateBackground(),this.updatePlanes()}},{key:"showPlanes",value:function(){if(this.planes)for(var t=this.planes.length-1,e=0;e<=t;e++){var i=this.planes[e].program;Zn.to(i.uniforms.uAlpha,{duration:1,value:1,ease:"power2.in"})}}},{key:"hidePlanes",value:function(){if(this.planes)for(var t=this.planes.length-1,e=0;e<=t;e++){var i=this.planes[e].program;Zn.to(i.uniforms.uAlpha,{duration:1,value:0,ease:"power3.inOut"})}}},{key:"destroy",value:function(){var t=this;this.planes&&(0!==this.planes.length&&this.planes.forEach((function(e){t.scene.removeChild(e.mesh)})),this.planes=[],this.data=null)}},{key:"init",value:function(){this.createScene(),this.createCamera(),this.background(),this.on(),this.resize()}}])&&va(e.prototype,i),n&&va(e,n),t}(),Da=i(6),wa=i.n(Da),_a=i(1),Ea=i.n(_a);function xa(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Ea.a.cfg.lazyClass="lazy",Ea.a.cfg.loadedClass="loaded",new(function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),console.log("%c".concat(b.title," \nMade with ❤️ by ").concat(b.author," \n↳ https://twitter.com/mariosmaselli"),"color: #6a6a6a");var i=new wa.a("PolySans-Neutral",1e4);b.highway=new lo,b.raf=new ts,b.mouse=new os,b.scroll=new cs({smooth:p.sniff.isDesktop}),b.resize=new ss,b.resize.on(),i.load().then((function(t){e.onload()})).catch((function(t){e.onload()})),b.raf.on(),b.scroll.on(),b.mouse.on(),b.sniff.isDevice||(b.ogl=new ba)}var e,i,n;return e=t,(i=[{key:"onload",value:function(){b.resize.onResize()}},{key:"init",value:function(){}}])&&xa(e.prototype,i),n&&xa(e,n),t}())}]);